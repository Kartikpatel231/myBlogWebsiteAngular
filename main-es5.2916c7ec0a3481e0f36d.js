function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}/*! For license information please see main-es2015.2916c7ec0a3481e0f36d.js.LICENSE.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"3Kre":function(e,t,n){"use strict";n.r(t),n.d(t,"factory",(function(){return D})),n.d(t,"getGlobalVars",(function(){return P})),n.d(t,"registerAnalytics",(function(){return M})),n.d(t,"resetGlobalVars",(function(){return x})),n.d(t,"settings",(function(){return R}));var r,i=n("mrSG"),o=n("wj3C"),a=n.n(o),s=(n("fSjL"),n("q/0M")),u=n("zVF4"),l=n("S+S0"),c="https://www.googletagmanager.com/gtag/js",h=function(e){return e.EVENT="event",e.SET="set",e.CONFIG="config",e}({}),f=function(e){return e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results",e}({}),d=new s.Logger("@firebase/analytics");function p(e,t,n,r,o,a){return Object(i.__awaiter)(this,void 0,void 0,(function(){var s,u,l,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:s=r[o],i.label=1;case 1:return i.trys.push([1,7,,8]),s?[4,t[s]]:[3,3];case 2:return i.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=i.sent(),(l=u.find((function(e){return e.measurementId===o})))?[4,t[l.appId]]:[3,6];case 5:i.sent(),i.label=6;case 6:return[3,8];case 7:return c=i.sent(),d.error(c),[3,8];case 8:return e(h.CONFIG,o,a),[2]}}))}))}function v(e,t,n,r,o){return Object(i.__awaiter)(this,void 0,void 0,(function(){var a,s,u,l,c,f,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),a=[],o&&o.send_to?(s=o.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(u=i.sent(),l=function(e){var n=u.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return a=[],"break";a.push(r)},c=0,f=s;c<f.length&&"break"!==l(f[c]);c++);i.label=2;case 2:return 0===a.length&&(a=Object.values(t)),[4,Promise.all(a)];case 3:return i.sent(),e(h.EVENT,r,o||{}),[3,5];case 4:return p=i.sent(),d.error(p),[3,5];case 5:return[2]}}))}))}var g=((r={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",r["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",r["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",r["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",r["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",r["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",r["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",r["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',r["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',r),y=new u.ErrorFactory("analytics","Analytics",g),m=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function _(e){var t;return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return n=e.appId,r={method:"GET",headers:(l=e.apiKey,new Headers({Accept:"application/json","x-goog-api-key":l}))},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,r)];case 1:if(200===(a=i.sent()).status||304===a.status)return[3,6];s="",i.label=2;case 2:return i.trys.push([2,4,,5]),[4,a.json()];case 3:return u=i.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return i.sent(),[3,5];case 5:throw y.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}var l}))}))}function b(e,t,n,r){var o=t.throttleEndTimeMillis,a=t.backoffCount;return void 0===r&&(r=m),Object(i.__awaiter)(this,void 0,void 0,(function(){var t,s,l,c,h,f,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:t=e.appId,s=e.measurementId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,w(n,o)];case 2:return i.sent(),[3,4];case 3:if(l=i.sent(),s)return d.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:t,measurementId:s}];throw l;case 4:return i.trys.push([4,6,,7]),[4,_(e)];case 5:return c=i.sent(),r.deleteThrottleMetadata(t),[2,c];case 6:if(!function(e){if(!(e instanceof u.FirebaseError))return!1;var t=Number(e.httpStatus);return 429===t||500===t||503===t||504===t}(h=i.sent())){if(r.deleteThrottleMetadata(t),s)return d.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+h.message+"]"),[2,{appId:t,measurementId:s}];throw h}return f=503===Number(h.httpStatus)?Object(u.calculateBackoffMillis)(a,r.intervalMillis,30):Object(u.calculateBackoffMillis)(a,r.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:a+1},r.setThrottleMetadata(t,p),d.debug("Calling attemptFetch again in "+f+" millis"),[2,b(e,p,n,r)];case 7:return[2]}}))}))}function w(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(y.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var C,k,E=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),S={},I=[],T={},A="dataLayer",N="gtag",O=!1;function x(e,t,n){void 0===e&&(e=!1),void 0===t&&(t={}),void 0===n&&(n=[]),O=e,S=t,I=n,A="dataLayer",N="gtag"}function P(){return{initializationPromisesMap:S,dynamicConfigPromisesList:I}}function R(e){if(O)throw y.create("already-initialized");e.dataLayerName&&(A=e.dataLayerName),e.gtagName&&(N=e.gtagName)}function D(e,t){!function(){var e=[];if(Object(u.isBrowserExtension)()&&e.push("This is a browser extension environment."),Object(u.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=y.create("invalid-analytics-context",{errorInfo:t});d.warn(n.message)}}();var n=e.options.appId;if(!n)throw y.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw y.create("no-api-key");d.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=S[n])throw y.create("already-exists",{id:n});if(!O){(function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(c))return r}return null})()||function(e){var t=document.createElement("script");t.src=c+"?l="+e,t.async=!0,document.head.appendChild(t)}(A),function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(A);var r=function(e,t,n,r,o){var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(a=window[o]),window[o]=function(e,t,n,r){return function(o,a,s){return Object(i.__awaiter)(this,void 0,void 0,(function(){var u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),o!==h.EVENT?[3,2]:[4,v(e,t,n,a,s)];case 1:return i.sent(),[3,5];case 2:return o!==h.CONFIG?[3,4]:[4,p(e,t,n,r,a,s)];case 3:return i.sent(),[3,5];case 4:e(h.SET,a),i.label=5;case 5:return[3,7];case 6:return u=i.sent(),d.error(u),[3,7];case 7:return[2]}}))}))}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[o]}}(S,I,T,A,N);k=r.wrappedGtag,C=r.gtagCore,O=!0}return S[n]=function(e,t,n,r,o){return Object(i.__awaiter)(this,void 0,void 0,(function(){var a,s,l,c,f,p,v;return Object(i.__generator)(this,(function(g){switch(g.label){case 0:return(a=function(e,t,n){return void 0===t&&(t=m),Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u,l=this;return Object(i.__generator)(this,(function(c){if(o=(n=e.options).apiKey,a=n.measurementId,!(r=n.appId))throw y.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:r}];throw y.create("no-api-key")}return s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new E,setTimeout((function(){return Object(i.__awaiter)(l,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return u.abort(),[2]}))}))}),6e4),[2,b({appId:r,apiKey:o,measurementId:a},s,u,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&d.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return d.error(e)})),t.push(a),s=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return Object(u.isIndexedDBAvailable)()?[3,1]:(d.warn(y.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),d.warn(y.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return l=g.sent(),c=l[0],f=l[1],o("js",new Date),(v={}).origin="firebase",v.update=!0,p=v,null!=f&&(p.firebase_id=f),o(h.CONFIG,c.measurementId,p),[2,c.measurementId]}}))}))}(e,I,T,t,C),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,o){return Object(i.__awaiter)(this,void 0,void 0,(function(){var a,s;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:return o&&o.global?(e(h.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:a=u.sent(),s=Object(i.__assign)(Object(i.__assign)({},r),{send_to:a}),e(h.EVENT,n,s),u.label=3;case 3:return[2]}}))}))})(k,S[n],e,t,r).catch((function(e){return d.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r&&r.global?(e(h.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=i.sent(),e(h.CONFIG,o,{update:!0,screen_name:n}),i.label=3;case 3:return[2]}}))}))})(k,S[n],e,t).catch((function(e){return d.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r&&r.global?(e(h.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=i.sent(),e(h.CONFIG,o,{update:!0,user_id:n}),i.label=3;case 3:return[2]}}))}))})(k,S[n],e,t).catch((function(e){return d.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!r||!r.global)return[3,1];for(o={},a=0,s=Object.keys(n);a<s.length;a++)o["user_properties."+(u=s[a])]=n[u];return e(h.SET,o),[2,Promise.resolve()];case 1:return[4,t];case 2:l=i.sent(),e(h.CONFIG,l,{update:!0,user_properties:n}),i.label=3;case 3:return[2]}}))}))})(k,S[n],e,t).catch((function(e){return d.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(S[n],e).catch((function(e){return d.error(e)}))},INTERNAL:{delete:function(){return delete S[n],Promise.resolve()}}}}function M(e){e.INTERNAL.registerComponent(new l.Component("analytics",(function(e){return D(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:R,EventName:f,isSupported:L})),e.INTERNAL.registerComponent(new l.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider("analytics").getImmediate().logEvent}}catch(t){throw y.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.0")}function L(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:if(Object(u.isBrowserExtension)())return[2,!1];if(!Object(u.areCookiesEnabled)())return[2,!1];if(!Object(u.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}M(a.a)},"6Joi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("wj3C"),o=n("q/0M"),a=n("zVF4"),s=n("x7I3"),u=n("S+S0"),l=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(i),c={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(t,e),t}(Error),f=new o.Logger("@firebase/firestore");function d(){return f.logLevel}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.DEBUG){var i=t.map(y);f.debug.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+e],i))}}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.ERROR){var i=t.map(y);f.error.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+e],i))}}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.WARN){var i=t.map(y);f.warn.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+e],i))}}function y(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(i){return e}}function m(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+e;throw v(t),new Error(t)}function _(e,t){e||m()}function b(e,t){return e}function w(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function C(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function k(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var E=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&m(),void 0===n?n=e.length-t:n>e.length-t&&m(),this.segments=e,this.offset=t,this.t=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.i(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.o(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.u=function(e){return this.o(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},e.prototype.l=function(){return this.segments[this.offset]},e.prototype._=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.m=function(){return 0===this.length},e.prototype.T=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.I=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},e.i=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.o=function(e,n,r){return new t(e,n,r)},t.prototype.R=function(){return this.A().join("/")},t.prototype.toString=function(){return this.R()},t.g=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new h(c.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.P=function(){return new t([])},t}(E),I=/^[_a-zA-Z][_a-zA-Z0-9]*$/,T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.o=function(e,n,r){return new t(e,n,r)},t.V=function(e){return I.test(e)},t.prototype.R=function(){return this.A().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.V(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.R()},t.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},t.v=function(){return new t(["__name__"])},t.S=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new h(c.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new h(c.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new h(c.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new h(c.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.P=function(){return new t([])},t}(E),A=function(){function e(e){this.path=e}return e.D=function(t){return new e(S.g(t))},e.C=function(t){return new e(S.g(t).u(5))},e.prototype.N=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===S.i(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.i=function(e,t){return S.i(e.path,t.path)},e.F=function(e){return e.length%2==0},e.$=function(t){return new e(new S(t.slice()))},e}();function N(e,t){if(0!==t.length)throw new h(c.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+K(t.length,"argument")+".")}function O(e,t,n){if(t.length!==n)throw new h(c.INVALID_ARGUMENT,"Function "+e+"() requires "+K(n,"argument")+", but was called with "+K(t.length,"argument")+".")}function x(e,t,n){if(t.length<n)throw new h(c.INVALID_ARGUMENT,"Function "+e+"() requires at least "+K(n,"argument")+", but was called with "+K(t.length,"argument")+".")}function P(e,t,n,r){if(t.length<n||t.length>r)throw new h(c.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+K(t.length,"argument")+".")}function R(e,t,n,r){U(e,t,G(n)+" argument",r)}function D(e,t,n,r){void 0!==r&&R(e,t,n,r)}function M(e,t,n,r){U(e,t,n+" option",r)}function L(e,t,n,r){void 0!==r&&M(e,t,n,r)}function F(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(q(u))}var l=q(r);throw new h(c.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function j(e,t,n,r){if(!t.some((function(e){return e===r})))throw new h(c.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+e+"() for its "+G(n)+" argument. Acceptable values: "+t.join(", "));return r}function U(e,t,n,r){if(!("object"===t?V(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=q(r);throw new h(c.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function V(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function q(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":m()}function B(e,t,n){if(void 0===n)throw new h(c.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+G(t)+" argument, but it was undefined.")}function H(e,t,n){C(t,(function(t,r){if(n.indexOf(t)<0)throw new h(c.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function z(e,t,n,r){var i=q(r);return new h(c.INVALID_ARGUMENT,"Function "+e+"() requires its "+G(n)+" argument to be a "+t+", but it was: "+i)}function W(e,t,n){if(n<=0)throw new h(c.INVALID_ARGUMENT,"Function "+e+"() requires its "+G(t)+" argument to be a positive number, but it was: "+n+".")}function G(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function K(e,t){return e+" "+t+(1===e?"":"s")}function Q(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Y=function(){function e(){}return e.k=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Q(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function X(e,t){return e<t?-1:e>t?1:0}function $(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function J(e){return e+"\0"}var Z=function(){function e(e){this.M=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.M)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.M)},e.prototype.O=function(){return 2*this.M.length},e.prototype.L=function(e){return X(this.M,e.M)},e.prototype.isEqual=function(e){return this.M===e.M},e}();Z.B=new Z("");var ee=function(){function e(e){this.q=e}return e.fromBase64String=function(t){try{return new e(Z.fromBase64String(t))}catch(t){throw new h(c.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Z.fromUint8Array(t))},e.prototype.toBase64=function(){return this.q.toBase64()},e.prototype.toUint8Array=function(){return this.q.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this.q.isEqual(e.q)},e}();function te(){if("undefined"==typeof Uint8Array)throw new h(c.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ne(){if("undefined"==typeof atob)throw new h(c.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.fromBase64String=function(e){O("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,e),ne();try{return new t(Z.fromBase64String(e))}catch(e){throw new h(c.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(O("Blob.fromUint8Array",arguments,1),te(),!(e instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,e);return new t(Z.fromUint8Array(e))},t.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),ne(),e.prototype.toBase64.call(this)},t.prototype.toUint8Array=function(){return O("Blob.toUint8Array",arguments,0),te(),e.prototype.toUint8Array.call(this)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(ee),ie=function(e,t,n,r,i,o){this.U=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o},oe=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.L=function(e){return X(this.projectId,e.projectId)||X(this.database,e.database)},e}(),ae=function(){function e(e,t){this.K=e,this.G=t,this.H={}}return e.prototype.get=function(e){var t=this.K(e),n=this.H[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.G(o[0],e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.K(e),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.H[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.K(e),n=this.H[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],e))return 1===n.length?delete this.H[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){C(this.H,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.m=function(){return k(this.H)},e}(),se=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new h(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new h(c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new h(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new h(c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.Y=function(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ue=function(){function e(e){this.timestamp=e}return e.J=function(t){return new e(t)},e.min=function(){return new e(new se(0,0))},e.prototype.L=function(e){return this.timestamp.Y(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.Z=function(){return this.timestamp},e}();function le(e){return null==e}function ce(e){return 0===e&&1/e==-1/0}function he(e){return"number"==typeof e&&Number.isInteger(e)&&!ce(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var fe=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.tt=null};function de(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new fe(e,t,n,r,i,o,a)}function pe(e){var t=b(e);if(null===t.tt){var n=t.path.R();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.R()+e.op.toString()+it(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.R()+t.dir;var t})).join(","),le(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ar(t.startAt)),t.endAt&&(n+="|ub:",n+=ar(t.endAt)),t.tt=n}return t.tt}function ve(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!et(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ur(e.startAt,t.startAt)&&ur(e.endAt,t.endAt)}function ge(e){return A.F(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ye,me,_e=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ue.min()),void 0===o&&(o=ue.min()),void 0===a&&(a=Z.B),this.target=e,this.targetId=t,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.st=function(t){return new e(this.target,this.targetId,this.et,t,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.it=function(t,n){return new e(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.rt=function(t){return new e(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,t,this.resumeToken)},e}(),be=function(e){this.count=e};function we(e){switch(e){case c.OK:return m();case c.CANCELLED:case c.UNKNOWN:case c.DEADLINE_EXCEEDED:case c.RESOURCE_EXHAUSTED:case c.INTERNAL:case c.UNAVAILABLE:case c.UNAUTHENTICATED:return!1;case c.INVALID_ARGUMENT:case c.NOT_FOUND:case c.ALREADY_EXISTS:case c.PERMISSION_DENIED:case c.FAILED_PRECONDITION:case c.ABORTED:case c.OUT_OF_RANGE:case c.UNIMPLEMENTED:case c.DATA_LOSS:return!0;default:return m()}}function Ce(e){if(void 0===e)return v("GRPC error has no .code"),c.UNKNOWN;switch(e){case ye.OK:return c.OK;case ye.CANCELLED:return c.CANCELLED;case ye.UNKNOWN:return c.UNKNOWN;case ye.DEADLINE_EXCEEDED:return c.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return c.RESOURCE_EXHAUSTED;case ye.INTERNAL:return c.INTERNAL;case ye.UNAVAILABLE:return c.UNAVAILABLE;case ye.UNAUTHENTICATED:return c.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return c.INVALID_ARGUMENT;case ye.NOT_FOUND:return c.NOT_FOUND;case ye.ALREADY_EXISTS:return c.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return c.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return c.FAILED_PRECONDITION;case ye.ABORTED:return c.ABORTED;case ye.OUT_OF_RANGE:return c.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return c.UNIMPLEMENTED;case ye.DATA_LOSS:return c.DATA_LOSS;default:return m()}}(me=ye||(ye={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var ke=function(){function e(e,t){this.i=e,this.root=t||Se.EMPTY}return e.prototype.ot=function(t,n){return new e(this.i,this.root.ot(t,n,this.i).copy(null,null,Se.at,null,null))},e.prototype.remove=function(t){return new e(this.i,this.root.remove(t,this.i).copy(null,null,Se.at,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.m();){var n=this.i(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.m();){var r=this.i(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.m=function(){return this.root.m()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.ct=function(){return this.root.ct()},e.prototype.ut=function(){return this.root.ut()},e.prototype.ht=function(e){return this.root.ht(e)},e.prototype.forEach=function(e){this.ht((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.ht((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.lt=function(e){return this.root.lt(e)},e.prototype._t=function(){return new Ee(this.root,null,this.i,!1)},e.prototype.ft=function(e){return new Ee(this.root,e,this.i,!1)},e.prototype.dt=function(){return new Ee(this.root,null,this.i,!0)},e.prototype.wt=function(e){return new Ee(this.root,e,this.i,!0)},e}(),Ee=function(){function e(e,t,n,r){this.Tt=r,this.Et=[];for(var i=1;!e.m();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.Tt?e.left:e.right;else{if(0===i){this.Et.push(e);break}this.Et.push(e),e=this.Tt?e.right:e.left}}return e.prototype.It=function(){var e=this.Et.pop(),t={key:e.key,value:e.value};if(this.Tt)for(e=e.left;!e.m();)this.Et.push(e),e=e.right;else for(e=e.right;!e.m();)this.Et.push(e),e=e.left;return t},e.prototype.At=function(){return this.Et.length>0},e.prototype.Rt=function(){if(0===this.Et.length)return null;var e=this.Et[this.Et.length-1];return{key:e.key,value:e.value}},e}(),Se=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.m=function(){return!1},e.prototype.ht=function(e){return this.left.ht(e)||e(this.key,this.value)||this.right.ht(e)},e.prototype.lt=function(e){return this.right.lt(e)||e(this.key,this.value)||this.left.lt(e)},e.prototype.min=function(){return this.left.m()?this:this.left.min()},e.prototype.ct=function(){return this.min().key},e.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},e.prototype.ot=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.ot(e,t,n))).gt()},e.prototype.Pt=function(){if(this.left.m())return e.EMPTY;var t=this;return t.left.yt()||t.left.left.yt()||(t=t.Vt()),(t=t.copy(null,null,null,t.left.Pt(),null)).gt()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(t,i.key)){if(i.right.m())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.gt()},e.prototype.yt=function(){return this.color},e.prototype.gt=function(){var e=this;return e.right.yt()&&!e.left.yt()&&(e=e.St()),e.left.yt()&&e.left.left.yt()&&(e=e.bt()),e.left.yt()&&e.right.yt()&&(e=e.Dt()),e},e.prototype.Vt=function(){var e=this.Dt();return e.right.left.yt()&&(e=(e=(e=e.copy(null,null,null,null,e.right.bt())).St()).Dt()),e},e.prototype.vt=function(){var e=this.Dt();return e.left.left.yt()&&(e=(e=e.bt()).Dt()),e},e.prototype.St=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.bt=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.Dt=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.Ct=function(){var e=this.Nt();return Math.pow(2,e)<=this.size+1},e.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw m();if(this.right.yt())throw m();var e=this.left.Nt();if(e!==this.right.Nt())throw m();return e+(this.yt()?0:1)},e}();Se.EMPTY=null,Se.RED=!0,Se.at=!1,Se.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw m()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.ot=function(e,t,n){return new Se(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.m=function(){return!0},e.prototype.ht=function(e){return!1},e.prototype.lt=function(e){return!1},e.prototype.ct=function(){return null},e.prototype.ut=function(){return null},e.prototype.yt=function(){return!1},e.prototype.Ct=function(){return!0},e.prototype.Nt=function(){return 0},e}());var Ie=function(){function e(e){this.i=e,this.data=new ke(this.i)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.ct()},e.prototype.last=function(){return this.data.ut()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.ht((function(t,n){return e(t),!1}))},e.prototype.Ft=function(e,t){for(var n=this.data.ft(e[0]);n.At();){var r=n.It();if(this.i(r.key,e[1])>=0)return;t(r.key)}},e.prototype.xt=function(e,t){var n;for(n=void 0!==t?this.data.ft(t):this.data._t();n.At();)if(!e(n.It().key))return},e.prototype.$t=function(e){var t=this.data.ft(e);return t.At()?t.It().key:null},e.prototype._t=function(){return new Te(this.data._t())},e.prototype.ft=function(e){return new Te(this.data.ft(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).ot(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.m=function(){return this.data.m()},e.prototype.kt=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data._t(),r=t.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.i(i,o))return!1}return!0},e.prototype.A=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.i);return n.data=t,n},e}(),Te=function(){function e(e){this.Mt=e}return e.prototype.It=function(){return this.Mt.It().key},e.prototype.At=function(){return this.Mt.At()},e}(),Ae=new ke(A.i);function Ne(){return Ae}function Oe(){return Ne()}var xe=new ke(A.i);function Pe(){return xe}var Re=new ke(A.i),De=new Ie(A.i);function Me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=De,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Le=new Ie(X);function Fe(){return Le}var je=function(){function e(e){this.i=e?function(t,n){return e(t,n)||A.i(t.key,n.key)}:function(e,t){return A.i(e.key,t.key)},this.Ot=Pe(),this.Lt=new ke(this.i)}return e.Bt=function(t){return new e(t.i)},e.prototype.has=function(e){return null!=this.Ot.get(e)},e.prototype.get=function(e){return this.Ot.get(e)},e.prototype.first=function(){return this.Lt.ct()},e.prototype.last=function(){return this.Lt.ut()},e.prototype.m=function(){return this.Lt.m()},e.prototype.indexOf=function(e){var t=this.Ot.get(e);return t?this.Lt.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.Lt.ht((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.Ot.ot(e.key,e),t.Lt.ot(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.Ot.remove(e),this.Lt.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.Lt._t(),r=t.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.i=this.i,r.Ot=t,r.Lt=n,r},e}(),Ue=function(){function e(){this.qt=new ke(A.i)}return e.prototype.track=function(e){var t=e.doc.key,n=this.qt.get(t);n?0!==e.type&&3===n.type?this.qt=this.qt.ot(t,e):3===e.type&&1!==n.type?this.qt=this.qt.ot(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.qt=this.qt.ot(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.qt=this.qt.ot(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.qt=this.qt.remove(t):1===e.type&&2===n.type?this.qt=this.qt.ot(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.qt=this.qt.ot(t,{type:2,doc:e.doc}):m():this.qt=this.qt.ot(t,e)},e.prototype.Ut=function(){var e=[];return this.qt.ht((function(t,n){e.push(n)})),e},e}(),Ve=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=a,this.Kt=s}return e.Gt=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,je.Bt(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.jt===e.jt&&this.Wt.isEqual(e.Wt)&&Wn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Qt.isEqual(e.Qt)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),qe=function(){function e(e,t,n,r,i){this.nt=e,this.zt=t,this.Ht=n,this.Yt=r,this.Jt=i}return e.Xt=function(t,n){var r=new Map;return r.set(t,Be.Zt(t,n)),new e(ue.min(),r,Fe(),Ne(),Me())},e}(),Be=function(){function e(e,t,n,r,i){this.resumeToken=e,this.te=t,this.ee=n,this.ne=r,this.se=i}return e.Zt=function(t,n){return new e(Z.B,n,Me(),Me(),Me())},e}(),He=function(e,t,n,r){this.ie=e,this.removedTargetIds=t,this.key=n,this.re=r},ze=function(e,t){this.targetId=e,this.oe=t},We=function(e,t,n,r){void 0===n&&(n=Z.B),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Ge=function(){function e(){this.ae=0,this.ce=Ye(),this.ue=Z.B,this.he=!1,this.le=!0}return Object.defineProperty(e.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),e.prototype.de=function(e){e.O()>0&&(this.le=!0,this.ue=e)},e.prototype.we=function(){var e=Me(),t=Me(),n=Me();return this.ce.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:m()}})),new Be(this.ue,this.he,e,t,n)},e.prototype.me=function(){this.le=!1,this.ce=Ye()},e.prototype.Te=function(e,t){this.le=!0,this.ce=this.ce.ot(e,t)},e.prototype.Ee=function(e){this.le=!0,this.ce=this.ce.remove(e)},e.prototype.Ie=function(){this.ae+=1},e.prototype.Ae=function(){this.ae-=1},e.prototype.Re=function(){this.le=!0,this.he=!0},e}(),Ke=function(){function e(e){this.ge=e,this.Pe=new Map,this.ye=Ne(),this.Ve=Qe(),this.pe=new Ie(X)}return e.prototype.be=function(e){for(var t=0,n=e.ie;t<n.length;t++){var r=n[t];e.re instanceof Nn?this.ve(r,e.re):e.re instanceof On&&this.Se(r,e.key,e.re)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.Se(o[i],e.key,e.re)},e.prototype.De=function(e){var t=this;this.Ce(e,(function(n){var r=t.Ne(n);switch(e.state){case 0:t.Fe(n)&&r.de(e.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(e.resumeToken);break;case 2:r.Ae(),r._e||t.removeTarget(n);break;case 3:t.Fe(n)&&(r.Re(),r.de(e.resumeToken));break;case 4:t.Fe(n)&&(t.xe(n),r.de(e.resumeToken));break;default:m()}}))},e.prototype.Ce=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Pe.forEach((function(e,r){n.Fe(r)&&t(r)}))},e.prototype.$e=function(e){var t=e.targetId,n=e.oe.count,r=this.ke(t);if(r){var i=r.target;if(ge(i))if(0===n){var o=new A(i.path);this.Se(t,o,new On(o,ue.min()))}else _(1===n);else this.Me(t)!==n&&(this.xe(t),this.pe=this.pe.add(t))}},e.prototype.Oe=function(e){var t=this,n=new Map;this.Pe.forEach((function(r,i){var o=t.ke(i);if(o){if(r.te&&ge(o.target)){var a=new A(o.target.path);null!==t.ye.get(a)||t.Le(i,a)||t.Se(i,a,new On(a,e))}r.fe&&(n.set(i,r.we()),r.me())}}));var r=Me();this.Ve.forEach((function(e,n){var i=!0;n.xt((function(e){var n=t.ke(e);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new qe(e,n,this.pe,this.ye,r);return this.ye=Ne(),this.Ve=Qe(),this.pe=new Ie(X),i},e.prototype.ve=function(e,t){if(this.Fe(e)){var n=this.Le(e,t.key)?2:0;this.Ne(e).Te(t.key,n),this.ye=this.ye.ot(t.key,t),this.Ve=this.Ve.ot(t.key,this.Be(t.key).add(e))}},e.prototype.Se=function(e,t,n){if(this.Fe(e)){var r=this.Ne(e);this.Le(e,t)?r.Te(t,1):r.Ee(t),this.Ve=this.Ve.ot(t,this.Be(t).delete(e)),n&&(this.ye=this.ye.ot(t,n))}},e.prototype.removeTarget=function(e){this.Pe.delete(e)},e.prototype.Me=function(e){var t=this.Ne(e).we();return this.ge.qe(e).size+t.ee.size-t.se.size},e.prototype.Ie=function(e){this.Ne(e).Ie()},e.prototype.Ne=function(e){var t=this.Pe.get(e);return t||(t=new Ge,this.Pe.set(e,t)),t},e.prototype.Be=function(e){var t=this.Ve.get(e);return t||(t=new Ie(X),this.Ve=this.Ve.ot(e,t)),t},e.prototype.Fe=function(e){var t=null!==this.ke(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ke=function(e){var t=this.Pe.get(e);return t&&t._e?null:this.ge.Ue(e)},e.prototype.xe=function(e){var t=this;this.Pe.set(e,new Ge),this.ge.qe(e).forEach((function(n){t.Se(e,n,null)}))},e.prototype.Le=function(e,t){return this.ge.qe(e).has(t)},e}();function Qe(){return new ke(A.i)}function Ye(){return new ke(A.i)}function Xe(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $e(e){var t=ot(e.mapValue.fields.__local_write_time__.timestampValue);return new se(t.seconds,t.nanos)}var Je=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ze(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xe(e)?4:10:m()}function et(e,t){var n=Ze(e);if(n!==Ze(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $e(e).isEqual($e(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ot(e.timestampValue),r=ot(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return st(e.bytesValue).isEqual(st(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return at(e.geoPointValue.latitude)===at(t.geoPointValue.latitude)&&at(e.geoPointValue.longitude)===at(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return at(e.integerValue)===at(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=at(e.doubleValue),r=at(t.doubleValue);return n===r?ce(n)===ce(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $(e.arrayValue.values||[],t.arrayValue.values||[],et);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(w(n)!==w(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!et(n[i],r[i])))return!1;return!0}(e,t);default:return m()}}function tt(e,t){return void 0!==(e.values||[]).find((function(e){return et(e,t)}))}function nt(e,t){var n=Ze(e),r=Ze(t);if(n!==r)return X(n,r);switch(n){case 0:return 0;case 1:return X(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=at(e.integerValue||e.doubleValue),r=at(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return rt(e.timestampValue,t.timestampValue);case 4:return rt($e(e),$e(t));case 5:return X(e.stringValue,t.stringValue);case 6:return function(e,t){var n=st(e),r=st(t);return n.L(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=X(n[i],r[i]);if(0!==o)return o}return X(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=X(at(e.latitude),at(t.latitude));return 0!==n?n:X(at(e.longitude),at(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=nt(n[i],r[i]);if(o)return o}return X(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=X(r[a],o[a]);if(0!==s)return s;var u=nt(n[r[a]],i[o[a]]);if(0!==u)return u}return X(r.length,o.length)}(e.mapValue,t.mapValue);default:throw m()}}function rt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return X(e,t);var n=ot(e),r=ot(t),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function it(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=ot(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?st(t.bytesValue).toBase64():"referenceValue"in t?A.C(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):m();var n}(e)}function ot(e){if(_(!!e),"string"==typeof e){var t=0,n=Je.exec(e);if(_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:at(e.seconds),nanos:at(e.nanos)}}function at(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function st(e){return"string"==typeof e?Z.fromBase64String(e):Z.fromUint8Array(e)}function ut(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.R()}}function lt(e){return!!e&&"integerValue"in e}function ct(e){return!!e&&"arrayValue"in e}function ht(e){return!!e&&"nullValue"in e}function ft(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dt(e){return!!e&&"mapValue"in e}var pt={asc:"ASCENDING",desc:"DESCENDING"},vt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gt=function(e,t){this.U=e,this.Qe=t};function yt(e){return{integerValue:""+e}}function mt(e,t){if(e.Qe){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ce(t)?"-0":t}}function _t(e,t){return he(t)?yt(t):mt(e,t)}function bt(e,t){return e.Qe?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function wt(e,t){return e.Qe?t.toBase64():t.toUint8Array()}function Ct(e,t){return bt(e,t.Z())}function kt(e){return _(!!e),ue.J(function(e){var t=ot(e);return new se(t.seconds,t.nanos)}(e))}function Et(e,t){return function(e){return new S(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).R()}function St(e){var t=S.g(e);return _(Gt(t)),t}function It(e,t){return Et(e.U,t.path)}function Tt(e,t){var n=St(t);return _(n.get(1)===e.U.projectId),_(!n.get(3)&&!e.U.database||n.get(3)===e.U.database),new A(xt(n))}function At(e,t){return Et(e.U,t)}function Nt(e){var t=St(e);return 4===t.length?S.P():xt(t)}function Ot(e){return new S(["projects",e.U.projectId,"databases",e.U.database]).R()}function xt(e){return _(e.length>4&&"documents"===e.get(4)),e.u(5)}function Pt(e,t,n){return{name:It(e,t),fields:n.proto.mapValue.fields}}function Rt(e,t){var n;if(t instanceof yn)n={update:Pt(e,t.key,t.value)};else if(t instanceof kn)n={delete:It(e,t.key)};else if(t instanceof mn)n={update:Pt(e,t.key,t.data),updateMask:Wt(t.We)};else if(t instanceof bn)n={transform:{document:It(e,t.key),fieldTransforms:t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof $t)return{fieldPath:t.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jt)return{fieldPath:t.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof en)return{fieldPath:t.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof nn)return{fieldPath:t.field.R(),increment:n.je};throw m()}(0,e)}))}};else{if(!(t instanceof En))return m();n={verify:It(e,t.key)}}return t.Ge.Ke||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ct(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:m()}(e,t.Ge)),n}function Dt(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ln.updateTime(kt(e.updateTime)):void 0!==e.exists?ln.exists(e.exists):ln.ze()}(t.currentDocument):ln.ze();if(t.update){var r=Tt(e,t.update.name),i=new Sn({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){return new an((e.fieldPaths||[]).map((function(e){return T.S(e)})))}(t.updateMask);return new mn(r,i,o,n)}return new yn(r,i,n)}if(t.delete){var a=Tt(e,t.delete);return new kn(a,n)}if(t.transform){var s=Tt(e,t.transform.document),u=t.transform.fieldTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(_("REQUEST_TIME"===t.setToServerValue),n=new $t):"appendMissingElements"in t?n=new Jt(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new en(t.removeAllFromArray.values||[]):"increment"in t?n=new nn(e,t.increment):m();var r=T.S(t.fieldPath);return new sn(r,n)}(e,t)}));return _(!0===n.exists),new bn(s,u)}if(t.verify){var l=Tt(e,t.verify);return new En(l,n)}return m()}function Mt(e,t){return{documents:[At(e,t.path)]}}function Lt(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=At(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=At(e,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ft(e.value))return{unaryFilter:{field:qt(e.field),op:"IS_NAN"}};if(ht(e.value))return{unaryFilter:{field:qt(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ft(e.value))return{unaryFilter:{field:qt(e.field),op:"IS_NOT_NAN"}};if(ht(e.value))return{unaryFilter:{field:qt(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qt(e.field),op:Vt(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:qt(e.field),direction:Ut(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.Qe||le(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ft(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ft(t.endAt)),n}function Ft(e){return{before:e.before,values:e.position}}function jt(e){return new or(e.values||[],!!e.before)}function Ut(e){return pt[e]}function Vt(e){return vt[e]}function qt(e){return{fieldPath:e.R()}}function Bt(e){return T.S(e.fieldPath)}function Ht(e){return Xn.create(Bt(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return m()}}(e.fieldFilter.op),e.fieldFilter.value)}function zt(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Bt(e.unaryFilter.field);return Xn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Bt(e.unaryFilter.field);return Xn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Bt(e.unaryFilter.field);return Xn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Bt(e.unaryFilter.field);return Xn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return m()}}function Wt(e){var t=[];return e.fields.forEach((function(e){return t.push(e.R())})),{fieldPaths:t}}function Gt(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Kt=function(){this.He=void 0};function Qt(e,t,n){return e instanceof $t?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jt?Zt(e,t):e instanceof en?tn(e,t):function(e,t){var n=Xt(e,t),r=rn(n)+rn(e.je);return lt(n)&&lt(e.je)?yt(r):mt(e.serializer,r)}(e,t)}function Yt(e,t,n){return e instanceof Jt?Zt(e,t):e instanceof en?tn(e,t):n}function Xt(e,t){return e instanceof nn?lt(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var $t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t}(Kt),Jt=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return r.__extends(t,e),t}(Kt);function Zt(e,t){for(var n=on(t),r=function(e){n.some((function(t){return et(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var en=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return r.__extends(t,e),t}(Kt);function tn(e,t){for(var n=on(t),r=function(e){n=n.filter((function(t){return!et(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).serializer=t,r.je=n,r}return r.__extends(t,e),t}(Kt);function rn(e){return at(e.integerValue||e.doubleValue)}function on(e){return ct(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var an=function(){function e(e){this.fields=e,e.sort(T.i)}return e.prototype.Ye=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].T(e))return!0;return!1},e.prototype.isEqual=function(e){return $(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),sn=function(e,t){this.field=e,this.transform=t},un=function(e,t){this.version=e,this.transformResults=t},ln=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.ze=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function cn(e,t){return void 0!==e.updateTime?t instanceof Nn&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof Nn}var hn=function(){};function fn(e,t,n){return e instanceof yn?function(e,t,n){return new Nn(e.key,n.version,e.value,{hasCommittedMutations:!0})}(e,0,n):e instanceof mn?function(e,t,n){if(!cn(e.Ge,t))return new xn(e.key,n.version);var r=_n(e,t);return new Nn(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof bn?function(e,t,n){if(_(null!=n.transformResults),!cn(e.Ge,t))return new xn(e.key,n.version);var r=wn(0,t),i=function(e,t,n){var r=[];_(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=null;t instanceof Nn&&(s=t.field(o.field)),r.push(Yt(a,s,n[i]))}return r}(e.fieldTransforms,t,n.transformResults),o=n.version,a=Cn(e,r.data(),i);return new Nn(e.key,o,a,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new On(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function dn(e,t,n,r){return e instanceof yn?function(e,t){if(!cn(e.Ge,t))return t;var n=gn(t);return new Nn(e.key,n,e.value,{Je:!0})}(e,t):e instanceof mn?function(e,t){if(!cn(e.Ge,t))return t;var n=gn(t),r=_n(e,t);return new Nn(e.key,n,r,{Je:!0})}(e,t):e instanceof bn?function(e,t,n,r){if(!cn(e.Ge,t))return t;var i=wn(0,t),o=function(e,t,n,r){for(var i=[],o=0,a=e;o<a.length;o++){var s=a[o],u=s.transform,l=null;n instanceof Nn&&(l=n.field(s.field)),null===l&&r instanceof Nn&&(l=r.field(s.field)),i.push(Qt(u,l,t))}return i}(e.fieldTransforms,n,t,r),a=Cn(e,i.data(),o);return new Nn(e.key,i.version,a,{Je:!0})}(e,t,r,n):function(e,t){return cn(e.Ge,t)?new On(e.key,ue.min()):t}(e,t)}function pn(e,t){return e instanceof bn?function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t instanceof Nn?t.field(o.field):void 0,s=Xt(o.transform,a||null);null!=s&&(n=null==n?(new In).set(o.field,s):n.set(o.field,s))}return n?n.Xe():null}(e,t):null}function vn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.Ge.isEqual(t.Ge)&&(0===e.type?e.value.isEqual(t.value):1===e.type?e.data.isEqual(t.data)&&e.We.isEqual(t.We):2!==e.type||$(e.fieldTransforms,e.fieldTransforms,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jt&&t instanceof Jt||e instanceof en&&t instanceof en?$(e.elements,t.elements,et):e instanceof nn&&t instanceof nn?et(e.je,t.je):e instanceof $t&&t instanceof $t}(e.transform,t.transform)}(e,t)})))}function gn(e){return e instanceof Nn?e.version:ue.min()}var yn=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.Ge=r,i.type=0,i}return r.__extends(t,e),t}(hn),mn=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.We=r,o.Ge=i,o.type=1,o}return r.__extends(t,e),t}(hn);function _n(e,t){return function(e,t){var n=new In(t);return e.We.fields.forEach((function(t){if(!t.m()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.Xe()}(e,t instanceof Nn?t.data():Sn.empty())}var bn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.fieldTransforms=n,r.type=2,r.Ge=ln.exists(!0),r}return r.__extends(t,e),t}(hn);function wn(e,t){return t}function Cn(e,t,n){for(var r=new In(t),i=0;i<e.fieldTransforms.length;i++)r.set(e.fieldTransforms[i].field,n[i]);return r.Xe()}var kn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ge=n,r.type=3,r}return r.__extends(t,e),t}(hn),En=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ge=n,r.type=4,r}return r.__extends(t,e),t}(hn),Sn=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.m())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!dt(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e._()])||null},e.prototype.isEqual=function(e){return et(this.proto,e.proto)},e}(),In=function(){function e(e){void 0===e&&(e=Sn.empty()),this.Ze=e,this.tn=new Map}return e.prototype.set=function(e,t){return this.en(e,t),this},e.prototype.delete=function(e){return this.en(e,null),this},e.prototype.en=function(e,t){for(var n=this.tn,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ze(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e._(),t)},e.prototype.Xe=function(){var e=this.nn(T.P(),this.tn);return null!=e?new Sn(e):this.Ze},e.prototype.nn=function(e,t){var n=this,r=!1,i=this.Ze.field(e),o=dt(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var a=n.nn(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function Tn(e){var t=[];return C(e.fields||{},(function(e,n){var r=new T([e]);if(dt(n)){var i=Tn(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++)t.push(r.child(a[o]))}else t.push(r)})),new an(t)}var An=function(e,t){this.key=e,this.version=t},Nn=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(t,e),t.prototype.field=function(e){return this.sn.field(e)},t.prototype.data=function(){return this.sn},t.prototype.rn=function(){return this.sn.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.Je===e.Je&&this.hasCommittedMutations===e.hasCommittedMutations&&this.sn.isEqual(e.sn)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(An),On=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(An),xn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(An),Pn=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=a,this.endAt=s,this.cn=null,this.un=null};function Rn(e,t,n,r,i,o,a,s){return new Pn(e,t,n,r,i,o,a,s)}function Dn(e){return new Pn(e)}function Mn(e){return!le(e.limit)&&"F"===e.an}function Ln(e){return!le(e.limit)&&"L"===e.an}function Fn(e){return e.on.length>0?e.on[0].field:null}function jn(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.hn())return r.field}return null}function Un(e){return null!==e.collectionGroup}function Vn(e){var t=b(e);if(null===t.cn){t.cn=[];var n=jn(t),r=Fn(t);if(null!==n&&null===r)n.p()||t.cn.push(new lr(n)),t.cn.push(new lr(T.v(),"asc"));else{for(var i=!1,o=0,a=t.on;o<a.length;o++){var s=a[o];t.cn.push(s),s.field.p()&&(i=!0)}if(!i){var u=t.on.length>0?t.on[t.on.length-1].dir:"asc";t.cn.push(new lr(T.v(),u))}}}return t.cn}function qn(e){var t=b(e);if(!t.un)if("F"===t.an)t.un=de(t.path,t.collectionGroup,Vn(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Vn(t);r<i.length;r++){var o=i[r];n.push(new lr(o.field,"desc"===o.dir?"asc":"desc"))}var a=t.endAt?new or(t.endAt.position,!t.endAt.before):null,s=t.startAt?new or(t.startAt.position,!t.startAt.before):null;t.un=de(t.path,t.collectionGroup,n,t.filters,t.limit,a,s)}return t.un}function Bn(e,t,n){return new Pn(e.path,e.collectionGroup,e.on.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hn(e,t){return new Pn(e.path,e.collectionGroup,e.on.slice(),e.filters.slice(),e.limit,e.an,t,e.endAt)}function zn(e,t){return new Pn(e.path,e.collectionGroup,e.on.slice(),e.filters.slice(),e.limit,e.an,e.startAt,t)}function Wn(e,t){return ve(qn(e),qn(t))&&e.an===t.an}function Gn(e){return pe(qn(e))+"|lt:"+e.an}function Kn(e){return"Query(target="+function(e){var t=e.path.R();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.R()+" "+t.op+" "+it(t.value);var t})).join(", ")+"]"),le(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return(t=e).field.R()+" ("+t.dir+")";var t})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+ar(e.startAt)),e.endAt&&(t+=", endAt: "+ar(e.endAt)),"Target("+t+")"}(qn(e))+"; limitType="+e.an+")"}function Qn(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.N(e.collectionGroup)&&e.path.T(n):A.F(e.path)?e.path.isEqual(n):e.path.I(n)}(e,t)&&function(e,t){for(var n=0,r=e.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!sr(e.startAt,Vn(e),t)||e.endAt&&sr(e.endAt,Vn(e),t))}(e,t)}function Yn(e){return function(t,n){for(var r=!1,i=0,o=Vn(e);i<o.length;i++){var a=o[i],s=cr(a,t,n);if(0!==s)return s;r=r||a.field.p()}return 0}}var Xn=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return r.__extends(t,e),t.create=function(e,n,r){if(e.p())return"in"===n||"not-in"===n?this.ln(e,n,r):new $n(e,n,r);if(ht(r)){if("=="!==n&&"!="!==n)throw new h(c.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new t(e,n,r)}if(ft(r)){if("=="!==n&&"!="!==n)throw new h(c.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new t(e,n,r)}return"array-contains"===n?new tr(e,r):"in"===n?new nr(e,r):"not-in"===n?new rr(e,r):"array-contains-any"===n?new ir(e,r):new t(e,n,r)},t.ln=function(e,t,n){return"in"===t?new Jn(e,n):new Zn(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this._n(nt(t,this.value)):null!==t&&Ze(this.value)===Ze(t)&&this._n(nt(t,this.value))},t.prototype._n=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return m()}},t.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),$n=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=A.C(r.referenceValue),i}return r.__extends(t,e),t.prototype.matches=function(e){var t=A.i(e.key,this.key);return this._n(t)},t}(Xn),Jn=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=er(0,n),r}return r.__extends(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Xn),Zn=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=er(0,n),r}return r.__extends(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Xn);function er(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return A.C(e.referenceValue)}))}var tr=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return r.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return ct(t)&&tt(t.arrayValue,this.value)},t}(Xn),nr=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return r.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&tt(this.value.arrayValue,t)},t}(Xn),rr=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return r.__extends(t,e),t.prototype.matches=function(e){if(tt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!tt(this.value.arrayValue,t)},t}(Xn),ir=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return r.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!ct(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return tt(t.value.arrayValue,e)}))},t}(Xn),or=function(e,t){this.position=e,this.before=t};function ar(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return it(e)})).join(",")}function sr(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.p()?A.i(A.C(a.referenceValue),n.key):nt(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ur(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!et(e.position[n],t.position[n]))return!1;return!0}var lr=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function cr(e,t,n){var r=e.field.p()?A.i(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?nt(r,i):m()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return m()}}function hr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var fr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},dr=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=e,this.dn=t,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return e.prototype.reset=function(){this.En=0},e.prototype.Rn=function(){this.En=this.Tn},e.prototype.gn=function(e){var t=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return t.An=Date.now(),e()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},e.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},e.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},e.prototype.Pn=function(){return(Math.random()-.5)*this.En},e}(),pr=function(){function e(e){var t=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,e((function(e){t.Sn=!0,t.result=e,t.bn&&t.bn(e)}),(function(e){t.Sn=!0,t.error=e,t.vn&&t.vn(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.Dn&&m(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(t,this.result):new e((function(e,i){r.bn=function(n){r.Nn(t,n).next(e,i)},r.vn=function(t){r.Cn(n,t).next(e,i)}}))},e.prototype.Fn=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.xn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.Nn=function(t,n){return t?this.xn((function(){return t(n)})):e.resolve(n)},e.prototype.Cn=function(t,n){return t?this.xn((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.$n=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.kn=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.$n(r)},e}(),vr=function(){function e(t,n,r){this.name=t,this.version=n,this.Mn=r,12.2===e.On(a.getUA())&&v("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return p("SimpleDb","Removing database:",e),wr(window.indexedDB.deleteDatabase(e)).Fn()},e.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(e.Bn())return!0;var t=a.getUA(),n=e.On(t),r=0<n&&n<10,i=e.qn(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Bn=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Un)},e.Qn=function(e,t){return e.store(t)},e.On=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.qn=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Wn=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new yr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new h(c.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new yr(e,n))},i.onupgradeneeded=function(e){p("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.Mn.createOrUpgrade(e.target.result,i.transaction,e.oldVersion,n.version).next((function(){p("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(e){return n.jn(e)}),this.db)]}}))}))},e.prototype.Kn=function(e){this.jn=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,l;return r.__generator(this,(function(c){switch(c.label){case 0:o="readonly"===t,a=0,s=function(){var t,s,l,c,h;return r.__generator(this,(function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Wn(e)];case 2:return u.db=r.sent(),t=_r.open(u.db,e,o?"readonly":"readwrite",n),s=i(t).catch((function(e){return t.abort(e),pr.reject(e)})).Fn(),l={},s.catch((function(){})),[4,t.Gn];case 3:return[2,(l.value=(r.sent(),s),l)];case 4:return p("SimpleDb","Transaction failed with error:",(c=r.sent()).message,"Retrying:",h="FirebaseError"!==c.name&&a<3),u.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(l=c.sent()))return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),gr=function(){function e(e){this.zn=e,this.Hn=!1,this.Yn=null}return Object.defineProperty(e.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.zn=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Hn=!0},e.prototype.Xn=function(e){this.Yn=e},e.prototype.delete=function(){return wr(this.zn.delete())},e}(),yr=function(e){function t(t,n){var r=this;return(r=e.call(this,c.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return r.__extends(t,e),t}(h);function mr(e){return"IndexedDbTransactionError"===e.name}var _r=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.Zn=new fr,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){t.error?n.Zn.reject(new yr(e,t.error)):n.Zn.resolve()},this.transaction.onerror=function(t){var r=kr(t.target.error);n.Zn.reject(new yr(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new yr(n,t)}},Object.defineProperty(e.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.Zn.reject(e),this.aborted||(p("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new br(t)},e}(),br=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(p("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),wr(n)},e.prototype.add=function(e){return p("SimpleDb","ADD",this.store.name,e,e),wr(this.store.add(e))},e.prototype.get=function(e){var t=this;return wr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return p("SimpleDb","DELETE",this.store.name,e),wr(this.store.delete(e))},e.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),wr(this.store.count())},e.prototype.ts=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.es(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.ns=function(e,t){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(e,t,n){return n.delete()}))},e.prototype.rs=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.es(r,t)},e.prototype.os=function(e){var t=this.cursor({});return new pr((function(n,r){t.onerror=function(e){var t=kr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.es=function(e,t){var n=[];return new pr((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new gr(i),a=t(i.primaryKey,i.value,o);if(a instanceof pr){var s=a.catch((function(e){return o.done(),pr.reject(e)}));n.push(s)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return pr.$n(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.ss?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function wr(e){return new pr((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=kr(e.target.error);n(t)}}))}var Cr=!1;function kr(e){var t=vr.On(a.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Cr||(Cr=!0,setTimeout((function(){throw r}),0)),r}}return e}function Er(){return"undefined"!=typeof window?window:null}function Sr(){return"undefined"!=typeof document?document:null}var Ir=function(){function e(e,t,n,r,i){this.cs=e,this.dn=t,this.us=n,this.op=r,this.hs=i,this.ls=new fr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(e){}))}return e._s=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.fs=setTimeout((function(){return t.ds()}),e)},e.prototype.pn=function(){return this.ds()},e.prototype.cancel=function(e){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new h(c.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.ds=function(){var e=this;this.cs.ws((function(){return null!==e.fs?(e.clearTimeout(),e.op().then((function(t){return e.ls.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},e}(),Tr=function(){function e(){var e=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new dr(this,"async_queue_retry"),this.Vs=function(){var t=Sr();t&&p("AsyncQueue","Visibility state changed to  ",t.visibilityState),e.ys.Vn()};var t=Sr();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(e.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),e.prototype.ws=function(e){this.enqueue(e)},e.prototype.bs=function(e){this.vs(),this.Ss(e)},e.prototype.Ds=function(){if(!this.Is){this.Is=!0;var e=Sr();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vs)}},e.prototype.enqueue=function(e){return this.vs(),this.Is?new Promise((function(e){})):this.Ss(e)},e.prototype.Cs=function(e){var t=this;this.ws((function(){return t.Es.push(e),t.Ns()}))},e.prototype.Ns=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!mr(e=n.sent()))throw e;return p("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Es.length>0&&this.ys.gn((function(){return t.Ns()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ss=function(e){var t=this,n=this.Ts.then((function(){return t.gs=!0,e().catch((function(e){throw t.Rs=e,t.gs=!1,v("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gs=!1,e}))}));return this.Ts=n,n},e.prototype.yn=function(e,t,n){var r=this;this.vs(),this.Ps.indexOf(e)>-1&&(t=0);var i=Ir._s(this,e,t,n,(function(e){return r.Fs(e)}));return this.As.push(i),i},e.prototype.vs=function(){this.Rs&&m()},e.prototype.xs=function(){},e.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return[4,e=this.Ts];case 1:t.sent(),t.label=2;case 2:if(e!==this.Ts)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.ks=function(e){for(var t=0,n=this.As;t<n.length;t++)if(n[t].dn===e)return!0;return!1},e.prototype.Ms=function(e){var t=this;return this.$s().then((function(){t.As.sort((function(e,t){return e.us-t.us}));for(var n=0,r=t.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==e&&i.dn===e)break}return t.$s()}))},e.prototype.Os=function(e){this.Ps.push(e)},e.prototype.Fs=function(e){var t=this.As.indexOf(e);this.As.splice(t,1)},e}();function Ar(e,t){if(v("AsyncQueue",t+": "+e),mr(e))return new h(c.UNAVAILABLE,t+": "+e);throw e}var Nr=function(){this.Ls=void 0,this.listeners=[]},Or=function(){this.Bs=new ae((function(e){return Gn(e)}),Wn),this.onlineState="Unknown",this.qs=new Set};function xr(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,l;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=b(e),o=!1,(a=n.Bs.get(i=t.query))||(o=!0,a=new Nr),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=a,[4,n.Us(i)];case 2:return s.Ls=r.sent(),[3,4];case 3:return u=r.sent(),l=Ar(u,"Initialization of query '"+Kn(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.Bs.set(i,a),a.listeners.push(t),t.Qs(n.onlineState),a.Ls&&t.Ws(a.Ls)&&Mr(n),[2]}}))}))}function Pr(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){return n=b(e),o=!1,(a=n.Bs.get(i=t.query))&&(s=a.listeners.indexOf(t))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.Bs.delete(i),n.js(i))]:[2]}))}))}function Rr(e,t){for(var n=b(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=n.Bs.get(a.query);if(s){for(var u=0,l=s.listeners;u<l.length;u++)l[u].Ws(a)&&(r=!0);s.Ls=a}}r&&Mr(n)}function Dr(e,t,n){var r=b(e),i=r.Bs.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.Bs.delete(t)}function Mr(e){e.qs.forEach((function(e){e.next()}))}var Lr=function(){function e(e,t,n){this.query=e,this.Ks=t,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Ws=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Ve(e.query,e.docs,e.Qt,t,e.Wt,e.fromCache,e.jt,!0)}var o=!1;return this.Gs?this.Hs(e)&&(this.Ks.next(e),o=!0):this.Ys(e,this.onlineState)&&(this.Js(e),o=!0),this.zs=e,o},e.prototype.onError=function(e){this.Ks.error(e)},e.prototype.Qs=function(e){this.onlineState=e;var t=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,e)&&(this.Js(this.zs),t=!0),t},e.prototype.Ys=function(e,t){return!e.fromCache||!(this.options.Xs&&"Offline"!==t||e.docs.m()&&"Offline"!==t)},e.prototype.Hs=function(e){return e.docChanges.length>0||!!(e.jt||this.zs&&this.zs.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.Js=function(e){e=Ve.Gt(e.query,e.docs,e.Wt,e.fromCache),this.Gs=!0,this.Ks.next(e)},e}(),Fr=function(){function e(e){this.uid=e}return e.prototype.Zs=function(){return null!=this.uid},e.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();Fr.UNAUTHENTICATED=new Fr(null),Fr.ei=new Fr("google-credentials-uid"),Fr.ni=new Fr("first-party-uid");var jr=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.si=function(e){return n.ii(e)},this.ri=function(e){return t.oi(e)})}return e.prototype.ii=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.ri&&this.ri(e),e},e}();function Ur(e,t){return"firestore_clients_"+e+"_"+t}function Vr(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.Zs()&&(r+="_"+t.uid),r}function qr(e,t){return"firestore_targets_"+e+"_"+t}jr.ai=-1;var Br=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.ci=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new h(i.error.code,i.error.message)),o?new e(t,n,i.state,a):(v("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.ui=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Hr=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.ci=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new h(r.error.code,r.error.message)),i?new e(t,r.state,o):(v("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.ui=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),zr=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.ci=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Fe(),a=0;i&&a<r.activeTargetIds.length;++a)i=he(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(v("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Wr=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.ci=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(v("SharedClientState","Failed to parse online state: "+t),null)},e}(),Gr=function(){function e(){this.activeTargetIds=Fe()}return e.prototype.hi=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.li=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.ui=function(){var e={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Kr=function(){function e(e,t,n,r,i){this.window=e,this.fn=t,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new ke(X),this.Ei=!1,this.Ii=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Ur(this.persistenceKey,this._i),this.Ri=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Gr),this.gi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Vi=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return e.Ln=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,n,i,o,a,s,u,l,c,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(e=r.sent(),t=0,n=e;t<n.length;t++)(i=n[t])!==this._i&&(o=this.getItem(Ur(this.persistenceKey,i)))&&(a=zr.ci(i,o))&&(this.Ti=this.Ti.ot(a.clientId,a));for(this.bi(),(s=this.storage.getItem(this.Vi))&&(u=this.vi(s))&&this.Si(u),l=0,c=this.Ii;l<c.length;l++)this.mi(c[l]);return this.Ii=[],this.window.addEventListener("unload",(function(){return h.Di()})),this.Ei=!0,[2]}}))}))},e.prototype.oi=function(e){this.setItem(this.Ri,JSON.stringify(e))},e.prototype.Ci=function(){return this.Ni(this.Ti)},e.prototype.Fi=function(e){var t=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.xi=function(e){this.$i(e,"pending")},e.prototype.ki=function(e,t,n){this.$i(e,t,n),this.Mi(e)},e.prototype.Oi=function(e){var t="not-current";if(this.Fi(e)){var n=this.storage.getItem(qr(this.persistenceKey,e));if(n){var r=Hr.ci(e,n);r&&(t=r.state)}}return this.Li.hi(e),this.bi(),t},e.prototype.Bi=function(e){this.Li.li(e),this.bi()},e.prototype.qi=function(e){return this.Li.activeTargetIds.has(e)},e.prototype.Ui=function(e){this.removeItem(qr(this.persistenceKey,e))},e.prototype.Qi=function(e,t,n){this.Wi(e,t,n)},e.prototype.ji=function(e,t,n){var r=this;t.forEach((function(e){r.Mi(e)})),this.currentUser=e,n.forEach((function(e){r.xi(e)}))},e.prototype.Ki=function(e){this.Gi(e)},e.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return p("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){p("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){p("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.mi=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return r.__awaiter(t,void 0,void 0,(function(){var e,t,i,o,a,s;return r.__generator(this,(function(r){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return e=this.zi(n.key),[2,this.Hi(e,null)];if(t=this.Yi(n.key,n.newValue))return[2,this.Hi(t.clientId,t)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Ji(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(o=this.Zi(n.key,n.newValue)))return[2,this.tr(o)]}else if(n.key===this.Vi){if(null!==n.newValue&&(a=this.vi(n.newValue)))return[2,this.Si(a)]}else n.key===this.Ri&&(s=function(e){var t=jr.ai;if(null!=e)try{var n=JSON.parse(e);_("number"==typeof n),t=n}catch(e){v("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==jr.ai&&this.si(s)}else this.Ii.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),e.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},e.prototype.$i=function(e,t,n){var r=new Br(this.currentUser,e,t,n),i=Vr(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ui())},e.prototype.Mi=function(e){var t=Vr(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Gi=function(e){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:e}))},e.prototype.Wi=function(e,t,n){var r=qr(this.persistenceKey,e),i=new Hr(e,t,n);this.setItem(r,i.ui())},e.prototype.zi=function(e){var t=this.gi.exec(e);return t?t[1]:null},e.prototype.Yi=function(e,t){var n=this.zi(e);return zr.ci(n,t)},e.prototype.Ji=function(e,t){var n=this.Pi.exec(e),r=Number(n[1]);return Br.ci(new Fr(void 0!==n[2]?n[2]:null),r,t)},e.prototype.Zi=function(e,t){var n=this.yi.exec(e),r=Number(n[1]);return Hr.ci(r,t)},e.prototype.vi=function(e){return Wr.ci(e)},e.prototype.Xi=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.fi.er(e.batchId,e.state,e.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.tr=function(e){return this.fi.nr(e.targetId,e.state,e.error)},e.prototype.Hi=function(e,t){var n=this,r=t?this.Ti.ot(e,t):this.Ti.remove(e),i=this.Ni(this.Ti),o=this.Ni(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.fi.sr(a,s).then((function(){n.Ti=r}))},e.prototype.Si=function(e){this.Ti.get(e.clientId)&&this.di(e.onlineState)},e.prototype.Ni=function(e){var t=Fe();return e.forEach((function(e,n){t=t.kt(n.activeTargetIds)})),t},e}(),Qr=function(){function e(){this.ir=new Gr,this.rr={},this.di=null,this.si=null}return e.prototype.xi=function(e){},e.prototype.ki=function(e,t,n){},e.prototype.Oi=function(e){return this.ir.hi(e),this.rr[e]||"not-current"},e.prototype.Qi=function(e,t,n){this.rr[e]=t},e.prototype.Bi=function(e){this.ir.li(e)},e.prototype.qi=function(e){return this.ir.activeTargetIds.has(e)},e.prototype.Ui=function(e){delete this.rr[e]},e.prototype.Ci=function(){return this.ir.activeTargetIds},e.prototype.Fi=function(e){return this.ir.activeTargetIds.has(e)},e.prototype.start=function(){return this.ir=new Gr,Promise.resolve()},e.prototype.ji=function(e,t,n){},e.prototype.Ki=function(e){},e.prototype.Di=function(){},e.prototype.oi=function(e){},e}(),Yr=function(){function e(e,t,n,r){this.batchId=e,this.ar=t,this.baseMutations=n,this.mutations=r}return e.prototype.cr=function(e,t,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=fn(o,t,r[i]))}return t},e.prototype.hr=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=dn(i,t,t,this.ar))}for(var o=t,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(e)&&(t=dn(u,t,o,this.ar))}return t},e.prototype.lr=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.hr(r.key,e.get(r.key));i&&(n=n.ot(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Me())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations,(function(e,t){return vn(e,t)}))&&$(this.baseMutations,e.baseMutations,(function(e,t){return vn(e,t)}))},e}(),Xr=function(){function e(e,t,n,r){this.batch=e,this._r=t,this.ur=n,this.dr=r}return e.from=function(t,n,r){_(t.mutations.length===r.length);for(var i=Re,o=t.mutations,a=0;a<o.length;a++)i=i.ot(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),$r=function(){function e(){this.wr=new ae((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.mr=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return this.Tr},set:function(e){this.Tr=e},enumerable:!1,configurable:!0}),e.prototype.Er=function(e,t){this.Ir(),this.readTime=t,this.wr.set(e.key,e)},e.prototype.Ar=function(e,t){this.Ir(),t&&(this.readTime=t),this.wr.set(e,null)},e.prototype.Rr=function(e,t){this.Ir();var n=this.wr.get(t);return void 0!==n?pr.resolve(n):this.gr(e,t)},e.prototype.getEntries=function(e,t){return this.Pr(e,t)},e.prototype.apply=function(e){return this.Ir(),this.mr=!0,this.yr(e)},e.prototype.Ir=function(){},e}(),Jr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zr=function(){function e(){this.Vr=[]}return e.prototype.pr=function(e){this.Vr.push(e)},e.prototype.br=function(){this.Vr.forEach((function(e){return e()}))},e}(),ei=function(){function e(e,t,n){this.vr=e,this.Sr=t,this.Dr=n}return e.prototype.Cr=function(e,t){var n=this;return this.Sr.Nr(e,t).next((function(r){return n.Fr(e,t,r)}))},e.prototype.Fr=function(e,t,n){return this.vr.Rr(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].hr(t,e);return e}))},e.prototype.$r=function(e,t,n){var r=Oe();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].hr(e,t);r=r.ot(e,t)})),r},e.prototype.kr=function(e,t){var n=this;return this.vr.getEntries(e,t).next((function(t){return n.Mr(e,t)}))},e.prototype.Mr=function(e,t){var n=this;return this.Sr.Or(e,t).next((function(r){var i=n.$r(e,t,r),o=Ne();return i.forEach((function(e,t){t||(t=new On(e,ue.min())),o=o.ot(e,t)})),o}))},e.prototype.Lr=function(e,t,n){return function(e){return A.F(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Br(e,t.path):Un(t)?this.qr(e,t,n):this.Ur(e,t,n)},e.prototype.Br=function(e,t){return this.Cr(e,new A(t)).next((function(e){var t=Pe();return e instanceof Nn&&(t=t.ot(e.key,e)),t}))},e.prototype.qr=function(e,t,n){var r=this,i=t.collectionGroup,o=Pe();return this.Dr.Qr(e,i).next((function(a){return pr.forEach(a,(function(a){var s=function(e,t){return new Pn(t,null,e.on.slice(),e.filters.slice(),e.limit,e.an,e.startAt,e.endAt)}(t,a.child(i));return r.Ur(e,s,n).next((function(e){e.forEach((function(e,t){o=o.ot(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Ur=function(e,t,n){var r,i,o=this;return this.vr.Lr(e,t,n).next((function(n){return r=n,o.Sr.Wr(e,t)})).next((function(t){return o.jr(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key,c=r.get(l),h=dn(u,c,c,o.ar);r=h instanceof Nn?r.ot(l,h):r.remove(l)}}))})).next((function(){return r.forEach((function(e,n){Qn(t,n)||(r=r.remove(e))})),r}))},e.prototype.jr=function(e,t,n){for(var r=Me(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof mn&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.vr.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Nn&&(l=l.ot(e,t))})),l}))},e}(),ti=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.Kr=n,this.Gr=r}return e.zr=function(t,n){for(var r=Me(),i=Me(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}();function ni(e,t){var n=e[1],r=t[1],i=X(e[0],t[0]);return 0===i?X(n,r):i}var ri=function(){function e(e){this.Hr=e,this.buffer=new Ie(ni),this.Yr=0}return e.prototype.Jr=function(){return++this.Yr},e.prototype.Xr=function(e){var t=[e,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ni(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),ii={Zr:!1,eo:0,no:0,so:0},oi=function(){function e(e,t,n){this.io=e,this.ro=t,this.oo=n}return e.ao=function(t){return new e(t,e.co,e.uo)},e}();oi.ho=-1,oi.lo=1048576,oi._o=41943040,oi.co=10,oi.uo=1e3,oi.fo=new oi(oi._o,oi.co,oi.uo),oi.do=new oi(oi.ho,0,0);var ai=function(){function e(e,t){this.wo=e,this.cs=t,this.mo=!1,this.To=null}return e.prototype.start=function(e){this.wo.params.io!==oi.ho&&this.Eo(e)},e.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(e.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),e.prototype.Eo=function(e){var t=this,n=this.mo?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,(function(){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return mr(t=n.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Io(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),si=function(){function e(e,t){this.Ao=e,this.params=t}return e.prototype.Ro=function(e,t){return this.Ao.Po(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.yo=function(e,t){var n=this;if(0===t)return pr.resolve(jr.ai);var r=new ri(t);return this.Ao.Ce(e,(function(e){return r.Xr(e.sequenceNumber)})).next((function(){return n.Ao.Vo(e,(function(e){return r.Xr(e)}))})).next((function(){return r.maxValue}))},e.prototype.po=function(e,t,n){return this.Ao.po(e,t,n)},e.prototype.bo=function(e,t){return this.Ao.bo(e,t)},e.prototype.vo=function(e,t){var n=this;return this.params.io===oi.ho?(p("LruGarbageCollector","Garbage collection skipped; disabled"),pr.resolve(ii)):this.So(e).next((function(r){return r<n.params.io?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),ii):n.Do(e,t)}))},e.prototype.So=function(e){return this.Ao.So(e)},e.prototype.Do=function(e,t){var n,r,i,a,s,u,l,c=this,h=Date.now();return this.Ro(e,this.params.ro).next((function(t){return t>c.params.oo?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.oo+" from "+t),r=c.params.oo):r=t,a=Date.now(),c.yo(e,r)})).next((function(r){return n=r,s=Date.now(),c.po(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.bo(e,n)})).next((function(e){return l=Date.now(),d()<=o.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-h)+"ms"),pr.resolve({Zr:!0,eo:r,no:i,so:e})}))},e}();function ui(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ci(t)),t=li(e.get(n),t);return ci(t)}function li(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ci(e){return e+"\x01\x01"}function hi(e){var t=e.length;if(_(t>=2),2===t)return _("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),S.P();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&m(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:m()}o=a+2}return new S(r)}var fi=function(e){this.Co=e};function di(e,t){if(t.document)return function(e,t,n){var r=Tt(e,t.name),i=kt(t.updateTime),o=new Sn({mapValue:{fields:t.fields}});return new Nn(r,i,o,{hasCommittedMutations:!!n})}(e.Co,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=A.$(t.noDocument.path),r=mi(t.noDocument.readTime);return new On(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=A.$(t.unknownDocument.path),o=mi(t.unknownDocument.version);return new xn(i,o)}return m()}function pi(e,t,n){var r=vi(n),i=t.key.path.h().A();if(t instanceof Nn){var o=function(e,t){return{name:It(e,t.key),fields:t.rn().mapValue.fields,updateTime:bt(e,t.version.Z())}}(e.Co,t);return new zi(null,null,o,t.hasCommittedMutations,r,i)}if(t instanceof On){var a=t.key.path.A(),s=yi(t.version),u=t.hasCommittedMutations;return new zi(null,new Bi(a,s),null,u,r,i)}if(t instanceof xn){var l=t.key.path.A(),c=yi(t.version);return new zi(new Hi(l,c),null,null,!0,r,i)}return m()}function vi(e){var t=e.Z();return[t.seconds,t.nanoseconds]}function gi(e){var t=new se(e[0],e[1]);return ue.J(t)}function yi(e){var t=e.Z();return new Fi(t.seconds,t.nanoseconds)}function mi(e){var t=new se(e.seconds,e.nanoseconds);return ue.J(t)}function _i(e,t){var n=(t.baseMutations||[]).map((function(t){return Dt(e.Co,t)})),r=t.mutations.map((function(t){return Dt(e.Co,t)})),i=se.fromMillis(t.localWriteTimeMs);return new Yr(t.batchId,i,n,r)}function bi(e){var t,n,r=mi(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?mi(e.lastLimboFreeSnapshotVersion):ue.min();return void 0!==e.query.documents?(_(1===(n=e.query).documents.length),t=qn(Dn(Nt(n.documents[0])))):t=function(e){var t=Nt(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function e(t){return t?void 0!==t.unaryFilter?[zt(t)]:void 0!==t.fieldFilter?[Ht(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):m():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new lr(Bt(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return le(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=jt(n.startAt));var c=null;return n.endAt&&(c=jt(n.endAt)),qn(Rn(t,i,s,a,u,"F",l,c))}(e.query),new _e(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Z.fromBase64String(e.resumeToken))}function wi(e,t){var n,r=yi(t.nt),i=yi(t.lastLimboFreeSnapshotVersion);n=ge(t.target)?Mt(e.Co,t.target):Lt(e.Co,t.target);var o=t.resumeToken.toBase64();return new Gi(t.targetId,pe(t.target),r,o,t.sequenceNumber,i,n)}var Ci=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.Dr=n,this.No=r,this.Fo={}}return e.xo=function(t,n,r,i){return _(""!==t.uid),new e(t.Zs()?t.uid:"",n,r,i)},e.prototype.$o=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Si(e).rs({index:Vi.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.ko=function(e,t,n,r){var i=this,o=Ii(e),a=Si(e);return a.add({}).next((function(s){_("number"==typeof s);for(var u=new Yr(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Rt(e.Co,t)})),i=n.mutations.map((function(t){return Rt(e.Co,t)}));return new Vi(t,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),c=[],h=new Ie((function(e,t){return X(e.R(),t.R())})),f=0,d=r;f<d.length;f++){var p=d[f],v=qi.key(i.userId,p.key.path,s);h=h.add(p.key.path.h()),c.push(a.put(l)),c.push(o.put(v,qi.PLACEHOLDER))}return h.forEach((function(t){c.push(i.Dr.Mo(e,t))})),e.pr((function(){i.Fo[s]=u.keys()})),pr.$n(c).next((function(){return u}))}))},e.prototype.Oo=function(e,t){var n=this;return Si(e).get(t).next((function(e){return e?(_(e.userId===n.userId),_i(n.serializer,e)):null}))},e.prototype.Lo=function(e,t){var n=this;return this.Fo[t]?pr.resolve(this.Fo[t]):this.Oo(e,t).next((function(e){if(e){var r=e.keys();return n.Fo[t]=r,r}return null}))},e.prototype.Bo=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Si(e).rs({index:Vi.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(_(t.batchId>=r),o=_i(n.serializer,t)),i.done()})).next((function(){return o}))},e.prototype.qo=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Si(e).rs({index:Vi.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.Uo=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Si(e).ts(Vi.userMutationsIndex,n).next((function(e){return e.map((function(e){return _i(t.serializer,e)}))}))},e.prototype.Nr=function(e,t){var n=this,r=qi.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ii(e).rs({range:i},(function(r,i,a){var s=r[0],u=r[2],l=hi(r[1]);if(s===n.userId&&t.path.isEqual(l))return Si(e).get(u).next((function(e){if(!e)throw m();_(e.userId===n.userId),o.push(_i(n.serializer,e))}));a.done()})).next((function(){return o}))},e.prototype.Or=function(e,t){var n=this,r=new Ie(X),i=[];return t.forEach((function(t){var o=qi.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Ii(e).rs({range:a},(function(e,i,o){var a=e[0],s=e[2],u=hi(e[1]);a===n.userId&&t.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),pr.$n(i).next((function(){return n.Qo(e,r)}))},e.prototype.Wr=function(e,t){var n=this,r=t.path,i=r.length+1,o=qi.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ie(X);return Ii(e).rs({range:a},(function(e,t,o){var a=e[0],u=e[2],l=hi(e[1]);a===n.userId&&r.T(l)?l.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Qo(e,s)}))},e.prototype.Qo=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Si(e).get(t).next((function(e){if(null===e)throw m();_(e.userId===n.userId),r.push(_i(n.serializer,e))})))})),pr.$n(i).next((function(){return r}))},e.prototype.Wo=function(e,t){var n=this;return Ei(e.jo,this.userId,t).next((function(r){return e.pr((function(){n.Ko(t.batchId)})),pr.forEach(r,(function(t){return n.No.Go(e,t)}))}))},e.prototype.Ko=function(e){delete this.Fo[e]},e.prototype.zo=function(e){var t=this;return this.$o(e).next((function(n){if(!n)return pr.resolve();var r=IDBKeyRange.lowerBound(qi.prefixForUser(t.userId)),i=[];return Ii(e).rs({range:r},(function(e,n,r){if(e[0]===t.userId){var o=hi(e[1]);i.push(o)}else r.done()})).next((function(){_(0===i.length)}))}))},e.prototype.Ho=function(e,t){return ki(e,this.userId,t)},e.prototype.Yo=function(e){var t=this;return Ti(e).get(this.userId).next((function(e){return e||new Ui(t.userId,-1,"")}))},e}();function ki(e,t,n){var r=qi.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ii(e).rs({range:o,ss:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function Ei(e,t,n){var r=e.store(Vi.store),i=e.store(qi.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.rs({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){_(1===s)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=qi.key(t,f.key.path,n.batchId);o.push(i.delete(d)),l.push(f.key)}return pr.$n(o).next((function(){return l}))}function Si(e){return uo.Qn(e,Vi.store)}function Ii(e){return uo.Qn(e,qi.store)}function Ti(e){return uo.Qn(e,Ui.store)}var Ai=function(){function e(e,t){this.serializer=e,this.Dr=t}return e.prototype.Er=function(e,t,n){return xi(e).put(Pi(t),n)},e.prototype.Ar=function(e,t){var n=xi(e),r=Pi(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Jo(e,r)}))},e.prototype.Rr=function(e,t){var n=this;return xi(e).get(Pi(t)).next((function(e){return n.Xo(e)}))},e.prototype.Zo=function(e,t){var n=this;return xi(e).get(Pi(t)).next((function(e){var t=n.Xo(e);return t?{ta:t,size:Ri(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Oe();return this.ea(e,t,(function(e,t){var i=n.Xo(t);r=r.ot(e,i)})).next((function(){return r}))},e.prototype.na=function(e,t){var n=this,r=Oe(),i=new ke(A.i);return this.ea(e,t,(function(e,t){var o=n.Xo(t);o?(r=r.ot(e,o),i=i.ot(e,Ri(t))):(r=r.ot(e,null),i=i.ot(e,0))})).next((function(){return{sa:r,ia:i}}))},e.prototype.ea=function(e,t,n){if(t.m())return pr.resolve();var r=IDBKeyRange.bound(t.first().path.A(),t.last().path.A()),i=t._t(),o=i.It();return xi(e).rs({range:r},(function(e,t,r){for(var a=A.$(e);o&&A.i(o,a)<0;)n(o,null),o=i.It();o&&o.isEqual(a)&&(n(o,t),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},e.prototype.Lr=function(e,t,n){var r=this,i=Pe(),o=t.path.length+1,a={};if(n.isEqual(ue.min())){var s=t.path.A();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.A(),l=vi(n);a.range=IDBKeyRange.lowerBound([u,l],!0),a.index=zi.collectionReadTimeIndex}return xi(e).rs(a,(function(e,n,a){if(e.length===o){var s=di(r.serializer,n);t.path.T(s.key.path)?s instanceof Nn&&Qn(t,s)&&(i=i.ot(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.ra=function(e){return new Ni(this,!!e&&e.oa)},e.prototype.aa=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Oi(e).get(Wi.key).next((function(e){return _(!!e),e}))},e.prototype.Jo=function(e,t){return Oi(e).put(Wi.key,t)},e.prototype.Xo=function(e){if(e){var t=di(this.serializer,e);return t instanceof On&&t.version.isEqual(ue.min())?null:t}return null},e}(),Ni=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).ca=t,r.oa=n,r.ua=new ae((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return r.__extends(t,e),t.prototype.yr=function(e){var t=this,n=[],r=0,i=new Ie((function(e,t){return X(e.R(),t.R())}));return this.wr.forEach((function(o,a){var s=t.ua.get(o);if(a){var u=pi(t.ca.serializer,a,t.readTime);i=i.add(o.path.h());var l=Ri(u);r+=l-s,n.push(t.ca.Er(e,o,u))}else if(r-=s,t.oa){var c=pi(t.ca.serializer,new On(o,ue.min()),t.readTime);n.push(t.ca.Er(e,o,c))}else n.push(t.ca.Ar(e,o))})),i.forEach((function(r){n.push(t.ca.Dr.Mo(e,r))})),n.push(this.ca.updateMetadata(e,r)),pr.$n(n)},t.prototype.gr=function(e,t){var n=this;return this.ca.Zo(e,t).next((function(e){return null===e?(n.ua.set(t,0),null):(n.ua.set(t,e.size),e.ta)}))},t.prototype.Pr=function(e,t){var n=this;return this.ca.na(e,t).next((function(e){var t=e.sa;return e.ia.forEach((function(e,t){n.ua.set(e,t)})),t}))},t}($r);function Oi(e){return uo.Qn(e,Wi.store)}function xi(e){return uo.Qn(e,zi.store)}function Pi(e){return e.path.A()}function Ri(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw m();t=e.noDocument}return JSON.stringify(t).length}var Di=function(){function e(){this.ha=new Mi}return e.prototype.Mo=function(e,t){return this.ha.add(t),pr.resolve()},e.prototype.Qr=function(e,t){return pr.resolve(this.ha.getEntries(t))},e}(),Mi=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e._(),n=e.h(),r=this.index[t]||new Ie(S.i),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e._(),n=e.h(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Ie(S.i)).A()},e}(),Li=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;_(n<r&&n>=0&&r<=10);var o=new _r("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ji.store)}(e),function(e){e.createObjectStore(Ui.store,{keyPath:Ui.keyPath}),e.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0}),e.createObjectStore(qi.store)}(e),Xi(e),function(e){e.createObjectStore(zi.store)}(e));var a=pr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ki.store),e.deleteObjectStore(Gi.store),e.deleteObjectStore(Qi.store)}(e),Xi(e)),a=a.next((function(){return function(e){var t=e.store(Qi.store),n=new Qi(0,0,ue.min().Z(),0);return t.put(Qi.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Vi.store).ts().next((function(n){e.deleteObjectStore(Vi.store),e.createObjectStore(Vi.store,{keyPath:Vi.keyPath,autoIncrement:!0}).createIndex(Vi.userMutationsIndex,Vi.userMutationsKeyPath,{unique:!0});var r=t.store(Vi.store),i=n.map((function(e){return r.put(e)}));return pr.$n(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore($i.store,{keyPath:$i.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Wi.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(zi.store);t.createIndex(zi.readTimeIndex,zi.readTimeIndexPath,{unique:!1}),t.createIndex(zi.collectionReadTimeIndex,zi.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(zi.store).rs((function(e,n){t+=Ri(n)})).next((function(){var n=new Wi(t);return e.store(Wi.store).put(Wi.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Ui.store),r=e.store(Vi.store);return n.ts().next((function(n){return pr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Vi.userMutationsIndex,i).next((function(r){return pr.forEach(r,(function(r){_(r.userId===n.userId);var i=_i(t.serializer,r);return Ei(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(Ki.store),n=e.store(zi.store);return e.store(Qi.store).get(Qi.key).next((function(e){var r=[];return n.rs((function(n,i){var o=new S(n),a=function(e){return[0,ui(e)]}(o);r.push(t.get(a).next((function(n){return n?pr.resolve():function(n){return t.put(new Ki(0,ui(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return pr.$n(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(Yi.store,{keyPath:Yi.keyPath});var n=t.store(Yi.store),r=new Mi,i=function(e){if(r.add(e)){var t=e._(),i=e.h();return n.put({collectionId:t,parent:ui(i)})}};return t.store(zi.store).rs({ss:!0},(function(e,t){var n=new S(e);return i(n.h())})).next((function(){return t.store(qi.store).rs({ss:!0},(function(e,t){var n=hi(e[1]);return i(n.h())}))}))},e.prototype.rewriteCanonicalIds=function(e){var t=this,n=e.store(Gi.store);return n.rs((function(e,r){var i=bi(r),o=wi(t.serializer,i);return n.put(o)}))},e}(),Fi=function(e,t){this.seconds=e,this.nanoseconds=t},ji=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ji.store="owner",ji.key="owner";var Ui=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ui.store="mutationQueues",Ui.keyPath="userId";var Vi=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Vi.store="mutations",Vi.keyPath="batchId",Vi.userMutationsIndex="userMutationsIndex",Vi.userMutationsKeyPath=["userId","batchId"];var qi=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,ui(t)]},e.key=function(e,t,n){return[e,ui(t),n]},e}();qi.store="documentMutations",qi.PLACEHOLDER=new qi;var Bi=function(e,t){this.path=e,this.readTime=t},Hi=function(e,t){this.path=e,this.version=t},zi=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};zi.store="remoteDocuments",zi.readTimeIndex="readTimeIndex",zi.readTimeIndexPath="readTime",zi.collectionReadTimeIndex="collectionReadTimeIndex",zi.collectionReadTimeIndexPath=["parentPath","readTime"];var Wi=function(e){this.byteSize=e};Wi.store="remoteDocumentGlobal",Wi.key="remoteDocumentGlobalKey";var Gi=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Gi.store="targets",Gi.keyPath="targetId",Gi.queryTargetsIndexName="queryTargetsIndex",Gi.queryTargetsKeyPath=["canonicalId","targetId"];var Ki=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Ki.store="targetDocuments",Ki.keyPath=["targetId","path"],Ki.documentTargetsIndex="documentTargetsIndex",Ki.documentTargetsKeyPath=["path","targetId"];var Qi=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qi.key="targetGlobalKey",Qi.store="targetGlobal";var Yi=function(e,t){this.collectionId=e,this.parent=t};function Xi(e){e.createObjectStore(Ki.store,{keyPath:Ki.keyPath}).createIndex(Ki.documentTargetsIndex,Ki.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Gi.store,{keyPath:Gi.keyPath}).createIndex(Gi.queryTargetsIndexName,Gi.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Qi.store)}Yi.store="collectionParents",Yi.keyPath=["collectionId","parent"];var $i=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};$i.store="clientMetadata",$i.keyPath="clientId";var Ji=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Ui.store,Vi.store,qi.store,zi.store,Gi.store,ji.store,Qi.store,Ki.store],[$i.store]),[Wi.store]),[Yi.store]),Zi=function(){function e(){this.la=new Mi}return e.prototype.Mo=function(e,t){var n=this;if(!this.la.has(t)){var r=t._(),i=t.h();e.pr((function(){n.la.add(t)}));var o={collectionId:r,parent:ui(i)};return eo(e).put(o)}return pr.resolve()},e.prototype.Qr=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[J(t),""],!1,!0);return eo(e).ts(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(hi(o.parent))}return n}))},e}();function eo(e){return uo.Qn(e,Yi.store)}var to=function(){function e(e){this._a=e}return e.prototype.next=function(){return this._a+=2,this._a},e.fa=function(){return new e(0)},e.da=function(){return new e(-1)},e}(),no=function(){function e(e,t){this.No=e,this.serializer=t}return e.prototype.wa=function(e){var t=this;return this.ma(e).next((function(n){var r=new to(n.highestTargetId);return n.highestTargetId=r.next(),t.Ta(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.Ea=function(e){return this.ma(e).next((function(e){return ue.J(new se(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.Ia=function(e){return this.ma(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.Aa=function(e,t,n){var r=this;return this.ma(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.Z()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ta(e,i)}))},e.prototype.Ra=function(e,t){var n=this;return this.ga(e,t).next((function(){return n.ma(e).next((function(r){return r.targetCount+=1,n.Pa(t,r),n.Ta(e,r)}))}))},e.prototype.ya=function(e,t){return this.ga(e,t)},e.prototype.Va=function(e,t){var n=this;return this.pa(e,t.targetId).next((function(){return ro(e).delete(t.targetId)})).next((function(){return n.ma(e)})).next((function(t){return _(t.targetCount>0),t.targetCount-=1,n.Ta(e,t)}))},e.prototype.po=function(e,t,n){var r=this,i=0,o=[];return ro(e).rs((function(a,s){var u=bi(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.Va(e,u)))})).next((function(){return pr.$n(o)})).next((function(){return i}))},e.prototype.Ce=function(e,t){return ro(e).rs((function(e,n){var r=bi(n);t(r)}))},e.prototype.ma=function(e){return io(e).get(Qi.key).next((function(e){return _(null!==e),e}))},e.prototype.Ta=function(e,t){return io(e).put(Qi.key,t)},e.prototype.ga=function(e,t){return ro(e).put(wi(this.serializer,t))},e.prototype.Pa=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.ba=function(e){return this.ma(e).next((function(e){return e.targetCount}))},e.prototype.va=function(e,t){var n=pe(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ro(e).rs({range:r,index:Gi.queryTargetsIndexName},(function(e,n,r){var o=bi(n);ve(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.Sa=function(e,t,n){var r=this,i=[],o=oo(e);return t.forEach((function(t){var a=ui(t.path);i.push(o.put(new Ki(n,a))),i.push(r.No.Da(e,n,t))})),pr.$n(i)},e.prototype.Ca=function(e,t,n){var r=this,i=oo(e);return pr.forEach(t,(function(t){var o=ui(t.path);return pr.$n([i.delete([n,o]),r.No.Na(e,n,t)])}))},e.prototype.pa=function(e,t){var n=oo(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.Fa=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=oo(e),i=Me();return r.rs({range:n,ss:!0},(function(e,t,n){var r=hi(e[1]),o=new A(r);i=i.add(o)})).next((function(){return i}))},e.prototype.Ho=function(e,t){var n=ui(t.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),i=0;return oo(e).rs({index:Ki.documentTargetsIndex,ss:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.Ue=function(e,t){return ro(e).get(t).next((function(e){return e?bi(e):null}))},e}();function ro(e){return uo.Qn(e,Gi.store)}function io(e){return uo.Qn(e,Qi.store)}function oo(e){return uo.Qn(e,Ki.store)}var ao="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",so=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jo=t,r.xa=n,r}return r.__extends(t,e),t}(Zr),uo=function(){function e(t,n,r,i,o,a,s,u,l,f){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=a,this.document=s,this.$a=l,this.ka=f,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(e){return Promise.resolve()},!e.Ln())throw new h(c.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new ho(this,i),this.Wa=n+"main",this.serializer=new fi(u),this.ja=new vr(this.Wa,10,new Li(this.serializer)),this.Ka=new no(this.No,this.serializer),this.Dr=new Zi,this.vr=function(e,t){return new Ai(e,t)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===f&&v("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.Qn=function(e,t){if(e instanceof so)return vr.Qn(e.jo,t);throw m()},e.prototype.start=function(){var e=this;return this.za().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new h(c.FAILED_PRECONDITION,ao);return e.Ha(),e.Ya(),e.Ja(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ka.Ia(t)}))})).then((function(t){e.Ma=new jr(t,e.$a)})).then((function(){e.Oa=!0})).catch((function(t){return e.ja&&e.ja.close(),Promise.reject(t)}))},e.prototype.Xa=function(e){var t=this;return this.Qa=function(n){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.Ei?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.Za=function(e){var t=this;this.ja.Kn((function(n){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.tc=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.fn.ws((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.za=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return co(t).put(new $i(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.ec(t).next((function(t){t||(e.isPrimary=!1,e.fn.Cs((function(){return e.Qa(!1)})))}))})).next((function(){return e.nc(t)})).next((function(n){return e.isPrimary&&!n?e.sc(t).next((function(){return!1})):!!n&&e.ic(t).next((function(){return!0}))}))})).catch((function(t){if(mr(t))return p("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.fn.Cs((function(){return e.Qa(t)})),e.isPrimary=t}))},e.prototype.ec=function(e){var t=this;return lo(e).get(ji.key).next((function(e){return pr.resolve(t.rc(e))}))},e.prototype.oc=function(e){return co(e).delete(this.clientId)},e.prototype.ac=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var n=e.Qn(t,$i.store);return n.ts().next((function(e){var t=o.uc(e,18e5),r=e.filter((function(e){return-1===t.indexOf(e)}));return pr.forEach(r,(function(e){return n.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=r.sent(),this.Ga)for(n=0,i=t;n<i.length;n++)this.Ga.removeItem(this.hc(i[n].clientId));r.label=2;case 2:return[2]}}))}))},e.prototype.Ja=function(){var e=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return e.za().then((function(){return e.ac()})).then((function(){return e.Ja()}))}))},e.prototype.rc=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.nc=function(e){var t=this;return this.ka?pr.resolve(!0):lo(e).get(ji.key).next((function(n){if(null!==n&&t.cc(n.leaseTimestampMs,5e3)&&!t.lc(n.ownerId)){if(t.rc(n)&&t.networkEnabled)return!0;if(!t.rc(n)){if(!n.allowTabSynchronization)throw new h(c.FAILED_PRECONDITION,ao);return!1}}return!(!t.networkEnabled||!t.inForeground)||co(e).ts().next((function(e){return void 0===t.uc(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&p("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.Di=function(){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(t){switch(t.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[ji.store,$i.store],(function(t){var n=new so(t,jr.ai);return e.sc(n).next((function(){return e.oc(n)}))}))];case 1:return t.sent(),this.ja.close(),this.wc(),[2]}}))}))},e.prototype.uc=function(e,t){var n=this;return e.filter((function(e){return n.cc(e.updateTimeMs,t)&&!n.lc(e.clientId)}))},e.prototype.pi=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return co(t).ts().next((function(t){return e.uc(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),e.prototype.mc=function(e){return Ci.xo(e,this.serializer,this.Dr,this.No)},e.prototype.Tc=function(){return this.Ka},e.prototype.Ec=function(){return this.vr},e.prototype.Ic=function(){return this.Dr},e.prototype.runTransaction=function(e,t,n){var r,i=this;return p("IndexedDbPersistence","Starting transaction:",e),this.ja.runTransaction(e,"readonly"===t?"readonly":"readwrite",Ji,(function(o){return r=new so(o,i.Ma?i.Ma.next():jr.ai),"readwrite-primary"===t?i.ec(r).next((function(e){return!!e||i.nc(r)})).next((function(t){if(!t)throw v("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.Qa(!1)})),new h(c.FAILED_PRECONDITION,Jr);return n(r)})).next((function(e){return i.ic(r).next((function(){return e}))})):i.Ac(r).next((function(){return n(r)}))})).then((function(e){return r.br(),e}))},e.prototype.Ac=function(e){var t=this;return lo(e).get(ji.key).next((function(e){if(null!==e&&t.cc(e.leaseTimestampMs,5e3)&&!t.lc(e.ownerId)&&!t.rc(e)&&!(t.ka||t.allowTabSynchronization&&e.allowTabSynchronization))throw new h(c.FAILED_PRECONDITION,ao)}))},e.prototype.ic=function(e){var t=new ji(this.clientId,this.allowTabSynchronization,Date.now());return lo(e).put(ji.key,t)},e.Ln=function(){return vr.Ln()},e.prototype.sc=function(e){var t=this,n=lo(e);return n.get(ji.key).next((function(e){return t.rc(e)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(ji.key)):pr.resolve()}))},e.prototype.cc=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(v("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Ha=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){e.fn.ws((function(){return e.inForeground="visible"===e.document.visibilityState,e.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},e.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},e.prototype.Ya=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.La=function(){t._c(),t.fn.ws((function(){return t.Di()}))},this.window.addEventListener("unload",this.La))},e.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},e.prototype.lc=function(e){var t;try{var n=null!==(null===(t=this.Ga)||void 0===t?void 0:t.getItem(this.hc(e)));return p("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return v("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){v("Failed to set zombie client id.",r)}},e.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},e.prototype.hc=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function lo(e){return uo.Qn(e,ji.store)}function co(e){return uo.Qn(e,$i.store)}var ho=function(){function e(e,t){this.db=e,this.wo=new si(this,t)}return e.prototype.Po=function(e){var t=this.Rc(e);return this.db.Tc().ba(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.Rc=function(e){var t=0;return this.Vo(e,(function(e){t++})).next((function(){return t}))},e.prototype.Ce=function(e,t){return this.db.Tc().Ce(e,t)},e.prototype.Vo=function(e,t){return this.gc(e,(function(e,n){return t(n)}))},e.prototype.Da=function(e,t,n){return fo(e,n)},e.prototype.Na=function(e,t,n){return fo(e,n)},e.prototype.po=function(e,t,n){return this.db.Tc().po(e,t,n)},e.prototype.Go=function(e,t){return fo(e,t)},e.prototype.Pc=function(e,t){return function(e,t){var n=!1;return Ti(e).os((function(r){return ki(e,r,t).next((function(e){return e&&(n=!0),pr.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.bo=function(e,t){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(e,(function(a,s){if(s<=t){var u=n.Pc(e,a).next((function(t){if(!t)return o++,r.Rr(e,a).next((function(){return r.Ar(a),oo(e).delete([0,ui(a.path)])}))}));i.push(u)}})).next((function(){return pr.$n(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.st(e.xa);return this.db.Tc().ya(e,n)},e.prototype.yc=function(e,t){return fo(e,t)},e.prototype.gc=function(e,t){var n,r=oo(e),i=jr.ai;return r.rs({index:Ki.documentTargetsIndex},(function(e,r){var o=r.path,a=r.sequenceNumber;0===e[0]?(i!==jr.ai&&t(new A(hi(n)),i),i=a,n=o):i=jr.ai})).next((function(){i!==jr.ai&&t(new A(hi(n)),i)}))},e.prototype.So=function(e){return this.db.Ec().aa(e)},e}();function fo(e,t){return oo(e).put(function(e,t){return new Ki(0,ui(e.path),t)}(t,e.xa))}function po(e,t){var n=e.projectId;return e.j||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var vo=function(){function e(e,t,n){this.persistence=e,this.Vc=t,this.bc=new ke(X),this.vc=new ae((function(e){return pe(e)}),ve),this.Sc=ue.min(),this.Sr=e.mc(n),this.Dc=e.Ec(),this.Ka=e.Tc(),this.Cc=new ei(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return e.prototype.Io=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.vo(n,t.bc)}))},e}();function go(e,t){var n=b(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Dc.ra({oa:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=pr.resolve();return o.forEach((function(e){a=a.next((function(){return r.Rr(t,e)})).next((function(t){var o=t,a=n.dr.get(e);_(null!==a),(!o||o.version.L(a)<0)&&(o=i.cr(e,o,n))&&r.Er(o,n._r)}))})),a.next((function(){return e.Sr.Wo(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Sr.zo(e)})).next((function(){return n.Cc.kr(e,r)}))}))}function yo(e){var t=b(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ka.Ea(e)}))}function mo(e,t){var n=b(e),r=t.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Dc.ra({oa:!0});i=n.bc;var a=[];t.zt.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.Ka.Ca(e,t.se,o).next((function(){return n.Ka.Sa(e,t.ee,o)})));var u=t.resumeToken;if(u.O()>0){var l=s.it(u,r).st(e.xa);i=i.ot(o,l),function(e,t,n){return _(t.resumeToken.O()>0),0===e.resumeToken.O()||t.nt.X()-e.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(s,l,t)&&a.push(n.Ka.ya(e,l))}}}));var s=Ne(),u=Me();if(t.Yt.forEach((function(e,t){u=u.add(e)})),a.push(o.getEntries(e,u).next((function(i){t.Yt.forEach((function(u,l){var c=i.get(u);l instanceof On&&l.version.isEqual(ue.min())?(o.Ar(u,r),s=s.ot(u,l)):null==c||l.version.L(c.version)>0||0===l.version.L(c.version)&&c.hasPendingWrites?(o.Er(l,r),s=s.ot(u,l)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version),t.Jt.has(u)&&a.push(n.persistence.No.yc(e,u))}))}))),!r.isEqual(ue.min())){var l=n.Ka.Ea(e).next((function(t){return n.Ka.Aa(e,e.xa,r)}));a.push(l)}return pr.$n(a).next((function(){return o.apply(e)})).next((function(){return n.Cc.Mr(e,s)}))})).then((function(e){return n.bc=i,e}))}function _o(e,t){var n=b(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Sr.Bo(e,t)}))}function bo(e,t){var n=b(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ka.va(e,t).next((function(i){return i?pr.resolve(r=i):n.Ka.wa(e).next((function(i){return r=new _e(t,i,0,e.xa),n.Ka.Ra(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.bc.get(e.targetId);return(null===r||e.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(e.targetId,e),n.vc.set(t,e.targetId)),e}))}function wo(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=b(e),o=i.bc.get(t),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,(function(e){return i.persistence.No.removeTarget(e,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!mr(s=r.sent()))throw s;return p("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return i.bc=i.bc.remove(t),i.vc.delete(o.target),[2]}}))}))}function Co(e,t,n){var r=b(e),i=ue.min(),o=Me();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=b(e),i=r.vc.get(n);return void 0!==i?pr.resolve(r.bc.get(i)):r.Ka.va(t,n)}(r,e,qn(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ka.Fa(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Vc.Lr(e,t,n?i:ue.min(),n?o:Me())})).next((function(e){return{documents:e,Fc:o}}))}))}function ko(e,t){var n=b(e),r=b(n.Ka),i=n.bc.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Ue(e,t).next((function(e){return e?e.target:null}))}))}function Eo(e){var t=b(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=b(e),i=Ne(),o=vi(n),a=xi(t),s=IDBKeyRange.lowerBound(o,!0);return a.rs({index:zi.readTimeIndex,range:s},(function(e,t){var n=di(r.serializer,t);i=i.ot(n.key,n),o=t.readTime})).next((function(){return{xc:i,readTime:gi(o)}}))}(t.Dc,e,t.Sc)})).then((function(e){var n=e.xc;return t.Sc=e.readTime,n}))}function So(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){return[2,(t=b(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=xi(e),n=ue.min();return t.rs({index:zi.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=gi(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.Sc=e}))]}))}))}function Io(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){if(e.code!==c.FAILED_PRECONDITION||e.message!==Jr)throw e;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var To=function(){function e(){this.$c=new Ie(Ao.kc),this.Mc=new Ie(Ao.Oc)}return e.prototype.m=function(){return this.$c.m()},e.prototype.Da=function(e,t){var n=new Ao(e,t);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},e.prototype.Lc=function(e,t){var n=this;e.forEach((function(e){return n.Da(e,t)}))},e.prototype.Na=function(e,t){this.Bc(new Ao(e,t))},e.prototype.qc=function(e,t){var n=this;e.forEach((function(e){return n.Na(e,t)}))},e.prototype.Uc=function(e){var t=this,n=new A(new S([])),r=new Ao(n,e),i=new Ao(n,e+1),o=[];return this.Mc.Ft([r,i],(function(e){t.Bc(e),o.push(e.key)})),o},e.prototype.Qc=function(){var e=this;this.$c.forEach((function(t){return e.Bc(t)}))},e.prototype.Bc=function(e){this.$c=this.$c.delete(e),this.Mc=this.Mc.delete(e)},e.prototype.Wc=function(e){var t=new A(new S([])),n=new Ao(t,e),r=new Ao(t,e+1),i=Me();return this.Mc.Ft([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.Ho=function(e){var t=new Ao(e,0),n=this.$c.$t(t);return null!==n&&e.isEqual(n.key)},e}(),Ao=function(){function e(e,t){this.key=e,this.jc=t}return e.kc=function(e,t){return A.i(e.key,t.key)||X(e.jc,t.jc)},e.Oc=function(e,t){return X(e.jc,t.jc)||A.i(e.key,t.key)},e}(),No=function(e,t){this.user=t,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+e},Oo=function(){function e(){this.Gc=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.zc=function(){},e.prototype.Hc=function(e){this.Gc=e,e(Fr.UNAUTHENTICATED)},e.prototype.Yc=function(){this.Gc=null},e}(),xo=function(){function e(e){var t=this;this.Jc=null,this.currentUser=Fr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){t.Zc++,t.currentUser=t.tu(),t.Xc=!0,t.Gc&&t.Gc(t.currentUser)},this.Zc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),e.get().then((function(e){t.auth=e,t.Jc&&t.auth.addAuthTokenListener(t.Jc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.Zc!==t?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_("string"==typeof n.accessToken),new No(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.zc=function(){this.forceRefresh=!0},e.prototype.Hc=function(e){this.Gc=e,this.Xc&&e(this.currentUser)},e.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},e.prototype.tu=function(){var e=this.auth&&this.auth.getUid();return _(null===e||"string"==typeof e),new Fr(e)},e}(),Po=function(){function e(e,t){this.eu=e,this.nu=t,this.type="FirstParty",this.user=Fr.ni}return Object.defineProperty(e.prototype,"Kc",{get:function(){var e={"X-Goog-AuthUser":this.nu},t=this.eu.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),Ro=function(){function e(e,t){this.eu=e,this.nu=t}return e.prototype.getToken=function(){return Promise.resolve(new Po(this.eu,this.nu))},e.prototype.Hc=function(e){e(Fr.ni)},e.prototype.Yc=function(){},e.prototype.zc=function(){},e}(),Do=function(){function e(e,t,n,r,i,o){this.fn=e,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new dr(e,t)}return e.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.uu=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.hu()},e.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.lu=function(){this.state=0,this.ys.reset()},e.prototype._u=function(){var e=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return e.fu()})))},e.prototype.du=function(e){this.wu(),this.stream.send(e)},e.prototype.fu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.uu()?[2,this.close(0)]:[2]}))}))},e.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},e.prototype.close=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==e?this.ys.reset():t&&t.code===c.RESOURCE_EXHAUSTED?(v(t.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):t&&t.code===c.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Tu(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.mu=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(t){e.ou===n&&e.Iu(t)}),(function(n){t((function(){var t=new h(c.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Au(t)}))}))},e.prototype.Iu=function(e){var t=this,n=this.Eu(this.ou);this.stream=this.Ru(e),this.stream.gu((function(){n((function(){return t.state=2,t.listener.gu()}))})),this.stream.Tu((function(e){n((function(){return t.Au(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.hu=function(){var e=this;this.state=4,this.ys.gn((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.Au=function(e){return p("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.Eu=function(e){var t=this;return function(n){t.fn.ws((function(){return t.ou===e?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Mo=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return r.__extends(t,e),t.prototype.Ru=function(e){return this.iu.Pu("Listen",e)},t.prototype.onMessage=function(e){this.ys.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:m()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.Qe?(_(void 0===t||"string"==typeof t),Z.fromBase64String(t||"")):(_(void 0===t||t instanceof Uint8Array),Z.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){var t=void 0===e.code?c.UNKNOWN:Ce(e.code);return new h(t,e.message||"")}(a);n=new We(r,i,o,s||null)}else if("documentChange"in t){var u=t.documentChange,l=Tt(e,u.document.name),f=kt(u.document.updateTime),d=new Sn({mapValue:{fields:u.document.fields}}),p=new Nn(l,f,d,{});n=new He(u.targetIds||[],u.removedTargetIds||[],p.key,p)}else if("documentDelete"in t){var v=t.documentDelete,g=Tt(e,v.document),y=v.readTime?kt(v.readTime):ue.min(),b=new On(g,y);n=new He([],v.removedTargetIds||[],b.key,b)}else if("documentRemove"in t){var w=t.documentRemove,C=Tt(e,w.document);n=new He([],w.removedTargetIds||[],C,null)}else{if(!("filter"in t))return m();var k=t.filter,E=new be(k.count||0);n=new ze(k.targetId,E)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ue.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ue.min():t.readTime?kt(t.readTime):ue.min()}(e);return this.listener.yu(t,n)},t.prototype.Vu=function(e){var t={};t.database=Ot(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=ge(r)?{documents:Mt(e,r)}:{query:Lt(e,r)}).targetId=t.targetId,t.resumeToken.O()>0&&(n.resumeToken=wt(e,t.resumeToken)),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return m()}}(0,t.et);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.du(t)},t.prototype.pu=function(e){var t={};t.database=Ot(this.serializer),t.removeTarget=e,this.du(t)},t}(Do),Lo=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.bu=!1,a}return r.__extends(t,e),Object.defineProperty(t.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.mu=function(){this.bu&&this.Su([])},t.prototype.Ru=function(e){return this.iu.Pu("Write",e)},t.prototype.onMessage=function(e){if(_(!!e.streamToken),this.lastStreamToken=e.streamToken,this.bu){this.ys.reset();var t=function(e,t){return e&&e.length>0?(_(void 0!==t),e.map((function(e){return function(e,t){var n=kt(e.updateTime?e.updateTime:t);n.isEqual(ue.min())&&(n=kt(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults),new un(n,r)}(e,t)}))):[]}(e.writeResults,e.commitTime),n=kt(e.commitTime);return this.listener.Du(n,t)}return _(!e.writeResults||0===e.writeResults.length),this.bu=!0,this.listener.Cu()},t.prototype.Nu=function(){var e={};e.database=Ot(this.serializer),this.du(e)},t.prototype.Su=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Rt(t.serializer,e)}))};this.du(n)},t}(Do),Fo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.iu=n,i.serializer=r,i.Fu=!1,i}return r.__extends(t,e),t.prototype.xu=function(){if(this.Fu)throw new h(c.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.$u=function(e,t,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(e,t,n,i)})).catch((function(e){throw e.code===c.UNAUTHENTICATED&&r.credentials.zc(),e}))},t.prototype.ku=function(e,t,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(e,t,n,i)})).catch((function(e){throw e.code===c.UNAUTHENTICATED&&r.credentials.zc(),e}))},t.prototype.terminate=function(){this.Fu=!1},t}((function(){})),jo=function(){function e(e,t){this.cs=e,this.di=t,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return e.prototype.Bu=function(){var e=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return e.Ou=null,e.Uu("Backend didn't respond within 10 seconds."),e.qu("Offline"),Promise.resolve()})))},e.prototype.Qu=function(e){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+e.toString()),this.qu("Offline")))},e.prototype.set=function(e){this.Wu(),this.Mu=0,"Online"===e&&(this.Lu=!1),this.qu(e)},e.prototype.qu=function(e){e!==this.state&&(this.state=e,this.di(e))},e.prototype.Uu=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(v(t),this.Lu=!1):p("OnlineStateTracker",t)},e.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},e}(),Uo=function(e,t,n,i,o){var a=this;this.ju=e,this.Ku=t,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=o,this.Xu.Zu((function(e){n.ws((function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return Yo(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return(t=b(e)).Yu.add(4),[4,qo(t)];case 1:return n.sent(),t.th.set("Unknown"),t.Yu.delete(4),[4,Vo(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.th=new jo(n,i)};function Vo(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:if(!Yo(e))return[3,4];t=0,n=e.Ju,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function qo(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:t=0,n=e.Ju,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Bo(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return t=b(e),p("RemoteStore","RemoteStore shutting down."),t.Yu.add(5),[4,qo(t)];case 1:return n.sent(),t.Xu.Di(),t.th.set("Unknown"),[2]}}))}))}function Ho(e,t){var n=b(e);n.Hu.has(t.targetId)||(n.Hu.set(t.targetId,t),Qo(n)?Ko(n):ca(n).uu()&&Wo(n,t))}function zo(e,t){var n=b(e),r=ca(n);n.Hu.delete(t),r.uu()&&Go(n,t),0===n.Hu.size&&(r.uu()?r._u():Yo(n)&&n.th.set("Unknown"))}function Wo(e,t){e.eh.Ie(t.targetId),ca(e).Vu(t)}function Go(e,t){e.eh.Ie(t),ca(e).pu(t)}function Ko(e){e.eh=new Ke({qe:function(t){return e.Gu.qe(t)},Ue:function(t){return e.Hu.get(t)||null}}),ca(e).start(),e.th.Bu()}function Qo(e){return Yo(e)&&!ca(e).cu()&&e.Hu.size>0}function Yo(e){return 0===b(e).Yu.size}function Xo(e){e.eh=void 0}function $o(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return e.Hu.forEach((function(t,n){Wo(e,t)})),[2]}))}))}function Jo(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return Xo(e),Qo(e)?(e.th.Qu(t),Ko(e)):e.th.set("Unknown"),[2]}))}))}function Zo(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a;return r.__generator(this,(function(s){switch(s.label){case 0:if(e.th.set("Online"),!(t instanceof We&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:n=t.cause,i=0,o=t.targetIds,r.label=1;case 1:return i<o.length?e.Hu.has(a=o[i])?[4,e.Gu.nh(a,n)]:[3,3]:[3,5];case 2:r.sent(),e.Hu.delete(a),e.eh.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),p("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,ea(e,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof He?e.eh.be(t):t instanceof ze?e.eh.$e(t):e.eh.De(t),n.isEqual(ue.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,yo(e.ju)];case 8:return o=s.sent(),n.L(o)>=0?[4,function(e,t){var n=e.eh.Oe(t);return n.zt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=e.Hu.get(r);i&&e.Hu.set(r,i.it(n.resumeToken,t))}})),n.Ht.forEach((function(t){var n=e.Hu.get(t);if(n){e.Hu.set(t,n.it(Z.B,n.nt)),Go(e,t);var r=new _e(n.target,t,1,n.sequenceNumber);Wo(e,r)}})),e.Gu.sh(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,ea(e,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function ea(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){switch(o.label){case 0:if(!mr(t))throw t;return e.Yu.add(1),[4,qo(e)];case 1:return o.sent(),e.th.set("Offline"),n||(n=function(){return yo(e.ju)}),e.cs.Cs((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Yu.delete(1),[4,Vo(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function ta(e,t){return t().catch((function(n){return ea(e,n,t)}))}function na(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:t=b(e),n=ha(t),i=t.zu.length>0?t.zu[t.zu.length-1].batchId:-1,r.label=1;case 1:if(!function(e){return Yo(e)&&e.zu.length<10}(t))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,_o(t.ju,i)];case 3:return null===(o=r.sent())?(0===t.zu.length&&n._u(),[3,7]):(i=o.batchId,function(e,t){e.zu.push(t);var n=ha(e);n.uu()&&n.vu&&n.Su(t.mutations)}(t,o),[3,6]);case 4:return a=r.sent(),[4,ea(t,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return ra(t)&&ia(t),[2]}}))}))}function ra(e){return Yo(e)&&!ha(e).cu()&&e.zu.length>0}function ia(e){ha(e).start()}function oa(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return ha(e).Nu(),[2]}))}))}function aa(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i;return r.__generator(this,(function(r){for(t=ha(e),n=0,i=e.zu;n<i.length;n++)t.Su(i[n].mutations);return[2]}))}))}function sa(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return i=e.zu.shift(),o=Xr.from(i,t,n),[4,ta(e,(function(){return e.Gu.ih(o)}))];case 1:return r.sent(),[4,na(e)];case 2:return r.sent(),[2]}}))}))}function ua(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return t&&ha(e).vu?[4,function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return we(i=t.code)&&i!==c.ABORTED?(n=e.zu.shift(),ha(e).lu(),[4,ta(e,(function(){return e.Gu.rh(n.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,na(e)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ra(e)&&ia(e),[2]}}))}))}function la(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(e),t?(n.Yu.delete(2),[4,Vo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Yu.add(2),[4,qo(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ca(e){var t=this;return e.oh||(e.oh=function(e,t,n){var r=b(e);return r.xu(),new Mo(t,r.iu,r.credentials,r.serializer,n)}(e.Ku,e.cs,{gu:$o.bind(null,e),Tu:Jo.bind(null,e),yu:Zo.bind(null,e)}),e.Ju.push((function(n){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return n?(e.oh.lu(),Qo(e)?Ko(e):e.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.oh.stop()];case 2:t.sent(),Xo(e),t.label=3;case 3:return[2]}}))}))}))),e.oh}function ha(e){var t=this;return e.ah||(e.ah=function(e,t,n){var r=b(e);return r.xu(),new Lo(t,r.iu,r.credentials,r.serializer,n)}(e.Ku,e.cs,{gu:oa.bind(null,e),Tu:ua.bind(null,e),Cu:aa.bind(null,e),Du:sa.bind(null,e)}),e.Ju.push((function(n){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return n?(e.ah.lu(),[4,na(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.ah.stop()];case 3:t.sent(),e.zu.length>0&&(p("RemoteStore","Stopping write stream with "+e.zu.length+" pending writes"),e.zu=[]),t.label=4;case 4:return[2]}}))}))}))),e.ah}var fa=function(e){this.key=e},da=function(e){this.key=e},pa=function(){function e(e,t){this.query=e,this.uh=t,this.hh=null,this.te=!1,this.lh=Me(),this.Wt=Me(),this._h=Yn(e),this.fh=new je(this._h)}return Object.defineProperty(e.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),e.prototype.wh=function(e,t){var n=this,r=t?t.mh:new Ue,i=t?t.fh:this.fh,o=t?t.Wt:this.Wt,a=i,s=!1,u=Mn(this.query)&&i.size===this.query.limit?i.last():null,l=Ln(this.query)&&i.size===this.query.limit?i.first():null;if(e.ht((function(e,t){var c=i.get(e),h=t instanceof Nn?t:null;h&&(h=Qn(n.query,h)?h:null);var f=!!c&&n.Wt.has(c.key),d=!!h&&(h.Je||n.Wt.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Th(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n._h(h,u)>0||l&&n._h(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Mn(this.query)||Ln(this.query))for(;a.size>this.query.limit;){var c=Mn(this.query)?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fh:a,mh:r,Eh:s,Wt:o}},e.prototype.Th=function(e,t){return e.Je&&t.hasCommittedMutations&&!t.Je},e.prototype.yr=function(e,t,n){var r=this,i=this.fh;this.fh=e.fh,this.Wt=e.Wt;var o=e.mh.Ut();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return m()}};return n(e)-n(t)}(e.type,t.type)||r._h(e.doc,t.doc)})),this.Ih(n);var a=t?this.Ah():[],s=0===this.lh.size&&this.te?1:0,u=s!==this.hh;return this.hh=s,0!==o.length||u?{snapshot:new Ve(this.query,e.fh,i,o,e.Wt,0===s,u,!1),Rh:a}:{Rh:a}},e.prototype.Qs=function(e){return this.te&&"Offline"===e?(this.te=!1,this.yr({fh:this.fh,mh:new Ue,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},e.prototype.gh=function(e){return!this.uh.has(e)&&!!this.fh.has(e)&&!this.fh.get(e).Je},e.prototype.Ih=function(e){var t=this;e&&(e.ee.forEach((function(e){return t.uh=t.uh.add(e)})),e.ne.forEach((function(e){})),e.se.forEach((function(e){return t.uh=t.uh.delete(e)})),this.te=e.te)},e.prototype.Ah=function(){var e=this;if(!this.te)return[];var t=this.lh;this.lh=Me(),this.fh.forEach((function(t){e.gh(t.key)&&(e.lh=e.lh.add(t.key))}));var n=[];return t.forEach((function(t){e.lh.has(t)||n.push(new da(t))})),this.lh.forEach((function(e){t.has(e)||n.push(new fa(e))})),n},e.prototype.Ph=function(e){this.uh=e.Fc,this.lh=Me();var t=this.wh(e.documents);return this.yr(t,!0)},e.prototype.yh=function(){return Ve.Gt(this.query,this.fh,this.Wt,0===this.hh)},e}(),va=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ga=function(e){this.key=e,this.Vh=!1},ya=function(){function e(e,t,n,r,i,o){this.ju=e,this.ph=t,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new ae((function(e){return Gn(e)}),Wn),this.Fh=new Map,this.xh=[],this.$h=new ke(A.i),this.kh=new Map,this.Mh=new To,this.Oh={},this.Lh=new Map,this.Bh=to.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(e.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),e}();function ma(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=za(e),(o=n.Nh.get(t))?(n.Sh.Oi(o.targetId),i=o.view.yh(),[3,4]):[3,1];case 1:return[4,bo(n.ju,qn(t))];case 2:return a=r.sent(),s=n.Sh.Oi(a.targetId),[4,_a(n,t,a.targetId,"current"===s)];case 3:i=r.sent(),n.Uh&&Ho(n.ph,a),r.label=4;case 4:return[2,i]}}))}))}function _a(e,t,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,l,c;return r.__generator(this,(function(h){switch(h.label){case 0:return e.Qh=function(t,n,i){return function(e,t,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=t.view.wh(n)).Eh?[4,Co(e.ju,t.query,!1).then((function(e){return t.view.wh(e.documents,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return a=i&&i.zt.get(t.targetId),s=t.view.yr(o,e.Uh,a),[2,(Oa(e,t.targetId,s.Rh),s.snapshot)]}}))}))}(e,t,n,i)},[4,Co(e.ju,t,!0)];case 1:return o=h.sent(),a=new pa(t,o.Fc),s=a.wh(o.documents),u=Be.Zt(n,i&&"Offline"!==e.onlineState),l=a.yr(s,e.Uh,u),Oa(e,n,l.Rh),c=new va(t,n,a),[2,(e.Nh.set(t,c),e.Fh.has(n)?e.Fh.get(n).push(t):e.Fh.set(n,[t]),l.snapshot)]}}))}))}function ba(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(e),i=n.Nh.get(t),(o=n.Fh.get(i.targetId)).length>1?[2,(n.Fh.set(i.targetId,o.filter((function(e){return!Wn(e,t)}))),void n.Nh.delete(t))]:n.Uh?(n.Sh.Bi(i.targetId),n.Sh.Fi(i.targetId)?[3,2]:[4,wo(n.ju,i.targetId,!1).then((function(){n.Sh.Ui(i.targetId),zo(n.ph,i.targetId),Aa(n,i.targetId)})).catch(Io)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Aa(n,i.targetId),[4,wo(n.ju,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function wa(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:n=b(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,mo(n.ju,t)];case 2:return i=r.sent(),t.zt.forEach((function(e,t){var r=n.kh.get(t);r&&(_(e.ee.size+e.ne.size+e.se.size<=1),e.ee.size>0?r.Vh=!0:e.ne.size>0?_(r.Vh):e.se.size>0&&(_(r.Vh),r.Vh=!1))})),[4,Ra(n,i,t)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ca(e,t,n){var r=b(e);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(e,n){var r=n.view.Qs(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=b(e);n.onlineState=t;var r=!1;n.Bs.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Qs(t)&&(r=!0)})),r&&Mr(n)}(r.bh,t),i.length&&r.Ch.yu(i),r.onlineState=t,r.Uh&&r.Sh.Ki(t)}}function ka(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,l;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=b(e)).Sh.Qi(t,"rejected",n),o=i.kh.get(t),(a=o&&o.key)?(s=(s=new ke(A.i)).ot(a,new On(a,ue.min())),u=Me().add(a),l=new qe(ue.min(),new Map,new Ie(X),s,u),[4,wa(i,l)]):[3,2];case 1:return r.sent(),i.$h=i.$h.remove(a),i.kh.delete(t),Pa(i),[3,4];case 2:return[4,wo(i.ju,t,!1).then((function(){return Aa(i,t,n)})).catch(Io)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Ea(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:n=b(e),i=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,go(n.ju,t)];case 2:return o=r.sent(),Ta(n,i,null),Ia(n,i),n.Sh.ki(i,"acknowledged"),[4,Ra(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Sa(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:i=b(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(e,t){var n=b(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Sr.Oo(e,t).next((function(t){return _(null!==t),r=t.keys(),n.Sr.Wo(e,t)})).next((function(){return n.Sr.zo(e)})).next((function(){return n.Cc.kr(e,r)}))}))}(i.ju,t)];case 2:return o=r.sent(),Ta(i,t,n),Ia(i,t),i.Sh.ki(t,"rejected",n),[4,Ra(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ia(e,t){(e.Lh.get(t)||[]).forEach((function(e){e.resolve()})),e.Lh.delete(t)}function Ta(e,t,n){var r=b(e),i=r.Oh[r.currentUser.ti()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Oh[r.currentUser.ti()]=i}}function Aa(e,t,n){void 0===n&&(n=null),e.Sh.Bi(t);for(var r=0,i=e.Fh.get(t);r<i.length;r++){var o=i[r];e.Nh.delete(o),n&&e.Ch.Wh(o,n)}e.Fh.delete(t),e.Uh&&e.Mh.Uc(t).forEach((function(t){e.Mh.Ho(t)||Na(e,t)}))}function Na(e,t){var n=e.$h.get(t);null!==n&&(zo(e.ph,n),e.$h=e.$h.remove(t),e.kh.delete(n),Pa(e))}function Oa(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof fa?(e.Mh.Da(o.key,t),xa(e,o)):o instanceof da?(p("SyncEngine","Document no longer in limbo: "+o.key),e.Mh.Na(o.key,t),e.Mh.Ho(o.key)||Na(e,o.key)):m()}}function xa(e,t){var n=t.key;e.$h.get(n)||(p("SyncEngine","New document in limbo: "+n),e.xh.push(n),Pa(e))}function Pa(e){for(;e.xh.length>0&&e.$h.size<e.Dh;){var t=e.xh.shift(),n=e.Bh.next();e.kh.set(n,new ga(t)),e.$h=e.$h.ot(t,n),Ho(e.ph,new _e(qn(Dn(t.path)),n,2,jr.ai))}}function Ra(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(u){switch(u.label){case 0:return i=b(e),o=[],a=[],s=[],i.Nh.m()?[3,3]:(i.Nh.forEach((function(e,r){s.push(i.Qh(r,t,n).then((function(e){if(e){i.Uh&&i.Sh.Qi(r.targetId,e.fromCache?"not-current":"current"),o.push(e);var t=ti.zr(r.targetId,e);a.push(t)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),i.Ch.yu(o),[4,function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,l,c;return r.__generator(this,(function(r){switch(r.label){case 0:n=b(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return pr.forEach(t,(function(t){return pr.forEach(t.Kr,(function(r){return n.persistence.No.Da(e,t.targetId,r)})).next((function(){return pr.forEach(t.Gr,(function(r){return n.persistence.No.Na(e,t.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!mr(i=r.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=t;o<a.length;o++)u=(s=a[o]).targetId,s.fromCache||(l=n.bc.get(u),c=l.rt(l.nt),n.bc=n.bc.ot(u,c));return[2]}}))}))}(i.ju,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Da(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(o){switch(o.label){case 0:return(n=b(e)).currentUser.isEqual(t)?[3,3]:(p("SyncEngine","User change. New user:",t.ti()),[4,function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(e),i=n.Sr,o=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var r;return n.Sr.Uo(e).next((function(a){return r=a,i=n.persistence.mc(t),o=new ei(n.Dc,i,n.persistence.Ic()),i.Uo(e)})).next((function(t){for(var n=[],i=[],a=Me(),s=0,u=r;s<u.length;s++){var l=u[s];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++)a=a.add(h[c].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)a=a.add(g[v].key)}return o.kr(e,a).next((function(e){return{jh:e,Kh:n,Gh:i}}))}))}))];case 1:return a=r.sent(),[2,(n.Sr=i,n.Cc=o,n.Vc.Nc(n.Cc),a)]}}))}))}(n.ju,t)]);case 1:return i=o.sent(),n.currentUser=t,function(e,t){e.Lh.forEach((function(e){e.forEach((function(e){e.reject(new h(c.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Lh.clear()}(n),n.Sh.ji(t,i.Kh,i.Gh),[4,Ra(n,i.jh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Ma(e,t){var n=b(e),r=n.kh.get(t);if(r&&r.Vh)return Me().add(r.key);var i=Me(),o=n.Fh.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Nh.get(s[a]);i=i.kt(u.view.dh)}return i}function La(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,Co((n=b(e)).ju,t.query,!0)];case 1:return i=r.sent(),o=t.view.Ph(i),[2,(n.Uh&&Oa(n,t.targetId,o.Rh),o)]}}))}))}function Fa(e,t,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,function(e,t){var n=b(e),r=b(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Lo(e,t).next((function(t){return t?n.Cc.kr(e,t):pr.resolve(null)}))}))}((o=b(e)).ju,t)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,na(o.ph)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ta(o,t,i||null),Ia(o,t),function(e,t){b(b(e).Sr).Ko(t)}(o.ju,t)):m(),r.label=4;case 4:return[4,Ra(o,a)];case 5:return r.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))}function ja(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,l;return r.__generator(this,(function(r){switch(r.label){case 0:return za(n=b(e)),Wa(n),!0!==t||!0===n.qh?[3,3]:(i=n.Sh.Ci(),[4,Ua(n,i.A())]);case 1:return o=r.sent(),n.qh=!0,[4,la(n.ph,!0)];case 2:for(r.sent(),a=0,s=o;a<s.length;a++)Ho(n.ph,s[a]);return[3,7];case 3:return!1!==t||!1===n.qh?[3,7]:(u=[],l=Promise.resolve(),n.Fh.forEach((function(e,t){n.Sh.qi(t)?u.push(t):l=l.then((function(){return Aa(n,t),wo(n.ju,t,!0)})),zo(n.ph,t)})),[4,l]);case 4:return r.sent(),[4,Ua(n,u)];case 5:return r.sent(),function(e){var t=b(e);t.kh.forEach((function(e,n){zo(t.ph,n)})),t.Mh.Qc(),t.kh=new Map,t.$h=new ke(A.i)}(n),n.qh=!1,[4,la(n.ph,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Ua(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,l,c,h,f,d,p,v;return r.__generator(this,(function(r){switch(r.label){case 0:n=b(e),i=[],o=[],a=0,s=t,r.label=1;case 1:return a<s.length?(l=void 0,(c=n.Fh.get(u=s[a]))&&0!==c.length?[4,bo(n.ju,qn(c[0]))]:[3,7]):[3,13];case 2:l=r.sent(),h=0,f=c,r.label=3;case 3:return h<f.length?(d=n.Nh.get(f[h]),[4,La(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,ko(n.ju,u)];case 8:return v=r.sent(),[4,bo(n.ju,v)];case 9:return l=r.sent(),[4,_a(n,Va(v),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(l),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.Ch.yu(o),i)]}}))}))}function Va(e){return Rn(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function qa(e){var t=b(e);return b(b(t.ju).persistence).pi()}function Ba(e,t,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=b(e)).qh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Fh.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Eo(o.ju)];case 3:return a=r.sent(),s=qe.Xt(t,"current"===n),[4,Ra(o,a,s)];case 4:return r.sent(),[3,8];case 5:return[4,wo(o.ju,t,!0)];case 6:return r.sent(),Aa(o,t,i),[3,8];case 7:m(),r.label=8;case 8:return[2]}}))}))}function Ha(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,l,c,h,f;return r.__generator(this,(function(d){switch(d.label){case 0:if(!(i=za(e)).qh)return[3,10];o=0,a=t,d.label=1;case 1:return o<a.length?i.Fh.has(s=a[o])?(p("SyncEngine","Adding an already active target "+s),[3,5]):[4,ko(i.ju,s)]:[3,6];case 2:return u=d.sent(),[4,bo(i.ju,u)];case 3:return l=d.sent(),[4,_a(i,Va(u),l.targetId,!1)];case 4:d.sent(),Ho(i.ph,l),d.label=5;case 5:return o++,[3,1];case 6:c=function(e){return r.__generator(this,(function(t){switch(t.label){case 0:return i.Fh.has(e)?[4,wo(i.ju,e,!1).then((function(){zo(i.ph,e),Aa(i,e)})).catch(Io)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,c(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function za(e){var t=b(e);return t.ph.Gu.sh=wa.bind(null,t),t.ph.Gu.qe=Ma.bind(null,t),t.ph.Gu.nh=ka.bind(null,t),t.Ch.yu=Rr.bind(null,t.bh),t.Ch.Wh=Dr.bind(null,t.bh),t}function Wa(e){var t=b(e);return t.ph.Gu.ih=Ea.bind(null,t),t.ph.Gu.rh=Sa.bind(null,t),t}var Ga=function(){function e(){}return e.prototype.Nc=function(e){this.zh=e},e.prototype.Lr=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.on.length||1===e.on.length&&e.on[0].field.p())}(t)||n.isEqual(ue.min())?this.Hh(e,t):this.zh.kr(e,r).next((function(a){var s=i.Yh(t,a);return(Mn(t)||Ln(t))&&i.Eh(t.an,s,r,n)?i.Hh(e,t):(d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Kn(t)),i.zh.Lr(e,t,n).next((function(e){return s.forEach((function(t){e=e.ot(t.key,t)})),e})))}))},e.prototype.Yh=function(e,t){var n=new Ie(Yn(e));return t.forEach((function(t,r){r instanceof Nn&&Qn(e,r)&&(n=n.add(r))})),n},e.prototype.Eh=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},e.prototype.Hh=function(e,t){return d()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",Kn(t)),this.zh.Lr(e,t,ue.min())},e}(),Ka=function(){function e(e,t){this.Dr=e,this.No=t,this.Sr=[],this.Jh=1,this.Xh=new Ie(Ao.kc)}return e.prototype.$o=function(e){return pr.resolve(0===this.Sr.length)},e.prototype.ko=function(e,t,n,r){var i=this.Jh;this.Jh++;var o=new Yr(i,t,n,r);this.Sr.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.Xh=this.Xh.add(new Ao(u.key,i)),this.Dr.Mo(e,u.key.path.h())}return pr.resolve(o)},e.prototype.Oo=function(e,t){return pr.resolve(this.Zh(t))},e.prototype.Bo=function(e,t){var n=this.tl(t+1),r=n<0?0:n;return pr.resolve(this.Sr.length>r?this.Sr[r]:null)},e.prototype.qo=function(){return pr.resolve(0===this.Sr.length?-1:this.Jh-1)},e.prototype.Uo=function(e){return pr.resolve(this.Sr.slice())},e.prototype.Nr=function(e,t){var n=this,r=new Ao(t,0),i=new Ao(t,Number.POSITIVE_INFINITY),o=[];return this.Xh.Ft([r,i],(function(e){var t=n.Zh(e.jc);o.push(t)})),pr.resolve(o)},e.prototype.Or=function(e,t){var n=this,r=new Ie(X);return t.forEach((function(e){var t=new Ao(e,0),i=new Ao(e,Number.POSITIVE_INFINITY);n.Xh.Ft([t,i],(function(e){r=r.add(e.jc)}))})),pr.resolve(this.el(r))},e.prototype.Wr=function(e,t){var n=t.path,r=n.length+1,i=n;A.F(i)||(i=i.child(""));var o=new Ao(new A(i),0),a=new Ie(X);return this.Xh.xt((function(e){var t=e.key.path;return!!n.T(t)&&(t.length===r&&(a=a.add(e.jc)),!0)}),o),pr.resolve(this.el(a))},e.prototype.el=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Zh(e);null!==r&&n.push(r)})),n},e.prototype.Wo=function(e,t){var n=this;_(0===this.nl(t.batchId,"removed")),this.Sr.shift();var r=this.Xh;return pr.forEach(t.mutations,(function(i){var o=new Ao(i.key,t.batchId);return r=r.delete(o),n.No.Go(e,i.key)})).next((function(){n.Xh=r}))},e.prototype.Ko=function(e){},e.prototype.Ho=function(e,t){var n=new Ao(t,0),r=this.Xh.$t(n);return pr.resolve(t.isEqual(r&&r.key))},e.prototype.zo=function(e){return pr.resolve()},e.prototype.nl=function(e,t){return this.tl(e)},e.prototype.tl=function(e){return 0===this.Sr.length?0:e-this.Sr[0].batchId},e.prototype.Zh=function(e){var t=this.tl(e);return t<0||t>=this.Sr.length?null:this.Sr[t]},e}(),Qa=function(){function e(e,t){this.Dr=e,this.sl=t,this.docs=new ke(A.i),this.size=0}return e.prototype.Er=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.sl(t);return this.docs=this.docs.ot(r,{ta:t,size:a,readTime:n}),this.size+=a-o,this.Dr.Mo(e,r.path.h())},e.prototype.Ar=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.Rr=function(e,t){var n=this.docs.get(t);return pr.resolve(n?n.ta:null)},e.prototype.getEntries=function(e,t){var n=this,r=Oe();return t.forEach((function(e){var t=n.docs.get(e);r=r.ot(e,t?t.ta:null)})),pr.resolve(r)},e.prototype.Lr=function(e,t,n){for(var r=Pe(),i=new A(t.path.child("")),o=this.docs.ft(i);o.At();){var a=o.It(),s=a.value,u=s.ta,l=s.readTime;if(!t.path.T(a.key.path))break;l.L(n)<=0||u instanceof Nn&&Qn(t,u)&&(r=r.ot(u.key,u))}return pr.resolve(r)},e.prototype.il=function(e,t){return pr.forEach(this.docs,(function(e){return t(e)}))},e.prototype.ra=function(e){return new Ya(this)},e.prototype.aa=function(e){return pr.resolve(this.size)},e}(),Ya=function(e){function t(t){var n=this;return(n=e.call(this)||this).ca=t,n}return r.__extends(t,e),t.prototype.yr=function(e){var t=this,n=[];return this.wr.forEach((function(r,i){i?n.push(t.ca.Er(e,i,t.readTime)):t.ca.Ar(r)})),pr.$n(n)},t.prototype.gr=function(e,t){return this.ca.Rr(e,t)},t.prototype.Pr=function(e,t){return this.ca.getEntries(e,t)},t}($r),Xa=function(){function e(e){this.persistence=e,this.rl=new ae((function(e){return pe(e)}),ve),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.ol=0,this.al=new To,this.targetCount=0,this.cl=to.fa()}return e.prototype.Ce=function(e,t){return this.rl.forEach((function(e,n){return t(n)})),pr.resolve()},e.prototype.Ea=function(e){return pr.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Ia=function(e){return pr.resolve(this.ol)},e.prototype.wa=function(e){return this.highestTargetId=this.cl.next(),pr.resolve(this.highestTargetId)},e.prototype.Aa=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ol&&(this.ol=t),pr.resolve()},e.prototype.ga=function(e){this.rl.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.cl=new to(t),this.highestTargetId=t),e.sequenceNumber>this.ol&&(this.ol=e.sequenceNumber)},e.prototype.Ra=function(e,t){return this.ga(t),this.targetCount+=1,pr.resolve()},e.prototype.ya=function(e,t){return this.ga(t),pr.resolve()},e.prototype.Va=function(e,t){return this.rl.delete(t.target),this.al.Uc(t.targetId),this.targetCount-=1,pr.resolve()},e.prototype.po=function(e,t,n){var r=this,i=0,o=[];return this.rl.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.rl.delete(a),o.push(r.pa(e,s.targetId)),i++)})),pr.$n(o).next((function(){return i}))},e.prototype.ba=function(e){return pr.resolve(this.targetCount)},e.prototype.va=function(e,t){var n=this.rl.get(t)||null;return pr.resolve(n)},e.prototype.Sa=function(e,t,n){return this.al.Lc(t,n),pr.resolve()},e.prototype.Ca=function(e,t,n){this.al.qc(t,n);var r=this.persistence.No,i=[];return r&&t.forEach((function(t){i.push(r.Go(e,t))})),pr.$n(i)},e.prototype.pa=function(e,t){return this.al.Uc(t),pr.resolve()},e.prototype.Fa=function(e,t){var n=this.al.Wc(t);return pr.resolve(n)},e.prototype.Ho=function(e,t){return pr.resolve(this.al.Ho(t))},e}(),$a=function(){function e(e){var t=this;this.ul={},this.Ma=new jr(0),this.Oa=!1,this.Oa=!0,this.No=e(this),this.Ka=new Xa(this),this.Dr=new Di,this.vr=function(e,n){return new Qa(e,(function(e){return t.No.hl(e)}))}(this.Dr)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),e.prototype.Za=function(){},e.prototype.tc=function(){},e.prototype.Ic=function(){return this.Dr},e.prototype.mc=function(e){var t=this.ul[e.ti()];return t||(t=new Ka(this.Dr,this.No),this.ul[e.ti()]=t),t},e.prototype.Tc=function(){return this.Ka},e.prototype.Ec=function(){return this.vr},e.prototype.runTransaction=function(e,t,n){var r=this;p("MemoryPersistence","Starting transaction:",e);var i=new Ja(this.Ma.next());return this.No.ll(),n(i).next((function(e){return r.No._l(i).next((function(){return e}))})).Fn().then((function(e){return i.br(),e}))},e.prototype.fl=function(e,t){return pr.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(e,t)}})))},e}(),Ja=function(e){function t(t){var n=this;return(n=e.call(this)||this).xa=t,n}return r.__extends(t,e),t}(Zr),Za=function(){function e(e){this.persistence=e,this.dl=new To,this.wl=null}return e.ml=function(t){return new e(t)},Object.defineProperty(e.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw m()},enumerable:!1,configurable:!0}),e.prototype.Da=function(e,t,n){return this.dl.Da(n,t),this.Tl.delete(n.toString()),pr.resolve()},e.prototype.Na=function(e,t,n){return this.dl.Na(n,t),this.Tl.add(n.toString()),pr.resolve()},e.prototype.Go=function(e,t){return this.Tl.add(t.toString()),pr.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.dl.Uc(t.targetId).forEach((function(e){return n.Tl.add(e.toString())}));var r=this.persistence.Tc();return r.Fa(e,t.targetId).next((function(e){e.forEach((function(e){return n.Tl.add(e.toString())}))})).next((function(){return r.Va(e,t)}))},e.prototype.ll=function(){this.wl=new Set},e.prototype._l=function(e){var t=this,n=this.persistence.Ec().ra();return pr.forEach(this.Tl,(function(r){var i=A.D(r);return t.El(e,i).next((function(e){e||n.Ar(i)}))})).next((function(){return t.wl=null,n.apply(e)}))},e.prototype.yc=function(e,t){var n=this;return this.El(e,t).next((function(e){e?n.Tl.delete(t.toString()):n.Tl.add(t.toString())}))},e.prototype.hl=function(e){return 0},e.prototype.El=function(e,t){var n=this;return pr.kn([function(){return pr.resolve(n.dl.Ho(t))},function(){return n.persistence.Tc().Ho(e,t)},function(){return n.persistence.fl(e,t)}])},e}(),es=function(){function e(e){this.Il=e.Il,this.Al=e.Al}return e.prototype.gu=function(e){this.Rl=e},e.prototype.Tu=function(e){this.gl=e},e.prototype.onMessage=function(e){this.Pl=e},e.prototype.close=function(){this.Al()},e.prototype.send=function(e){this.Il(e)},e.prototype.yl=function(){this.Rl()},e.prototype.Vl=function(e){this.gl(e)},e.prototype.pl=function(e){this.Pl(e)},e}(),ts={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ns=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.W=t.W,n}return r.__extends(t,e),t.prototype.Nl=function(e,t,n,r){return new Promise((function(i,o){var a=new s.XhrIo;a.listenOnce(s.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var t=a.getResponseJson();p("Connection","XHR received:",JSON.stringify(t)),i(t);break;case s.ErrorCode.TIMEOUT:p("Connection",'RPC "'+e+'" timed out'),o(new h(c.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(p("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(c).indexOf(t)>=0?t:c.UNKNOWN}(r.status);o(new h(u,r.message))}else o(new h(c.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new h(c.UNAVAILABLE,"Connection failed."));break;default:m()}}finally{p("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);a.send(t,"POST",u,n,15)}))},t.prototype.Pu=function(e,t){var n=[this.vl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=s.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(i.initMessageHeaders,t),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),l=!1,f=!1,d=new es({Il:function(e){f?p("Connection","Not sending because WebChannel is closed:",e):(l||(p("Connection","Opening WebChannel transport."),u.open(),l=!0),p("Connection","WebChannel sending:",e),u.send(e))},Al:function(){return u.close()}}),v=function(e,t){u.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return v(s.WebChannel.EventType.OPEN,(function(){f||p("Connection","WebChannel transport opened.")})),v(s.WebChannel.EventType.CLOSE,(function(){f||(f=!0,p("Connection","WebChannel transport closed"),d.Vl())})),v(s.WebChannel.EventType.ERROR,(function(e){f||(f=!0,g("Connection","WebChannel transport errored:",e),d.Vl(new h(c.UNAVAILABLE,"The operation could not be completed")))})),v(s.WebChannel.EventType.MESSAGE,(function(e){var t;if(!f){var n=e.data[0];_(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){p("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=ye[e];if(void 0!==t)return Ce(t)}(i),a=r.message;void 0===o&&(o=c.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),f=!0,d.Vl(new h(o,a)),u.close()}else p("Connection","WebChannel received:",n),d.pl(n)}})),setTimeout((function(){d.yl()}),0),d},t}(function(){function e(e){this.bl=e,this.U=e.U,this.vl=(e.ssl?"https":"http")+"://"+e.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return e.prototype.$u=function(e,t,n,r){var i=this.Dl(e,t);p("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(e,i,o,n).then((function(e){return p("RestConnection","Received: ",e),e}),(function(t){throw g("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.ku=function(e,t,n,r){return this.$u(e,t,n,r)},e.prototype.Cl=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",e["Content-Type"]="text/plain",t)for(var n in t.Kc)t.Kc.hasOwnProperty(n)&&(e[n]=t.Kc[n])},e.prototype.Dl=function(e,t){return this.vl+"/v1/"+t+":"+ts[e]},e}()),rs=function(){function e(){var e=this;this.Fl=function(){return e.xl()},this.$l=function(){return e.kl()},this.Ml=[],this.Ol()}return e.prototype.Zu=function(e){this.Ml.push(e)},e.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},e.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},e.prototype.xl=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Ml;e<t.length;e++)(0,t[e])(0)},e.prototype.kl=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Ml;e<t.length;e++)(0,t[e])(1)},e.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),is=function(){function e(){}return e.prototype.Zu=function(e){},e.prototype.Di=function(){},e}();function os(e){return new gt(e,!0)}var as="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",ss=function(){function e(){}return e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Sh=this.Ll(e),this.persistence=this.Bl(e),[4,this.persistence.start()];case 1:return t.sent(),this.ql=this.Ul(e),this.ju=this.Ql(e),[2]}}))}))},e.prototype.Ul=function(e){return null},e.prototype.Ql=function(e){return t=this.persistence,n=new Ga,new vo(t,n,e.Wl);var t,n},e.prototype.Bl=function(e){if(e.persistenceSettings.jl)throw new h(c.FAILED_PRECONDITION,as);return new $a(Za.ml)},e.prototype.Ll=function(e){return new Qr},e.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return e.sent(),[4,this.persistence.Di()];case 2:return e.sent(),[2]}}))}))},e.prototype.clearPersistence=function(e,t){throw new h(c.FAILED_PRECONDITION,as)},e}(),us=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return o.sent(),n=this.Kl.fi,this.Sh instanceof Kr?(this.Sh.fi={er:Fa.bind(null,n),nr:Ba.bind(null,n),sr:Ha.bind(null,n),pi:qa.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Xa((function(e){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,ja(this.Kl.fi,e)];case 1:return t.sent(),this.ql&&(e&&!this.ql.Ei?this.ql.start(this.ju):e||this.ql.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},t.prototype.Ll=function(e){if(e.persistenceSettings.jl&&e.persistenceSettings.synchronizeTabs){var t=Er();if(!Kr.Ln(t))throw new h(c.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=po(e.bl.U,e.bl.persistenceKey);return new Kr(t,e.cs,n,e.clientId,e.Wl)}return new Qr},t}(function(e){function t(t){var n=this;return(n=e.call(this)||this).Kl=t,n}return r.__extends(t,e),t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,So(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,t)];case 3:return n.sent(),[4,Wa(this.Kl.fi)];case 4:return n.sent(),[4,na(this.Kl.ph)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ul=function(e){return new ai(this.persistence.No.wo,e.cs)},t.prototype.Bl=function(e){var t=po(e.bl.U,e.bl.persistenceKey),n=os(e.bl.U);return new uo(e.persistenceSettings.synchronizeTabs,t,e.clientId,oi.ao(e.persistenceSettings.cacheSizeBytes),e.cs,Er(),Sr(),n,this.Sh,e.persistenceSettings.ka)},t.prototype.Ll=function(e){return new Qr},t.prototype.clearPersistence=function(e,t){return function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return vr.Ln()?[4,vr.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}}))}))}(po(e,t))},t}(ss)),ls=function(){function e(){}return e.prototype.initialize=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=e.ju,this.Sh=e.Sh,this.Ku=this.Gl(t),this.ph=this.zl(t),this.bh=this.Hl(t),this.fi=this.Yl(t),this.Sh.di=function(e){return Ca(n.fi,e,1)},this.ph.Gu.Jl=Da.bind(null,this.fi),[4,la(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.Hl=function(e){return new Or},e.prototype.Gl=function(e){var t=os(e.bl.U),n=new ns(e.bl);return function(e,t,n){return new Fo(e,t,n)}(e.credentials,n,t)},e.prototype.zl=function(e){var t,n,r,i,o,a=this;return t=this.ju,n=this.Ku,r=e.cs,i=function(e){return Ca(a.fi,e,0)},o=rs.Ln()?new rs:new is,new Uo(t,n,r,i,o)},e.prototype.Yl=function(e){return function(e,t,n,r,i,o,a){var s=new ya(e,t,n,r,i,o);return a&&(s.qh=!0),s}(this.ju,this.ph,this.bh,this.Sh,e.Wl,e.Dh,!e.persistenceSettings.jl||!e.persistenceSettings.synchronizeTabs)},e.prototype.terminate=function(){return Bo(this.ph)},e}(),cs=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.Xl(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.Xl(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Zl=function(){this.muted=!0},e.prototype.Xl=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),hs=function(e){!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new h(c.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}(0,e);for(var t=0;t<e.length;++t)if(R("FieldPath","string",t,e[t]),0===e[t].length)throw new h(c.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new T(e)},fs=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,t)||this}return r.__extends(t,e),t.documentId=function(){return new t(T.v().R())},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","FieldPath",1,e);return this.t_.isEqual(e.t_)},t}(hs),ds=new RegExp("[~\\*/\\[\\]]"),ps=function(e){this.e_=e},vs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.n_=function(e){if(2!==e.s_)throw e.i_(1===e.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return e.We.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(ps);function gs(e,t,n){return new As({s_:3,r_:t.settings.r_,methodName:e.e_,o_:n},t.U,t.serializer,t.ignoreUndefinedProperties)}var ys=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.n_=function(e){return new sn(e.path,new $t)},t.prototype.isEqual=function(e){return e instanceof t},t}(ps),ms=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).a_=n,r}return r.__extends(t,e),t.prototype.n_=function(e){var t=gs(this,e,!0),n=this.a_.map((function(e){return Ds(e,t)})),r=new Jt(n);return new sn(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ps),_s=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).a_=n,r}return r.__extends(t,e),t.prototype.n_=function(e){var t=gs(this,e,!0),n=this.a_.map((function(e){return Ds(e,t)})),r=new en(n);return new sn(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ps),bs=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).c_=n,r}return r.__extends(t,e),t.prototype.n_=function(e){var t=new nn(e.serializer,_t(e.serializer,this.c_));return new sn(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(ps),ws=function(){function e(e,t){if(O("GeoPoint",arguments,2),R("GeoPoint","number",1,e),R("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new h(c.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new h(c.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this.u_=e,this.h_=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.u_===e.u_&&this.h_===e.h_},e.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},e.prototype.Y=function(e){return X(this.u_,e.u_)||X(this.h_,e.h_)},e}(),Cs=function(e){this.l_=e},ks=/^__.*__$/,Es=function(e,t,n){this.__=e,this.f_=t,this.d_=n},Ss=function(){function e(e,t,n){this.data=e,this.We=t,this.fieldTransforms=n}return e.prototype.w_=function(e,t){var n=[];return n.push(null!==this.We?new mn(e,this.data,this.We,t):new yn(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new bn(e,this.fieldTransforms)),n},e}(),Is=function(){function e(e,t,n){this.data=e,this.We=t,this.fieldTransforms=n}return e.prototype.w_=function(e,t){var n=[new mn(e,this.data,this.We,t)];return this.fieldTransforms.length>0&&n.push(new bn(e,this.fieldTransforms)),n},e}();function Ts(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw m()}}var As=function(){function e(e,t,n,r,i,o){this.settings=e,this.U=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),e.prototype.T_=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},e.prototype.E_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.T_({path:n,o_:!1});return r.I_(e),r},e.prototype.A_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.T_({path:n,o_:!1});return r.m_(),r},e.prototype.R_=function(e){return this.T_({path:void 0,o_:!0})},e.prototype.i_=function(e){return Vs(e,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},e.prototype.contains=function(e){return void 0!==this.We.find((function(t){return e.T(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.T(t.field)}))},e.prototype.m_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.I_(this.path.get(e))},e.prototype.I_=function(e){if(0===e.length)throw this.i_("Document fields must not be empty");if(Ts(this.s_)&&ks.test(e))throw this.i_('Document fields cannot begin and end with "__"')},e}(),Ns=function(){function e(e,t,n){this.U=e,this.ignoreUndefinedProperties=t,this.serializer=n||os(e)}return e.prototype.P_=function(e,t,n,r){return void 0===r&&(r=!1),new As({s_:e,methodName:t,r_:n,path:T.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},e}();function Os(e,t,n,r,i,o){void 0===o&&(o={});var a=e.P_(o.merge||o.mergeFields?2:0,t,n,i);Fs("Data must be an object, but it was:",a,r);var s,u,l=Ms(r,a);if(o.merge)s=new an(a.We),u=a.fieldTransforms;else if(o.mergeFields){for(var f=[],d=0,p=o.mergeFields;d<p.length;d++){var v=p[d],g=void 0;if(v instanceof hs)g=v.t_;else{if("string"!=typeof v)throw m();g=Us(t,v,n)}if(!a.contains(g))throw new h(c.INVALID_ARGUMENT,"Field '"+g+"' is specified in your field mask but missing from your input data.");qs(f,g)||f.push(g)}s=new an(f),u=a.fieldTransforms.filter((function(e){return s.Ye(e.field)}))}else s=null,u=a.fieldTransforms;return new Ss(new Sn(l),s,u)}function xs(e,t,n,r){var i=e.P_(1,t,n);Fs("Data must be an object, but it was:",i,r);var o=[],a=new In;C(r,(function(e,r){var s=Us(t,e,n),u=i.A_(s);if(r instanceof vs||r instanceof Cs&&r.l_ instanceof vs)o.push(s);else{var l=Ds(r,u);null!=l&&(o.push(s),a.set(s,l))}}));var s=new an(o);return new Is(a.Xe(),s,i.fieldTransforms)}function Ps(e,t,n,r,i,o){var a=e.P_(1,t,n),s=[js(t,r,n)],u=[i];if(o.length%2!=0)throw new h(c.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)s.push(js(t,o[l])),u.push(o[l+1]);for(var f=[],d=new In,p=s.length-1;p>=0;--p)if(!qs(f,s[p])){var v=s[p],g=u[p],y=a.A_(v);if(g instanceof vs||g instanceof Cs&&g.l_ instanceof vs)f.push(v);else{var m=Ds(g,y);null!=m&&(f.push(v),d.set(v,m))}}var _=new an(f);return new Is(d.Xe(),_,a.fieldTransforms)}function Rs(e,t,n,r){return void 0===r&&(r=!1),Ds(n,e.P_(r?4:3,t))}function Ds(e,t){if(e instanceof Cs&&(e=e.l_),Ls(e))return Fs("Unsupported field value:",t,e),Ms(e,t);if(e instanceof ps)return function(e,t){if(!Ts(t.s_))throw t.i_(e.e_+"() can only be used with update() and set()");if(!t.path)throw t.i_(e.e_+"() is not currently supported inside arrays");var n=e.n_(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(t.path&&t.We.push(t.path),e instanceof Array){if(t.settings.o_&&4!==t.s_)throw t.i_("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Ds(o[i],t.R_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _t(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=se.fromDate(e);return{timestampValue:bt(t.serializer,n)}}if(e instanceof se){var r=new se(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bt(t.serializer,r)}}if(e instanceof ws)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ee)return{bytesValue:wt(t.serializer,e.q)};if(e instanceof Es){var i=t.U,o=e.__;if(!o.isEqual(i))throw t.i_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Et(e.__||t.U,e.f_.path)}}if(void 0===e&&t.ignoreUndefinedProperties)return null;throw t.i_("Unsupported field value: "+q(e))}(e,t)}function Ms(e,t){var n={};return k(e)?t.path&&t.path.length>0&&t.We.push(t.path):C(e,(function(e,r){var i=Ds(r,t.E_(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ls(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof se||e instanceof ws||e instanceof ee||e instanceof Es||e instanceof ps)}function Fs(e,t,n){if(!Ls(n)||!V(n)){var r=q(n);throw t.i_("an object"===r?e+" a custom object":e+" "+r)}}function js(e,t,n){if(t instanceof hs)return t.t_;if("string"==typeof t)return Us(e,t);throw Vs("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function Us(e,t,n){try{return function(e){if(e.search(ds)>=0)throw new h(c.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(fs.bind.apply(fs,r.__spreadArrays([void 0],e.split("."))))}catch(r){throw new h(c.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t).t_}catch(t){throw Vs((i=t)instanceof Error?i.message:i.toString(),e,!1,void 0,n)}var i}function Vs(e,t,n,r,i){var o=r&&!r.m(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new h(c.INVALID_ARGUMENT,(s+=". ")+e+u)}function qs(e,t){return e.some((function(e){return e.isEqual(t)}))}var Bs=function(){function e(e){this.Ku=e,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return e.prototype.v_=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.S_(),this.mutations.length>0)throw new h(c.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(e),i=Ot(n.serializer)+"/documents",o={documents:t.map((function(e){return It(n.serializer,e)}))},[4,n.ku("BatchGetDocuments",i,o)];case 1:return a=r.sent(),s=new Map,a.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){_(!!t.found);var n=Tt(e,t.found.name),r=kt(t.found.updateTime),i=new Sn({mapValue:{fields:t.found.fields}});return new Nn(n,r,i,{})}(e,t):"missing"in t?function(e,t){_(!!t.missing),_(!!t.readTime);var n=Tt(e,t.missing),r=kt(t.readTime);return new On(n,r)}(e,t):m()}(n.serializer,e);s.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=s.get(e.toString());_(!!t),u.push(t)})),u)]}}))}))}(this.Ku,e)];case 1:return[2,((t=i.sent()).forEach((function(e){e instanceof On||e instanceof Nn?n.D_(e):m()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.w_(e,this.Ge(e))),this.b_.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.w_(e,this.C_(e)))}catch(e){this.p_=e}this.b_.add(e.toString())},e.prototype.delete=function(e){this.write([new kn(e,this.Ge(e))]),this.b_.add(e.toString())},e.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return e=this.y_,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=A.D(n);t.mutations.push(new En(r,t.Ge(r)))})),[4,function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=b(e),i=Ot(n.serializer)+"/documents",o={writes:t.map((function(e){return Rt(n.serializer,e)}))},[4,n.$u("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},e.prototype.D_=function(e){var t;if(e instanceof Nn)t=e.version;else{if(!(e instanceof On))throw m();t=ue.min()}var n=this.y_.get(e.key.toString());if(n){if(!t.isEqual(n))throw new h(c.ABORTED,"Document version changed between two reads.")}else this.y_.set(e.key.toString(),t)},e.prototype.Ge=function(e){var t=this.y_.get(e.toString());return!this.b_.has(e.toString())&&t?ln.updateTime(t):ln.ze()},e.prototype.C_=function(e){var t=this.y_.get(e.toString());if(!this.b_.has(e.toString())&&t){if(t.isEqual(ue.min()))throw new h(c.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ln.updateTime(t)}return ln.exists(!0)},e.prototype.write=function(e){this.S_(),this.mutations=this.mutations.concat(e)},e.prototype.S_=function(){},e}(),Hs=function(){function e(e,t,n,r){this.cs=e,this.Ku=t,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new dr(this.cs,"transaction_retry")}return e.prototype.run=function(){this.F_()},e.prototype.F_=function(){var e=this;this.ys.gn((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return r.__generator(this,(function(r){return e=new Bs(this.Ku),(t=this.x_(e))&&t.then((function(t){n.cs.ws((function(){return e.commit().then((function(){n.ls.resolve(t)})).catch((function(e){n.k_(e)}))}))})).catch((function(e){n.k_(e)})),[2]}))}))}))},e.prototype.x_=function(e){try{var t=this.updateFunction(e);return!le(t)&&t.catch&&t.then?t:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.ls.reject(e),null}},e.prototype.k_=function(e){var t=this;this.N_>0&&this.M_(e)?(this.N_-=1,this.cs.ws((function(){return t.F_(),Promise.resolve()}))):this.ls.reject(e)},e.prototype.M_=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!we(t)}return!1},e}(),zs=function(){function e(e,t){this.credentials=e,this.cs=t,this.clientId=Y.k(),this.O_=new fr}return e.prototype.start=function(e,t,n,i){var o=this;this.L_(),this.bl=e;var a=new fr,s=!1;return this.credentials.Hc((function(e){if(!s)return s=!0,p("FirestoreClient","Initializing. user=",e.uid),o.B_(t,n,i,e,a).then(o.O_.resolve,o.O_.reject);o.cs.Cs((function(){return function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=b(e)).cs.xs(),p("RemoteStore","RemoteStore received new credentials"),i=Yo(n),n.Yu.add(3),[4,qo(n)];case 1:return r.sent(),i&&n.th.set("Unknown"),[4,n.Gu.Jl(t)];case 2:return r.sent(),n.Yu.delete(3),[4,Vo(n)];case 3:return r.sent(),[2]}}))}))}(o.ph,e)}))})),this.cs.ws((function(){return o.O_.promise})),a.promise},e.prototype.enableNetwork=function(){var e=this;return this.L_(),this.cs.enqueue((function(){return e.persistence.tc(!0),function(e){var t=b(e);return t.Yu.delete(0),Vo(t)}(e.ph)}))},e.prototype.B_=function(e,t,n,i,o){return r.__awaiter(this,void 0,void 0,(function(){var a,s,u=this;return r.__generator(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,e.initialize(a={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:i,Dh:100,persistenceSettings:n})];case 1:return l.sent(),[4,t.initialize(e,a)];case 2:return l.sent(),this.persistence=e.persistence,this.Sh=e.Sh,this.ju=e.ju,this.ql=e.ql,this.Ku=t.Ku,this.ph=t.ph,this.fi=t.fi,this.q_=t.bh,this.q_.Us=ma.bind(null,this.fi),this.q_.js=ba.bind(null,this.fi),this.persistence.Za((function(){return r.__awaiter(u,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(s=l.sent(),o.reject(s),!this.U_(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.B_(new ss,new ls,{jl:!1},i,o))];case 4:return[2]}}))}))},e.prototype.U_=function(e){return"FirebaseError"===e.name?e.code===c.FAILED_PRECONDITION||e.code===c.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},e.prototype.L_=function(){if(this.cs.ps)throw new h(c.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.disableNetwork=function(){var e=this;return this.L_(),this.cs.enqueue((function(){return e.persistence.tc(!1),function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return(t=b(e)).Yu.add(0),[4,qo(t)];case 1:return n.sent(),t.th.set("Offline"),[2]}}))}))}(e.ph)}))},e.prototype.terminate=function(){var e=this;this.cs.Ds();var t=new fr;return this.cs.bs((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Bo(this.ph)];case 1:return r.sent(),[4,this.Sh.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yc(),t.resolve(),[3,5];case 4:return e=r.sent(),n=Ar(e,"Failed to shutdown persistence"),t.reject(n),[3,5];case 5:return[2]}}))}))})),t.promise},e.prototype.waitForPendingWrites=function(){var e=this;this.L_();var t=new fr;return this.cs.ws((function(){return function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:Yo((n=b(e)).ph)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(e){var t=b(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Sr.qo(e)}))}(n.ju)];case 2:return-1===(i=r.sent())?[2,void t.resolve()]:((o=n.Lh.get(i)||[]).push(t),n.Lh.set(i,o),[3,4]);case 3:return a=r.sent(),s=Ar(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}(e.fi,t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.L_();var i=new cs(n),o=new Lr(e,i,t);return this.cs.ws((function(){return xr(r.q_,o)})),function(){i.Zl(),r.cs.ws((function(){return Pr(r.q_,o)}))}},e.prototype.Q_=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),t=new fr,[2,(this.cs.ws((function(){return function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e,t){var n=b(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Cc.Cr(e,t)}))}(e,t)];case 1:return(i=r.sent())instanceof Nn?n.resolve(i):i instanceof On?n.resolve(null):n.reject(new h(c.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),a=Ar(o,"Failed to get document '"+t+" from cache"),n.reject(a),[3,3];case 3:return[2]}}))}))}(n.ju,e,t)})),t.promise)]}}))}))},e.prototype.W_=function(e,t){return void 0===t&&(t={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws((function(){return function(e,t,n,r,i){var o=new cs({next:function(o){t.ws((function(){return Pr(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new h(c.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new h(c.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Lr(Dn(n.path),o,{includeMetadataChanges:!0,Xs:!0});return xr(e,a)}(i.q_,i.cs,e,t,n)})),n.promise)]}}))}))},e.prototype.j_=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),t=new fr,[2,(this.cs.ws((function(){return function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,l;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Co(e,t,!0)];case 1:return i=r.sent(),o=new pa(t,i.Fc),a=o.wh(i.documents),s=o.yr(a,!1),n.resolve(s.snapshot),[3,3];case 2:return u=r.sent(),l=Ar(u,"Failed to execute query '"+t+" against cache"),n.reject(l),[3,3];case 3:return[2]}}))}))}(n.ju,e,t)})),t.promise)]}}))}))},e.prototype.K_=function(e,t){return void 0===t&&(t={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws((function(){return function(e,t,n,r,i){var o=new cs({next:function(n){t.ws((function(){return Pr(e,a)})),n.fromCache&&"server"===r.source?i.reject(new h(c.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Lr(n,o,{includeMetadataChanges:!0,Xs:!0});return xr(e,a)}(i.q_,i.cs,e,t,n)})),n.promise)]}}))}))},e.prototype.write=function(e){var t=this;this.L_();var n=new fr;return this.cs.ws((function(){return function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=Wa(e),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(e,t){var n,r=b(e),i=se.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Me());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Cc.kr(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var l=u[s],c=pn(l,n.get(l.key));null!=c&&a.push(new mn(l.key,c,Tn(c.proto.mapValue),ln.exists(!0)))}return r.Sr.ko(e,i,a,t)}))})).then((function(e){var t=e.lr(n);return{batchId:e.batchId,wr:t}}))}(i.ju,t)];case 2:return o=r.sent(),i.Sh.xi(o.batchId),function(e,t,n){var r=e.Oh[e.currentUser.ti()];r||(r=new ke(X)),r=r.ot(t,n),e.Oh[e.currentUser.ti()]=r}(i,o.batchId,n),[4,Ra(i,o.wr)];case 3:return r.sent(),[4,na(i.ph)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),s=Ar(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}(t.fi,e,n)})),n.promise},e.prototype.U=function(){return this.bl.U},e.prototype.G_=function(e){var t=this;this.L_();var n=new cs(e);return this.cs.ws((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,function(e,t){b(e).qs.add(t),t.next()}(this.q_,n)]}))}))})),function(){n.Zl(),t.cs.ws((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,function(e,t){b(e).qs.delete(t)}(this.q_,n)]}))}))}))}},Object.defineProperty(e.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.L_();var n=new fr;return this.cs.ws((function(){return new Hs(t.cs,t.Ku,e,n).run(),Promise.resolve()})),n.promise},e}();function Ws(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Gs=function(){function e(e,t,n,r,i){this.U=e,this.timestampsInSnapshots=t,this.H_=n,this.Y_=r,this.J_=i}return e.prototype.X_=function(e){switch(Ze(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.Z_(e.timestampValue);case 4:return this.tf(e);case 5:return e.stringValue;case 6:return this.J_(st(e.bytesValue));case 7:return this.ef(e.referenceValue);case 8:return this.nf(e.geoPointValue);case 9:return this.sf(e.arrayValue);case 10:return this.if(e.mapValue);default:throw m()}},e.prototype.if=function(e){var t=this,n={};return C(e.fields||{},(function(e,r){n[e]=t.X_(r)})),n},e.prototype.nf=function(e){return new ws(at(e.latitude),at(e.longitude))},e.prototype.sf=function(e){var t=this;return(e.values||[]).map((function(e){return t.X_(e)}))},e.prototype.tf=function(e){switch(this.H_){case"previous":var t=function e(t){var n=t.mapValue.fields.__previous_value__;return Xe(n)?e(n):n}(e);return null==t?null:this.X_(t);case"estimate":return this.Z_($e(e));default:return null}},e.prototype.Z_=function(e){var t=ot(e),n=new se(t.seconds,t.nanos);return this.timestampsInSnapshots?n:n.toDate()},e.prototype.ef=function(e){var t=S.g(e);_(Gt(t));var n=new oe(t.get(1),t.get(3)),r=new A(t.u(5));return n.isEqual(this.U)||v("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},e}(),Ks=oi.ho,Qs=function(){function e(e){var t,n,r,i,o;if(void 0===e.host){if(void 0!==e.ssl)throw new h(c.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else M("settings","non-empty string","host",e.host),this.host=e.host,L("settings","boolean","ssl",e.ssl),this.ssl=null===(t=e.ssl)||void 0===t||t;if(H("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),L("settings","object","credentials",e.credentials),this.credentials=e.credentials,L("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),L("settings","boolean","ignoreUndefinedProperties",e.ignoreUndefinedProperties),!0===e.timestampsInSnapshots?v("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===e.timestampsInSnapshots&&v("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=e.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=e.ignoreUndefinedProperties)&&void 0!==r&&r,L("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=oi._o;else{if(e.cacheSizeBytes!==Ks&&e.cacheSizeBytes<oi.lo)throw new h(c.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+oi.lo);this.cacheSizeBytes=e.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=e.experimentalForceLongPolling)&&void 0!==i&&i,L("settings","boolean","experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(o=e.experimentalAutoDetectLongPolling)&&void 0!==o&&o,function(e,t,n,r){if(!0===t&&!0===r)throw new h(c.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Ys=function(){function e(t,n,i,o){var a=this;if(void 0===i&&(i=new ss),void 0===o&&(o=new ls),this.rf=i,this.af=o,this.cf=null,this.uf=new Tr,this.INTERNAL={delete:function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var s=t;this.cf=s,this.__=e._f(s),this.ff=s.name,this.df=new xo(n)}else{var u=t;if(!u.projectId)throw new h(c.INVALID_ARGUMENT,"Must provide projectId");this.__=new oe(u.projectId,u.database),this.ff="[DEFAULT]",this.df=new Oo}this.wf=new Qs({})}return Object.defineProperty(e.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Ns(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){O("Firestore.settings",arguments,1),R("Firestore.settings","object",1,e),e.merge&&delete(e=Object.assign(Object.assign({},this.wf),e)).merge;var t=new Qs(e);if(this.lf&&!this.wf.isEqual(t))throw new h(c.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=t,void 0!==t.credentials&&(this.df=function(e){if(!e)return new Oo;switch(e.type){case"gapi":var t=e.client;return _(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ro(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new h(c.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},e.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},e.prototype.enablePersistence=function(e){var t,n;if(this.lf)throw new h(c.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(e&&(void 0!==e.experimentalTabSynchronization&&v("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(t=e.synchronizeTabs)&&void 0!==t?t:e.experimentalTabSynchronization)&&void 0!==n&&n,i=!!e.experimentalForceOwningTab&&e.experimentalForceOwningTab,r&&i))throw new h(c.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},e.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t=this;return r.__generator(this,(function(n){if(void 0!==this.lf&&!this.lf.z_)throw new h(c.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return e=new fr,[2,(this.uf.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),e.resolve(),[3,3];case 2:return t=n.sent(),e.reject(t),[3,3];case 3:return[2]}}))}))})),e.promise)]}))}))},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){return this.hf(),Ws(e)?this.lf.G_(e):(R("Firestore.onSnapshotsInSync","function",1,e),this.lf.G_({next:e}))},e.prototype.hf=function(){return this.lf||this.Ef(new ss,new ls,{jl:!1}),this.lf},e.prototype.Af=function(){return new ie(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},e.prototype.Ef=function(e,t,n){var r=this.Af();return this.lf=new zs(this.df,this.uf),this.lf.start(r,e,t,n)},e._f=function(e){if(!Object.prototype.hasOwnProperty.call(e.options,"projectId"))throw new h(c.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var t=e.options.projectId;if(!t||"string"!=typeof t)throw new h(c.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new oe(t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.cf)throw new h(c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){return O("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,e),this.hf(),new cu(S.g(e),this,null)},e.prototype.doc=function(e){return O("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,e),this.hf(),Js.Rf(S.g(e),this,null)},e.prototype.collectionGroup=function(e){if(O("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new h(c.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new uu(function(e){return new Pn(S.P(),e)}(e),this,null)},e.prototype.runTransaction=function(e){var t=this;return O("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,e),this.hf().transaction((function(n){return e(new Xs(t,n))}))},e.prototype.batch=function(){return this.hf(),new $s(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(d()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),e.setLogLevel=function(e){O("Firestore.setLogLevel",arguments,1),j("setLogLevel",["debug","error","silent","warn","info","verbose"],1,e),f.setLogLevel(e)},e.prototype.gf=function(){return this.wf.timestampsInSnapshots},e.prototype.Pf=function(){return this.wf},e}(),Xs=function(){function e(e,t){this.yf=e,this.Vf=t}return e.prototype.get=function(e){var t=this;O("Transaction.get",arguments,1);var n=pu("Transaction.get",e,this.yf);return this.Vf.v_([n.f_]).then((function(e){if(!e||1!==e.length)return m();var r=e[0];if(r instanceof On)return new eu(t.yf,n.f_,null,!1,!1,n.d_);if(r instanceof Nn)return new eu(t.yf,n.f_,r,!1,!1,n.d_);throw m()}))},e.prototype.set=function(e,t,n){P("Transaction.set",arguments,2,3);var r=pu("Transaction.set",e,this.yf);n=hu("Transaction.set",n);var i=gu(r.d_,t,n),o=Os(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,o),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof t||t instanceof fs?(x("Transaction.update",arguments,3),r=pu("Transaction.update",e,this.yf),i=Ps(this.yf.mf,"Transaction.update",r.f_,t,n,o)):(O("Transaction.update",arguments,2),r=pu("Transaction.update",e,this.yf),i=xs(this.yf.mf,"Transaction.update",r.f_,t)),this.Vf.update(r.f_,i),this},e.prototype.delete=function(e){O("Transaction.delete",arguments,1);var t=pu("Transaction.delete",e,this.yf);return this.Vf.delete(t.f_),this},e}(),$s=function(){function e(e){this.yf=e,this.pf=[],this.bf=!1}return e.prototype.set=function(e,t,n){P("WriteBatch.set",arguments,2,3),this.vf();var r=pu("WriteBatch.set",e,this.yf);n=hu("WriteBatch.set",n);var i=gu(r.d_,t,n),o=Os(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(o.w_(r.f_,ln.ze())),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.vf(),"string"==typeof t||t instanceof fs?(x("WriteBatch.update",arguments,3),r=pu("WriteBatch.update",e,this.yf),i=Ps(this.yf.mf,"WriteBatch.update",r.f_,t,n,o)):(O("WriteBatch.update",arguments,2),r=pu("WriteBatch.update",e,this.yf),i=xs(this.yf.mf,"WriteBatch.update",r.f_,t)),this.pf=this.pf.concat(i.w_(r.f_,ln.exists(!0))),this},e.prototype.delete=function(e){O("WriteBatch.delete",arguments,1),this.vf();var t=pu("WriteBatch.delete",e,this.yf);return this.pf=this.pf.concat(new kn(t.f_,ln.ze())),this},e.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},e.prototype.vf=function(){if(this.bf)throw new h(c.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Js=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n.__,t,r)||this).f_=t,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return r.__extends(t,e),t.Rf=function(e,n,r){if(e.length%2!=0)throw new h(c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.R()+" has "+e.length);return new t(new A(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new cu(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){if(O("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,e),!e)throw new h(c.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=S.g(e);return new cu(this.f_.path.child(t),this.firestore,null)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.f_.isEqual(e.f_)&&this.d_===e.d_},t.prototype.set=function(e,t){P("DocumentReference.set",arguments,1,2),t=hu("DocumentReference.set",t);var n=gu(this.d_,e,t),r=Os(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,t);return this.lf.write(r.w_(this.f_,ln.ze()))},t.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof fs?(x("DocumentReference.update",arguments,2),n=Ps(this.firestore.mf,"DocumentReference.update",this.f_,e,t,r)):(O("DocumentReference.update",arguments,1),n=xs(this.firestore.mf,"DocumentReference.update",this.f_,e)),this.lf.write(n.w_(this.f_,ln.exists(!0)))},t.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this.lf.write([new kn(this.f_,ln.ze())])},t.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];P("DocumentReference.onSnapshot",arguments,1,4);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Ws(i[s])||(H("DocumentReference.onSnapshot",a=i[s],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++);var u={includeMetadataChanges:a.includeMetadataChanges};if(Ws(i[s])){var l=i[s];i[s]=null===(e=l.next)||void 0===e?void 0:e.bind(l),i[s+1]=null===(t=l.error)||void 0===t?void 0:t.bind(l),i[s+2]=null===(n=l.complete)||void 0===n?void 0:n.bind(l)}else R("DocumentReference.onSnapshot","function",s,i[s]),D("DocumentReference.onSnapshot","function",s+1,i[s+1]),D("DocumentReference.onSnapshot","function",s+2,i[s+2]);var c={next:function(e){i[s]&&i[s](r.Sf(e))},error:i[s+1],complete:i[s+2]};return this.lf.listen(Dn(this.f_.path),u,c)},t.prototype.get=function(e){var t=this;P("DocumentReference.get",arguments,0,1),du("DocumentReference.get",e);var n=this.firestore.hf();return e&&"cache"===e.source?n.Q_(this.f_).then((function(e){return new eu(t.firestore,t.f_,e,!0,e instanceof Nn&&e.Je,t.d_)})):n.W_(this.f_,e).then((function(e){return t.Sf(e)}))},t.prototype.withConverter=function(e){return new t(this.f_,this.firestore,e)},t.prototype.Sf=function(e){var t=e.docs.get(this.f_);return new eu(this.firestore,this.f_,t,e.fromCache,e.hasPendingWrites,this.d_)},t}(Es),Zs=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),eu=function(){function e(e,t,n,r,i,o){this.yf=e,this.f_=t,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}return e.prototype.data=function(e){var t=this;if(P("DocumentSnapshot.data",arguments,0,1),e=fu("DocumentSnapshot.data",e),this.Df){if(this.d_){var n=new tu(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,e)}return new Gs(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(e){return new Js(e,t.yf,null)}),(function(e){return new re(e)})).X_(this.Df.rn())}},e.prototype.get=function(e,t){var n=this;if(P("DocumentSnapshot.get",arguments,1,2),t=fu("DocumentSnapshot.get",t),this.Df){var r=this.Df.data().field(js("DocumentSnapshot.get",e,this.f_));if(null!==r)return new Gs(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(e){return new Js(e,n.yf,n.d_)}),(function(e){return new re(e)})).X_(r)}},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Js(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Zs(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","DocumentSnapshot",1,t);return this.yf===t.yf&&this.Cf===t.Cf&&this.f_.isEqual(t.f_)&&(null===this.Df?null===t.Df:this.Df.isEqual(t.Df))&&this.d_===t.d_},e}(),tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.data=function(t){return e.prototype.data.call(this,t)},t}(eu);function nu(e,t,n,r,i,o,a){var s;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new h(c.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ou(a,o);for(var u=[],l=0,f=a;l<f.length;l++)u.push(iu(r,e,f[l]));s={arrayValue:{values:u}}}else s=iu(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ou(a,o),s=Rs(n,t,a,"in"===o||"not-in"===o);var d=Xn.create(i,o,s);return function(e,t){if(t.hn()){var n=jn(e);if(null!==n&&!n.isEqual(t.field))throw new h(c.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Fn(e);null!==r&&au(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new h(c.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,d),d}function ru(e,t,n){if(null!==e.startAt)throw new h(c.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new h(c.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new lr(t,n);return function(e,t){if(null===Fn(e)){var n=jn(e);null!==n&&au(0,n,t.field)}}(e,r),r}function iu(e,t,n){if("string"==typeof n){if(""===n)throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Un(t)&&-1!==n.indexOf("/"))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(S.g(n));if(!A.F(r))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ut(e,new A(r))}if(n instanceof Es)return ut(e,n.f_);throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(n)+".")}function ou(e,t){if(!Array.isArray(e)||0===e.length)throw new h(c.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new h(c.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===t||"array-contains-any"===t){if(e.indexOf(null)>=0)throw new h(c.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new h(c.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")}}function au(e,t,n){if(!n.isEqual(t))throw new h(c.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function su(e){if(Ln(e)&&0===e.on.length)throw new h(c.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uu=function(){function e(e,t,n){this.Ff=e,this.firestore=t,this.d_=n}return e.prototype.where=function(t,n,r){O("Query.where",arguments,3),B("Query.where",3,r);var i=j("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=js("Query.where",t),a=nu(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,o,i,r);return new e(function(e,t){var n=e.filters.concat([t]);return new Pn(e.path,e.collectionGroup,e.on.slice(),n,e.limit,e.an,e.startAt,e.endAt)}(this.Ff,a),this.firestore,this.d_)},e.prototype.orderBy=function(t,n){var r;if(P("Query.orderBy",arguments,1,2),D("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new h(c.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=js("Query.orderBy",t),o=ru(this.Ff,i,r);return new e(function(e,t){var n=e.on.concat([t]);return new Pn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.an,e.startAt,e.endAt)}(this.Ff,o),this.firestore,this.d_)},e.prototype.limit=function(t){return O("Query.limit",arguments,1),R("Query.limit","number",1,t),W("Query.limit",1,t),new e(Bn(this.Ff,t,"F"),this.firestore,this.d_)},e.prototype.limitToLast=function(t){return O("Query.limitToLast",arguments,1),R("Query.limitToLast","number",1,t),W("Query.limitToLast",1,t),new e(Bn(this.Ff,t,"L"),this.firestore,this.d_)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAt",arguments,1);var i=this.xf("Query.startAt",t,n,!0);return new e(Hn(this.Ff,i),this.firestore,this.d_)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",t,n,!1);return new e(Hn(this.Ff,i),this.firestore,this.d_)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",t,n,!0);return new e(zn(this.Ff,i),this.firestore,this.d_)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endAt",arguments,1);var i=this.xf("Query.endAt",t,n,!1);return new e(zn(this.Ff,i),this.firestore,this.d_)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","Query",1,t);return this.firestore===t.firestore&&Wn(this.Ff,t.Ff)&&this.d_===t.d_},e.prototype.withConverter=function(t){return new e(this.Ff,this.firestore,t)},e.prototype.xf=function(e,t,n,i){if(B(e,1,t),t instanceof eu)return O(e,r.__spreadArrays([t],n),1),function(e,t,n,r,i){if(!r)throw new h(c.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Vn(e);a<s.length;a++){var u=s[a];if(u.field.p())o.push(ut(t,r.key));else{var l=r.field(u.field);if(Xe(l))throw new h(c.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=u.field.R();throw new h(c.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(l)}}return new or(o,i)}(this.Ff,this.firestore.__,e,t.Df,i);var o=[t].concat(n);return function(e,t,n,r,i,o){var a=e.on;if(i.length>a.length)throw new h(c.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var l=i[u];if(a[u].field.p()){if("string"!=typeof l)throw new h(c.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!Un(e)&&-1!==l.indexOf("/"))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var f=e.path.child(S.g(l));if(!A.F(f))throw new h(c.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new A(f);s.push(ut(t,d))}else{var p=Rs(n,r,l);s.push(p)}}return new or(s,o)}(this.Ff,this.firestore.__,this.firestore.mf,e,o,i)},e.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];P("Query.onSnapshot",arguments,1,4);var a={},s=0;if("object"!=typeof i[s]||Ws(i[s])||(H("Query.onSnapshot",a=i[s],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++),Ws(i[s])){var u=i[s];i[s]=null===(e=u.next)||void 0===e?void 0:e.bind(u),i[s+1]=null===(t=u.error)||void 0===t?void 0:t.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else R("Query.onSnapshot","function",s,i[s]),D("Query.onSnapshot","function",s+1,i[s+1]),D("Query.onSnapshot","function",s+2,i[s+2]);var l={next:function(e){i[s]&&i[s](new lu(r.firestore,r.Ff,e,r.d_))},error:i[s+1],complete:i[s+2]};return su(this.Ff),this.firestore.hf().listen(this.Ff,a,l)},e.prototype.get=function(e){var t=this;P("Query.get",arguments,0,1),du("Query.get",e),su(this.Ff);var n=this.firestore.hf();return(e&&"cache"===e.source?n.j_(this.Ff):n.K_(this.Ff,e)).then((function(e){return new lu(t.firestore,t.Ff,e,t.d_)}))},e}(),lu=function(){function e(e,t,n,r){this.yf=e,this.$f=t,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new Zs(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;P("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,e),this.kf.docs.forEach((function(r){e.call(t,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new uu(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){e&&(H("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this.kf.Kt)throw new h(c.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===t||(this.Mf=function(e,t,n){if(e.Qt.m()){var r=0;return e.docChanges.map((function(t){return{type:"added",doc:n(t.doc,e.fromCache,e.Wt.has(t.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=e.Qt;return e.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var r=n(t.doc,e.fromCache,e.Wt.has(t.doc.key)),o=-1,a=-1;return 0!==t.type&&(o=i.indexOf(t.doc.key),i=i.delete(t.doc.key)),1!==t.type&&(a=(i=i.add(t.doc)).indexOf(t.doc.key)),{type:vu(t.type),doc:r,oldIndex:o,newIndex:a}}))}(this.kf,t,this.Lf.bind(this)),this.Of=t),this.Mf},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","QuerySnapshot",1,t);return this.yf===t.yf&&Wn(this.$f,t.$f)&&this.kf.isEqual(t.kf)&&this.d_===t.d_},e.prototype.Lf=function(e,t,n){return new tu(this.yf,e.key,e,t,n,this.d_)},e}(),cu=function(e){function t(t,n,r){var i=this;if((i=e.call(this,Dn(t),n,r)||this).Bf=t,t.length%2!=1)throw new h(c.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.R()+" has "+t.length);return i}return r.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.Ff.path.h();return e.m()?null:new Js(new A(e),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){P("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=Y.k()),R("CollectionReference.doc","non-empty string",1,e);var t=S.g(e);return Js.Rf(this.Ff.path.child(t),this.firestore,this.d_)},t.prototype.add=function(e){O("CollectionReference.add",arguments,1);var t=this.d_?this.d_.toFirestore(e):e;R("CollectionReference.add","object",1,t);var n=this.doc();return new Js(n.f_,this.firestore,null).set(t).then((function(){return n}))},t.prototype.withConverter=function(e){return new t(this.Bf,this.firestore,e)},t}(uu);function hu(e,t){if(void 0===t)return{merge:!1};if(H(e,t,["merge","mergeFields"]),L(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new h(c.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new h(c.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+q(r[o]))}(e,"mergeFields",0,r,(function(e){return"string"==typeof e||e instanceof fs}))}(e,0,0,t.mergeFields),void 0!==t.mergeFields&&void 0!==t.merge)throw new h(c.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function fu(e,t){return void 0===t?{}:(H(e,t,["serverTimestamps"]),F(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function du(e,t){D(e,"object",1,t),t&&(H(e,t,["source"]),F(e,0,"source",t.source,["default","server","cache"]))}function pu(e,t,n){if(t instanceof Es){if(t.firestore!==n)throw new h(c.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw z(e,"DocumentReference",1,t)}function vu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return m()}}function gu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var yu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.serverTimestamp=function(){N("FieldValue.serverTimestamp",arguments);var e=new ys("serverTimestamp");return e.e_="FieldValue.serverTimestamp",new t(e)},t.delete=function(){N("FieldValue.delete",arguments);var e=new vs("deleteField");return e.e_="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];x("FieldValue.arrayUnion",arguments,1);var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return x("arrayUnion()",arguments,1),new ms("arrayUnion",e)}).apply(void 0,e);return r.e_="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];x("FieldValue.arrayRemove",arguments,1);var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return x("arrayRemove()",arguments,1),new _s("arrayRemove",e)}).apply(void 0,e);return r.e_="FieldValue.arrayRemove",new t(r)},t.increment=function(e){R("FieldValue.increment","number",1,e),O("FieldValue.increment",arguments,1);var n=function(e){return new bs("increment",e)}(e);return n.e_="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this.l_.isEqual(e.l_)},t}(Cs),mu={Firestore:Ys,GeoPoint:ws,Timestamp:se,Blob:re,Transaction:Xs,WriteBatch:$s,DocumentReference:Js,DocumentSnapshot:eu,Query:uu,QueryDocumentSnapshot:tu,QuerySnapshot:lu,CollectionReference:cu,FieldPath:fs,FieldValue:yu,setLogLevel:Ys.setLogLevel,CACHE_SIZE_UNLIMITED:Ks};function _u(e){!function(e,t){e.INTERNAL.registerComponent(new u.Component("firestore",(function(e){return function(e,t){var n=new ls,r=new us(n);return new Ys(e,t,r,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},mu)))}(e),e.registerVersion("@firebase/firestore","1.18.0")}_u(l.default),t.__PRIVATE_registerFirestore=_u},ABqa:function(e,t,n){"use strict";var r=n("wj3C"),i=n("mrSG"),o=n("S+S0");var a,s=(a=r)&&"object"==typeof a&&"default"in a?a:{default:a},u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},l=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return i.__extends(t,e),t}(Error),c=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];try{return[2,this.messaging.getToken()]}catch(a){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t;return i.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function h(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var f,d,p,v=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return h(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?h(e,(function(e){return t.decode(e)})):e},e}(),g=function(){function e(e,t,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=e,this.fetchImpl=i,this.serializer=new v,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new c(t,n),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return e()}}));try{var s=new URL(r);this.customDomain=s.origin,this.region="us-central1"}catch(a){this.customDomain=null,this.region=r}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:n["Content-Type"]="application/json",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),[2,{status:0,json:null}];case 4:o=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,r.json()];case 6:return o=i.sent(),[3,8];case 7:return i.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}}))}))},e.prototype.call=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,c,h,f,d,p,v,g;return i.__generator(this,(function(i){switch(i.label){case 0:return r=this._url(e),t=this.serializer.encode(t),o={data:t},s={},[4,this.contextProvider.getContext()];case 1:return(c=i.sent()).authToken&&(s.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(s["Firebase-Instance-ID-Token"]=c.instanceIdToken),h=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new l("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(n.timeout||7e4),f=h.timer,d=h.promise,[4,Promise.race([y(f,this.postJSON(r,o,s)),d,y(f,this.cancelAllRequests)])];case 2:if(!(p=i.sent()))throw new l("cancelled","Firebase Functions instance was deleted.");if(v=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var s=t&&t.error;if(s){var c=s.status;if("string"==typeof c){if(!u[c])return new l("internal","internal");r=u[c],i=c}var h=s.message;"string"==typeof h&&(i=h),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(a){}return"ok"===r?null:new l(r,i,o)}(p.status,p.json,this.serializer))throw v;if(!p.json)throw new l("internal","Response is not valid JSON object.");if(void 0===(g=p.json.data)&&(g=p.json.result),void 0===g)throw new l("internal","Response is missing data field.");return[2,{data:this.serializer.decode(g)}]}}))}))},e}();function y(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}f=s.default,d=fetch.bind(self),p={Functions:g},f.INTERNAL.registerComponent(new o.Component("functions",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("messaging");return new g(n,r,i,t,d)}),"PUBLIC").setServiceProps(p).setMultipleInstances(!0)),s.default.registerVersion("@firebase/functions","0.5.1")},LOEa:function(e,t,n){(function(){var e,t=n("wj3C").default,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in n||(n[a]={}),n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.v),reject:e(this.g)}},t.prototype.v=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.m(e):this.h(e)}},t.prototype.m=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.o=function(e){var t=this.f();e.Pa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Pa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Pa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Pa(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Pa(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self,l=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function f(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++m)}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:b).apply(null,arguments)}function C(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var k=Date.now||function(){return+new Date};function E(e,t){function n(){}n.prototype=t.prototype,e.$a=t.prototype,e.prototype=new n,e.prototype.constructor=e}function S(e,t,n){this.code=A+e,this.message=t||N[e]||"",this.a=n||null}function I(e){var t=e&&e.code;return t?new S(t.substring(A.length),e.message,e.serverResponse):null}E(S,Error),S.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},S.prototype.toJSON=function(){return this.w()};var T,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(e){for(var t in O)if(O[t].id===e)return{firebaseEndpoint:(e=O[t]).Sa,secureTokenEndpoint:e.Ya,identityPlatformEndpoint:e.Va};return null}function P(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function R(e){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function D(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");R.call(this,n+e[r])}function M(e,t){throw new D("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function L(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function j(){this.b=this.a=null}T=x("__EID__")?"__EID__":void 0,E(R,Error),R.prototype.name="CustomError",E(D,R),D.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var U=new L((function(){return new q}),(function(e){e.reset()}));function V(){var e=yt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function q(){this.next=this.b=this.a=null}j.prototype.add=function(e,t){var n=U.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},H=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},z=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},W=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function K(e,t){return 0<=B(e,t)}function Q(e,t){var n;return(n=0<=(t=B(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1)}))}function X(e){return Array.prototype.concat.apply([],arguments)}function $(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var J,Z=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ee=/&/g,te=/</g,ne=/>/g,re=/"/g,ie=/'/g,oe=/\x00/g,ae=/[\x00&<>"']/;function se(e,t){return-1!=e.indexOf(t)}function ue(e,t){return e<t?-1:e>t?1:0}e:{var le=u.navigator;if(le){var ce=le.userAgent;if(ce){J=ce;break e}}J=""}function he(e){return se(J,e)}function fe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function de(e){for(var t in e)return!1;return!0}function pe(e){var t,n={};for(t in e)n[t]=e[t];return n}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ve.length;o++)n=ve[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ye(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function me(e,t){this.a=e===we&&t||"",this.b=be}function _e(e){return e instanceof me&&e.constructor===me&&e.b===be?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}me.prototype.sa=!0,me.prototype.ra=function(){return this.a},me.prototype.toString=function(){return"Const{"+this.a+"}"};var be={},we={},Ce=new me(we,"");function ke(e,t){this.a=e===Ne&&t||"",this.b=Ae}function Ee(e){return e instanceof ke&&e.constructor===ke&&e.b===Ae?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function Se(e,t){var n=_e(e);if(!Te.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Ie,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof me?_e(e):encodeURIComponent(String(e))})),new ke(Ne,e)}ke.prototype.sa=!0,ke.prototype.ra=function(){return this.a.toString()},ke.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ie=/%{(\w+)}/g,Te=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ae={},Ne={};function Oe(e,t){this.a=e===Me&&t||"",this.b=De}function xe(e){return e instanceof Oe&&e.constructor===Oe&&e.b===De?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}Oe.prototype.sa=!0,Oe.prototype.ra=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pe=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Re(e){return e instanceof Oe?e:(e="object"==typeof e&&e.sa?e.ra():String(e),Pe.test(e)||(e="about:invalid#zClosurez"),new Oe(Me,e))}var De={},Me={};function Le(){this.a="",this.b=je}function Fe(e){return e instanceof Le&&e.constructor===Le&&e.b===je?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}Le.prototype.sa=!0,Le.prototype.ra=function(){return this.a.toString()},Le.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var je={};function Ue(e){var t=new Le;return t.a=e,t}Ue("<!DOCTYPE html>");var Ve=Ue("");function qe(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Be(e){return ae.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ee,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(te,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ne,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(re,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ie,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(oe,"&#0;"))),e}function He(e){return He[" "](e),e}Ue("<br>"),He[" "]=h;var ze,We,Ge=he("Opera"),Ke=he("Trident")||he("MSIE"),Qe=he("Edge"),Ye=Qe||Ke,Xe=he("Gecko")&&!(se(J.toLowerCase(),"webkit")&&!he("Edge"))&&!(he("Trident")||he("MSIE"))&&!he("Edge"),$e=se(J.toLowerCase(),"webkit")&&!he("Edge");function Je(){var e=u.document;return e?e.documentMode:void 0}e:{var Ze="",et=(We=J,Xe?/rv:([^\);]+)(\)|;)/.exec(We):Qe?/Edge\/([\d\.]+)/.exec(We):Ke?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(We):$e?/WebKit\/(\S+)/.exec(We):Ge?/(?:Version)[ \/]?(\S+)/.exec(We):void 0);if(et&&(Ze=et?et[1]:""),Ke){var tt=Je();if(null!=tt&&tt>parseFloat(Ze)){ze=String(tt);break e}}ze=Ze}var nt,rt={};function it(e){return function(e,t){var n=rt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=Z(String(ze)).split("."),r=Z(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ue(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ue(0==a[2].length,0==s[2].length)||ue(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}nt=u.document&&Ke?Je():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(We){}var ot=!Ke||9<=Number(nt);function at(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function st(e,t){fe(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ct.hasOwnProperty(n)?e.setAttribute(ct[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ut,lt,ct={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ht(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!d(o)||v(o)&&0<o.nodeType?r(o):H(dt(o)?$(o):o,r)}}function ft(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function dt(e){if(e&&"number"==typeof e.length){if(v(e))return"function"==typeof e.item||"string"==typeof e.item;if(p(e))return"function"==typeof e.item}return!1}function pt(e){u.setTimeout((function(){throw e}),0)}function vt(e,t){lt||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);lt=function(){e.then(mt)}}else lt=function(){var e=mt;!p(u.setImmediate)||u.Window&&u.Window.prototype&&!he("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ut||(ut=function(){var e=u.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!he("Presto")&&(e=function(){var e=ft(document,"IFRAME");e.style.display="none",function(e){var t=new ke(Ne,_e(Ce));ye(e,"HTMLIFrameElement"),e.src=Ee(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(Fe(Ve)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!he("Trident")&&!he("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Fb;n.Fb=null,e()}},function(e){r.next={Fb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ut(e)):u.setImmediate(e)}}(),gt||(lt(),gt=!0),yt.add(e,t)}var gt=!1,yt=new j;function mt(){for(var e;e=V();){try{e.a.call(e.b)}catch(t){pt(t)}F(U,e)}gt=!1}function _t(e,t){if(this.a=bt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Pt(n,wt,e)}),(function(e){if(!(e instanceof Ut))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Pt(n,Ct,e)}))}catch(r){Pt(this,Ct,r)}}var bt=0,wt=2,Ct=3;function kt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}kt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Et=new L((function(){return new kt}),(function(e){e.reset()}));function St(e,t,n){var r=Et.get();return r.g=e,r.b=t,r.f=n,r}function It(e){if(e instanceof _t)return e;var t=new _t(h);return Pt(t,wt,e),t}function Tt(e){return new _t((function(t,n){n(e)}))}function At(e,t,n){Rt(e,t,n,null)||vt(C(t,e))}function Nt(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)At(e[o],C(i,o,!0),C(i,o,!1));else t(r)}))}function Ot(e,t){e.b||e.a!=wt&&e.a!=Ct||Dt(e),e.f?e.f.next=t:e.b=t,e.f=t}function xt(e,t,n,r){var i=St(null,null,null);return i.a=new _t((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Ut?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,Ot(e,i),i.a}function Pt(e,t,n){e.a==bt&&(e===n&&(t=Ct,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Rt(n,e.Zc,e.$c,e)||(e.i=n,e.a=t,e.c=null,Dt(e),t!=Ct||n instanceof Ut||function(e,t){e.g=!0,vt((function(){e.g&&jt.call(null,t)}))}(e,n)))}function Rt(e,t,n,r){if(e instanceof _t)return Ot(e,St(t||h,n||null,r)),!0;if(P(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(s){o(s)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Dt(e){e.h||(e.h=!0,vt(e.fc,e))}function Mt(e){var t=null;return e.b&&(e.b=(t=e.b).next,t.next=null),e.b||(e.f=null),t}function Lt(e,t,n,r){if(n==Ct&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ft(t,n,r);else try{t.c?t.g.call(t.f):Ft(t,n,r)}catch(i){jt.call(null,i)}F(Et,t)}function Ft(e,t,n){t==wt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return xt(this,p(e)?e:null,p(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(e=_t.prototype).na=function(e,t){return(e=St(e,e,t)).c=!0,Ot(this,e),this},e.s=function(e,t){return xt(this,null,e,t)},e.cancel=function(e){if(this.a==bt){var t=new Ut(e);vt((function(){!function e(t,n){if(t.a==bt)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==t&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==bt&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Mt(r),Lt(r,o,Ct,n)))}t.c=null}else Pt(t,Ct,n)}(this,t)}),this)}},e.Zc=function(e){this.a=bt,Pt(this,wt,e)},e.$c=function(e){this.a=bt,Pt(this,Ct,e)},e.fc=function(){for(var e;e=Mt(this);)Lt(this,e,this.a,this.i);this.h=!1};var jt=pt;function Ut(e){R.call(this,e)}function Vt(){0!=qt&&(Bt[g(this)]=this),this.xa=this.xa,this.oa=this.oa}E(Ut,R),Ut.prototype.name="cancel";var qt=0,Bt={};function Ht(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=qt)){var t=g(e);if(0!=qt&&e.oa&&0<e.oa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Bt[t]}}Vt.prototype.xa=!1,Vt.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var zt=Object.freeze||function(e){return e},Wt=!Ke||9<=Number(nt),Gt=Ke&&!it("9"),Kt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",h,t),u.removeEventListener("test",h,t)}catch(n){}return e}();function Qt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Yt(e,t){if(Qt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Xe){e:{try{He(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Xt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Qt.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Yt,Qt);var Xt=zt({2:"touch",3:"pen",4:"mouse"});Yt.prototype.preventDefault=function(){Yt.$a.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Gt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Yt.prototype.g=function(){return this.a};var $t="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Zt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Jt,this.va=this.Oa=!1}function en(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Ua=null}function tn(e){this.src=e,this.a={},this.b=0}function nn(e,t){var n=t.type;n in e.a&&Q(e.a[n],t)&&(en(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function rn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Ua==r)return i}return-1}tn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=rn(e,t,r,i);return-1<a?(t=e[a],n||(t.Oa=!1)):((t=new Zt(t,this.src,o,!!r,i)).Oa=n,e.push(t)),t};var on="closure_lm_"+(1e6*Math.random()|0),an={};function sn(e,t,n,r,i){if(r&&r.once)ln(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)sn(e,t[o],n,r,i);else n=mn(n),e&&e[$t]?bn(e,t,n,v(r)?!!r.capture:!!r,i):un(e,t,n,!1,r,i)}function un(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=gn(e);if(s||(e[on]=s=new tn(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=vn,t=Wt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Kt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function ln(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=mn(n),e&&e[$t]?wn(e,t,n,v(r)?!!r.capture:!!r,i):un(e,t,n,!0,r,i)}function cn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=mn(n),e&&e[$t]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=rn(o=e.a[t],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=gn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=rn(t,n,r,i)),(n=-1<e?t[e]:null)&&hn(n))}function hn(e){if("number"!=typeof e&&e&&!e.va){var t=e.src;if(t&&t[$t])nn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gn(t))?(nn(n,e),0==n.b&&(n.src=null,t[on]=null)):en(e)}}}function fn(e){return e in an?an[e]:an[e]="on"+e}function dn(e,t,n,r){var i=!0;if((e=gn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(e,t){var n=e.listener,r=e.Ua||e.src;return e.Oa&&hn(e),n.call(r,t)}function vn(e,t){if(e.va)return!0;if(!Wt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Yt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=dn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=dn(r[i],e,!1,t),n=n&&o}return n}return pn(e,new Yt(t,this))}function gn(e){return(e=e[on])instanceof tn?e:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(e){return p(e)?e:(e[yn]||(e[yn]=function(t){return e.handleEvent(t)}),e[yn])}function _n(){Vt.call(this),this.v=new tn(this),this.$b=this,this.fb=null}function bn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function wn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Cn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Ua||a.src;a.Oa&&nn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function En(e){var t=null;return new _t((function(n,r){-1==(t=kn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw u.clearTimeout(t),e}))}function Sn(e){if(e.V&&"function"==typeof e.V)return e.V();if("string"==typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function In(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.V||"function"!=typeof e.V){if(d(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Tn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Tn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function An(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Nn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Nn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Nn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}E(_n,Vt),_n.prototype[$t]=!0,_n.prototype.addEventListener=function(e,t,n,r){sn(this,e,t,n,r)},_n.prototype.removeEventListener=function(e,t,n,r){cn(this,e,t,n,r)},_n.prototype.dispatchEvent=function(e){var t,n=this.fb;if(n)for(t=[];n;n=n.fb)t.push(n);n=this.$b;var r=e.type||e;if("string"==typeof e)e=new Qt(e,n);else if(e instanceof Qt)e.target=e.target||n;else{var i=e;ge(e=new Qt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Cn(a,r,!0,e)&&i}if(i=Cn(a=e.b=n,r,!0,e)&&i,i=Cn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Cn(a=e.b=t[o],r,!1,e)&&i;return i},_n.prototype.Da=function(){if(_n.$a.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)en(n[r]);delete t.a[e],t.b--}}this.fb=null},(e=Tn.prototype).V=function(){An(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return An(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Nn(this.b,e)?this.b[e]:t},e.set=function(e,t){Nn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xn(e,t){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,e instanceof xn?(this.i=void 0!==t?t:e.i,Pn(this,e.f),this.l=e.l,this.a=e.a,Rn(this,e.g),this.c=e.c,Dn(this,Zn(e.b)),this.h=e.h):e&&(n=String(e).match(On))?(this.i=!!t,Pn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Rn(this,n[4]),this.c=Un(n[5]||"",!0),Dn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!t,this.b=new Kn(null,this.i))}function Pn(e,t,n){e.f=n?Un(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Rn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Dn(e,t,n){t instanceof Kn?(e.b=t,function(e,t){t&&!e.f&&(Qn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xn(this,t),Jn(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Vn(t,Wn)),e.b=new Kn(t,e.i))}function Mn(e,t,n){e.b.set(t,n)}function Ln(e,t){return e.b.get(t)}function Fn(e){return e instanceof xn?new xn(e):new xn(e,void 0)}function jn(e,t,n,r){var i=new xn(null,void 0);return e&&Pn(i,e),t&&(i.a=t),n&&Rn(i,n),r&&(i.c=r),i}function Un(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,qn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Vn(t,Bn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Vn(t,Bn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vn(n,"/"==n.charAt(0)?zn:Hn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Vn(n,Gn)),e.join("")},xn.prototype.resolve=function(e){var t=new xn(this),n=!!e.f;n?Pn(t,e.f):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.c;if(n)Rn(t,e.g);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(se(i,"./")||se(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.b.toString(),n?Dn(t,Zn(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Bn=/[#\/\?@]/g,Hn=/[#\?:]/g,zn=/[#\?]/g,Wn=/[#\?@]/g,Gn=/#/g;function Kn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Qn(e){e.a||(e.a=new Tn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yn(e){var t=In(e);if(void 0===t)throw Error("Keys are undefined");var n=new Kn(null,void 0);e=Sn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Xn(e,t){Qn(e),t=er(e,t),Nn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Nn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&An(e)))}function $n(e,t){return Qn(e),t=er(e,t),Nn(e.a.b,t)}function Jn(e,t,n){Xn(e,t),0<n.length&&(e.c=null,e.a.set(er(e,t),$(n)),e.b+=n.length)}function Zn(e){var t=new Kn;return t.c=e.c,e.a&&(t.a=new Tn(e.a),t.b=e.b),t}function er(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function tr(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),or(i,r),r.push(":"),e(t,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":or(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nr,e,t),t.join("")}function nr(){}(e=Kn.prototype).add=function(e,t){Qn(this),this.c=null,e=er(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Qn(this),this.a.forEach((function(n,r){H(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Qn(this);for(var e=this.a.V(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.V=function(e){Qn(this);var t=[];if("string"==typeof e)$n(this,e)&&(t=X(t,this.a.get(er(this,e))));else{e=this.a.V();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return Qn(this),this.c=null,$n(this,e=er(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(e,t){t.push('"',e.replace(ir,(function(e){var t=rr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),rr[e]=t),t})),'"')}function ar(){var e=Er();return Ke&&!!nt&&11==nt||/Edge\/\d+/.test(e)}function sr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function ur(e,t){t=t||u.window;var n="about:blank";e&&(n=xe(Re(e))),t.location.href=n}function lr(e){return!!((e=(e||Er()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function cr(e){e=e||u.window;try{e.close()}catch(t){}}function hr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(t.target=r,se(n,"crios/")&&(t.target="_blank")),wr(Er())==br&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Oe?n:Re(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((he("iPhone")&&!he("iPod")&&!he("iPad")||he("iPad")||he("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ye(a=ft(document,"A"),"HTMLAnchorElement"),t instanceof Oe||t instanceof Oe||(t="object"==typeof t&&t.sa?t.ra():String(t),Pe.test(t)||(t="about:invalid#zClosurez"),t=new Oe(Me,t)),a.href=xe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=xe(t),a&&(Ye&&se(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=Ue('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Be(e)+'">'),r=a.document)&&(r.write(Fe(e)),r.close())):(a=r.open(xe(t),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function pr(){var e=null;return new _t((function(t){"complete"==u.document.readyState?t():(e=function(){t()},ln(window,"load",e))})).s((function(t){throw cn(window,"load",e),t}))}function vr(e){return e=e||Er(),!("file:"!==Nr()&&"ionic:"!==Nr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function yr(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function mr(){return t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function _r(){var e=mr();return"ReactNative"===e||"Node"===e}var br="Firefox";function wr(e){var t=e.toLowerCase();return se(t,"opera/")||se(t,"opr/")||se(t,"opios/")?"Opera":se(t,"iemobile")?"IEMobile":se(t,"msie")||se(t,"trident/")?"IE":se(t,"edge/")?"Edge":se(t,"firefox/")?br:se(t,"silk/")?"Silk":se(t,"blackberry")?"Blackberry":se(t,"webos")?"Webos":!se(t,"safari/")||se(t,"chrome/")||se(t,"crios/")||se(t,"android")?!se(t,"chrome/")&&!se(t,"crios/")||se(t,"edge/")?se(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"}var Cr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function kr(e,t){t=t||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=mr())?r=wr(i=Er()):"Worker"===r&&(r=wr(i=Er())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Er(){return u.navigator&&u.navigator.userAgent||""}function Sr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Ir(){try{var e=u.localStorage,t=Dr();if(e)return e.setItem(t,"1"),e.removeItem(t),!ar()||!!u.indexedDB}catch(n){return yr()&&!!u.indexedDB}return!1}function Tr(){return(Ar()||"chrome-extension:"===Nr()||vr())&&!_r()&&Ir()&&!yr()}function Ar(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return u.location&&u.location.protocol||null}function Or(e){return!lr(e=e||Er())&&wr(e)!=br}function xr(e){return void 0===e?null:tr(e)}function Pr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[t]=e[t]);return n}function Rr(e){if(null!==e)return JSON.parse(e)}function Dr(e){return e||Math.floor(1e9*Math.random()).toString()}function Mr(e){return"Safari"!=wr(e=e||Er())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Lr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Fr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Er(),t=mr(),this.b=lr(e)||"ReactNative"===t}function jr(){var e=u.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Ur(e){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e)}function Vr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function qr(){return!(!Sr("fireauth.oauthhelper",u)&&!Sr("fireauth.iframe",u))}Fr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!=typeof e.onLine||!Ar()&&"chrome-extension:"!==Nr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,Hr={};function zr(e){Hr[e]||(Hr[e]=!0,Ur(e))}try{var Wr={};Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==Wr.abcd}catch(We){Br=!1}function Gr(e,t,n){Br?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Kr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Gr(e,n,t[n])}function Qr(e){var t={};return Kr(t,e),t}function Yr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Gr(t,n,Yr(e[n]));return t}function Xr(e){var t=e&&(e[ti]?"phone":null);if(!(t&&e&&e[ei]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Gr(this,"uid",e[ei]),Gr(this,"displayName",e[Jr]||null);var n=null;e[Zr]&&(n=new Date(e[Zr]).toUTCString()),Gr(this,"enrollmentTime",n),Gr(this,"factorId",t)}function $r(e){try{var t=new ni(e)}catch(n){t=null}return t}Xr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",Zr="enrolledAt",ei="mfaEnrollmentId",ti="phoneInfo";function ni(e){Xr.call(this,e),Gr(this,"phoneNumber",e[ti])}function ri(e){var t={},n=e[si],r=e[li],i=e[ci];if(e=$r(e[ui]),!i||i!=oi&&i!=ai&&!n||i==ai&&!r||i==ii&&!e)throw Error("Invalid checkActionCode response!");i==ai?(t[fi]=n||null,t[pi]=n||null,t[hi]=r):(t[fi]=r||null,t[pi]=r||null,t[hi]=n||null),t[di]=e||null,Gr(this,gi,i),Gr(this,vi,Yr(t))}E(ni,Xr),ni.prototype.w=function(){var e=ni.$a.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",si="email",ui="mfaInfo",li="newEmail",ci="requestType",hi="email",fi="fromEmail",di="multiFactorInfo",pi="previousEmail",vi="data",gi="operation";function yi(e){var t=Ln(e=Fn(e),mi)||null,n=Ln(e,_i)||null,r=Ln(e,Ci)||null;if(r=r&&Ei[r]||null,!t||!n||!r)throw new S("argument-error",mi+", "+_i+"and "+Ci+" are required in a valid action code URL.");Kr(this,{apiKey:t,operation:r,code:n,continueUrl:Ln(e,bi)||null,languageCode:Ln(e,wi)||null,tenantId:Ln(e,ki)||null})}var mi="apiKey",_i="oobCode",bi="continueUrl",wi="languageCode",Ci="mode",ki="tenantId",Ei={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Si(e){try{return new yi(e)}catch(t){return null}}function Ii(e){var t=e[xi];if(void 0===t)throw new S("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new S("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ti];if(n&&"object"==typeof n){t=n[Di];var r=n[Pi];if(n=n[Ri],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Ri+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new S("argument-error",Di+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Ti+" property must be a non null object when specified.");if(this.f=null,(t=e[Oi])&&"object"==typeof t){if("string"==typeof(t=t[Mi])&&t.length)this.f=t;else if(void 0!==t)throw new S("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new S("argument-error",Oi+" property must be a non null object when specified.");if(void 0!==(t=e[Ni])&&"boolean"!=typeof t)throw new S("argument-error",Ni+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Ai])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new S("argument-error",Ai+" property must be a non empty string when specified.");this.i=e||null}var Ti="android",Ai="dynamicLinkDomain",Ni="handleCodeInApp",Oi="iOS",xi="url",Pi="installApp",Ri="minimumVersion",Di="packageName",Mi="bundleId";function Li(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Fi=null;function ji(e){var t=Vi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.g=e,this.c=t.exp,this.h=t.sub,k(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Ui(e){try{return new ji(e)}catch(t){return null}}function Vi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(function(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Fi){Fi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t+=String.fromCharCode(e)})),t}(e))}catch(r){}return null}ji.prototype.S=function(){return this.f},ji.prototype.i=function(){return this.b},ji.prototype.toString=function(){return this.g};var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Bi=["client_id","response_type","scope","redirect_uri","state"],Hi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Bi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Bi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Bi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:qi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function zi(e){for(var t in Hi)if(Hi[t].fa==e)return Hi[t];return null}function Wi(e){var t={};t["facebook.com"]=Xi,t["google.com"]=Ji,t["github.com"]=$i,t["twitter.com"]=Zi;var n=e&&e[Ki];try{if(n)return t[n]?new t[n](e):new Yi(e);if(void 0!==e[Gi])return new Qi(e)}catch(r){}return null}var Gi="idToken",Ki="providerId";function Qi(e){var t=e[Ki];if(!t&&e[Gi]){var n=Ui(e[Gi]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Gr(this,"providerId",t),Gr(this,"isNewUser",n)}function Yi(e){Qi.call(this,e),Gr(this,"profile",Yr((e=Rr(e.rawUserInfo||"{}"))||{}))}function Xi(e){if(Yi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function $i(e){if(Yi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",this.profile&&this.profile.login||null)}function Ji(e){if(Yi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(e){if(Yi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",e.screenName||null)}function eo(e){var t=Fn(e),n=Ln(t,"link"),r=Ln(Fn(n),"link");return t=Ln(t,"deep_link_id"),Ln(Fn(t),"link")||t||r||n||e}function to(e,t){if(!e&&!t)throw new S("internal-error","Internal assert: no raw session string available");if(e&&t)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?no:ro}E(Yi,Qi),E(Xi,Yi),E($i,Yi),E(Ji,Yi),E(Zi,Yi);var no="enroll",ro="signin";function io(){}function oo(e,t){return e.then((function(e){if(e[Wa]){var n=Ui(e[Wa]);if(!n||t!=n.h)throw new S("user-mismatch");return e}throw new S("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==A+"user-not-found"?new S("user-mismatch"):e}))}function ao(e,t){if(!t)throw new S("internal-error","failed to construct a credential");this.a=t,Gr(this,"providerId",e),Gr(this,"signInMethod",e)}function so(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function uo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new ao(e.providerId,e.pendingToken)}catch(t){}return null}function lo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Gr(this,"idToken",t.idToken),t.accessToken&&Gr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Gr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Gr(this,"accessToken",t.oauthToken),Gr(this,"secret",t.oauthTokenSecret)}Gr(this,"providerId",e),Gr(this,"signInMethod",n)}function co(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Yn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function ho(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new lo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function fo(e,t){this.Pc=t||[],Kr(this,{providerId:e,isOAuthProvider:!0}),this.Hb={},this.ob=(zi(e)||{}).Ja||null,this.nb=null}function po(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,e,[])}function vo(e){fo.call(this,e,Bi),this.a=[]}function go(){vo.call(this,"facebook.com")}function yo(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new go).credential({accessToken:t})}function mo(){vo.call(this,"github.com")}function _o(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new mo).credential({accessToken:t})}function bo(){vo.call(this,"google.com"),this.Ca("profile")}function wo(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new bo).credential({idToken:n,accessToken:t})}function Co(){fo.call(this,"twitter.com",qi)}function ko(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function Eo(e,t,n){this.a=e,this.f=t,Gr(this,"providerId","password"),Gr(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function So(e){return e&&e.email&&e.password?new Eo(e.email,e.password,e.signInMethod):null}function Io(){Kr(this,{providerId:"password",isOAuthProvider:!1})}function To(e,t){if(!(t=Ao(t)))throw new S("argument-error","Invalid email link!");return new Eo(e,t.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function Ao(e){return(e=Si(e=eo(e)))&&e.operation===oi?e:null}function No(e){if(!(e.cb&&e.bb||e.La&&e.ea))throw new S("internal-error");this.a=e,Gr(this,"providerId","phone"),this.fa="phone",Gr(this,"signInMethod","phone")}function Oo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new No(t)}return null}function xo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.cb,code:e.a.bb}}function Po(e){try{this.a=e||t.auth()}catch(n){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Kr(this,{providerId:"phone",isOAuthProvider:!1})}function Ro(e,t){if(!e)throw new S("missing-verification-id");if(!t)throw new S("missing-verification-code");return new No({cb:e,bb:t})}function Do(e){if(e.temporaryProof&&e.phoneNumber)return new No({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return wo(o,n);case"facebook.com":return yo(n);case"github.com":return _o(n);case"twitter.com":return ko(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new ao(t,a):new lo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new vo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Mo(e){if(!e.isOAuthProvider)throw new S("invalid-oauth-provider")}function Lo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Fo(e){return(e=e||{}).type?new Lo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&I(e.error),e.postBody,e.tenantId):null}function jo(){this.b=null,this.a=[]}to.prototype.Ha=function(){return It(this.a?this.a:this.b)},to.prototype.w=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ja=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.w=function(){},ao.prototype.ja=function(e){return fs(e,so(this))},ao.prototype.b=function(e,t){var n=so(this);return n.idToken=t,ds(e,n)},ao.prototype.c=function(e,t){return oo(ps(e,so(this)),t)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ja=function(e){return fs(e,co(this))},lo.prototype.b=function(e,t){var n=co(this);return n.idToken=t,ds(e,n)},lo.prototype.c=function(e,t){return oo(ps(e,co(this)),t)},lo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},fo.prototype.Ka=function(e){return this.Hb=pe(e),this},E(po,fo),E(vo,fo),vo.prototype.Ca=function(e){return K(this.a,e)||this.a.push(e),this},vo.prototype.Pb=function(){return $(this.a)},vo.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},E(go,vo),Gr(go,"PROVIDER_ID","facebook.com"),Gr(go,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(mo,vo),Gr(mo,"PROVIDER_ID","github.com"),Gr(mo,"GITHUB_SIGN_IN_METHOD","github.com"),E(bo,vo),Gr(bo,"PROVIDER_ID","google.com"),Gr(bo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Co,fo),Gr(Co,"PROVIDER_ID","twitter.com"),Gr(Co,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ja=function(e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Ys(e,Cs,{email:this.a,oobCode:this.f}):Ys(e,zs,{email:this.a,password:this.f})},Eo.prototype.b=function(e,t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Ys(e,ks,{idToken:t,email:this.a,oobCode:this.f}):Ys(e,Ls,{idToken:t,email:this.a,password:this.f})},Eo.prototype.c=function(e,t){return oo(this.ja(e),t)},Eo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Kr(Io,{PROVIDER_ID:"password"}),Kr(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Kr(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ja=function(e){return e.eb(xo(this))},No.prototype.b=function(e,t){var n=xo(this);return n.idToken=t,Ys(e,Gs,n)},No.prototype.c=function(e,t){var n=xo(this);return n.operation="REAUTH",oo(e=Ys(e,Ks,n),t)},No.prototype.w=function(){var e={providerId:"phone"};return this.a.cb&&(e.verificationId=this.a.cb),this.a.bb&&(e.verificationCode=this.a.bb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Po.prototype.eb=function(e,t){var n=this.a.a;return It(t.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=v(e)?e.session:null,o=v(e)?e.phoneNumber:e;return(i&&i.type==no?i.Ha().then((function(e){return function(e,t){return Ys(e,js,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ro?i.Ha().then((function(t){return function(e,t){return Ys(e,Us,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return Ys(e,Ds,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Kr(Po,{PROVIDER_ID:"phone"}),Kr(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Lo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Lo.prototype.S=function(){return this.h},Lo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Uo,Vo=null;function qo(e){var t="unauthorized-domain",n=void 0,r=Fn(e);e=r.a,"chrome-extension"==(r=r.f)?n=qe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=qe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",S.call(this,t,n)}function Bo(e,t,n){S.call(this,e,n),(e=t||{}).Ib&&Gr(this,"email",e.Ib),e.ea&&Gr(this,"phoneNumber",e.ea),e.credential&&Gr(this,"credential",e.credential),e.Yb&&Gr(this,"tenantId",e.Yb)}function Ho(e){if(e.code){var t=e.code||"";0==t.indexOf(A)&&(t=t.substring(A.length));var n={credential:Do(e),Yb:e.tenantId};if(e.email)n.Ib=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new S(t,e.message||void 0);return new Bo(t,n,e.message)}return null}function zo(){}function Wo(){}function Go(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Ko(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.pc,this),this.a.onerror=w(this.Rb,this),this.a.onprogress=w(this.qc,this),this.a.ontimeout=w(this.uc,this)}function Yo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Xo(e,t,n){this.reset(e,t,n,void 0,void 0)}function $o(e){this.f=e,this.b=this.c=this.a=null}function Jo(e,t){this.name=e,this.value=t}E(qo,S),E(Bo,S),Bo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ge(e,t),e},Bo.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,E(Wo,zo),Wo.prototype.a=function(){var e=Go(this);return e?new ActiveXObject(e):new XMLHttpRequest},Wo.prototype.b=function(){var e={};return Go(this)&&(e[0]=!0,e[1]=!0),e},Uo=new Wo,E(Ko,zo),Ko.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(e=Qo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yo(this,4)},e.Rb=function(){this.status=500,this.response=this.responseText="",Yo(this,4)},e.uc=function(){this.Rb()},e.qc=function(){this.status=200,Yo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xo.prototype.a=null,Xo.prototype.reset=function(e,t,n,r,i){r||k(),delete this.a},Jo.prototype.toString=function(){return this.name};var Zo=new Jo("SEVERE",1e3),ea=new Jo("WARNING",900),ta=new Jo("CONFIG",700),na=new Jo("FINE",500);$o.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(M("Root logger has no level set."),null)}(this).value)for(p(t)&&(t=t()),e=new Xo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ra={},ia=null;function oa(e){var t;if(ia||(ia=new $o(""),ra[""]=ia,ia.c=ta),!(t=ra[e])){t=new $o(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=oa(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ra[e]=t}return t}function aa(e,t){e&&e.log(na,t,void 0)}function sa(e){this.f=e}function ua(e){_n.call(this),this.o=e,this.readyState=la,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=oa("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}E(sa,zo),sa.prototype.a=function(){return new ua(this.f)},sa.prototype.b=function(e){return function(){return e}}({}),E(ua,_n);var la=0;function ca(e){e.c.read().then(e.oc.bind(e)).catch(e.Ta.bind(e))}function ha(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,fa(e)}function fa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function da(e){_n.call(this),this.headers=new Tn,this.O=e||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=pa,this.u=this.R=!1}(e=ua.prototype).open=function(e,t){if(this.readyState!=la)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,fa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.tc.bind(this),this.Ta.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ha(this,!1)),this.readyState=la},e.tc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,fa(this)),this.a&&(this.readyState=3,fa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,ca(this)):e.text().then(this.sc.bind(this),this.Ta.bind(this)))))},e.oc=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ha(this,!0):fa(this),3==this.readyState&&ca(this)}},e.sc=function(e){this.a&&(this.response=this.responseText=e,ha(this,!0))},e.rc=function(e){this.a&&(this.response=e,ha(this,!0))},e.Ta=function(e){var t=this.h;t&&t.log(ea,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&ha(this,!0)},e.setRequestHeader=function(e,t){this.i.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(ea,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(ea,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},E(da,_n);var pa="";da.prototype.b=oa("goog.net.XhrIo");var va=/^https?$/i,ga=["POST","PUT"];function ya(e){return"content-type"==e.toLowerCase()}function ma(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,_a(e),wa(e)}function _a(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ba(e){if(e.c&&void 0!==s)if(e.A[1]&&4==ka(e)&&2==Ea(e))aa(e.b,Sa(e,"Local request error detected and ignored"));else if(e.i&&4==ka(e))kn(e.Ub,0,e);else if(e.dispatchEvent("readystatechange"),4==ka(e)){aa(e.b,Sa(e,"Request complete")),e.c=!1;try{var t,n=Ea(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(On)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!va.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var l=2<ka(e)?e.a.statusText:""}catch(c){aa(e.b,"Can not get status: "+c.message),l=""}e.h=l+" ["+Ea(e)+"]",_a(e)}}finally{wa(e)}}}function wa(e,t){if(e.a){Ca(e);var n=e.a,r=e.A[0]?h:null;e.a=null,e.A=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(Zo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ca(e){e.a&&e.u&&(e.a.ontimeout=null),e.o&&(u.clearTimeout(e.o),e.o=null)}function ka(e){return e.a?e.a.readyState:0}function Ea(e){try{return 2<ka(e)?e.a.status:-1}catch(t){return-1}}function Sa(e,t){return t+" ["+e.P+" "+e.l+" "+Ea(e)+"]"}function Ia(e){var t=Fa;this.g=[],this.u=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ta(e,t,n){e.a=!0,e.c=n,e.f=!t,xa(e)}function Aa(e){if(e.a){if(!e.m)throw new Pa(e);e.m=!1}}function Na(e,t,n,r){e.g.push([t,n,r]),e.a&&xa(e)}function Oa(e){return G(e.g,(function(e){return p(e[1])}))}function xa(e){if(e.h&&e.a&&Oa(e)){var t=e.h,n=Ma[t];n&&(u.clearTimeout(n.a),delete Ma[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.o,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(P(t)||"function"==typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(l){t=l,e.f=!0,Oa(e)||(n=!0)}}e.c=t,r&&(s=w(e.v,e,!0),r=w(e.v,e,!1),t instanceof Ia?(Na(t,s,r),t.A=!0):t.then(s,r)),n&&(t=new Da(t),Ma[t.a]=t,e.h=t.a)}function Pa(){R.call(this)}function Ra(){R.call(this)}function Da(e){this.a=u.setTimeout(w(this.c,this),0),this.b=e}(e=da.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",aa(this.b,Sa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(aa(this.b,Sa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),wa(this,!0)),da.$a.Da.call(this)},e.Ub=function(){this.xa||(this.N||this.i||this.f?ba(this):this.Ic())},e.Ic=function(){ba(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case pa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return aa(this.b,"Can not get response: "+t.message),null}},Ia.prototype.cancel=function(e){if(this.a)this.c instanceof Ia&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(e=new Ra(this),Aa(this),Ta(this,!1,e))}},Ia.prototype.v=function(e,t){this.i=!1,Ta(this,e,t)},Ia.prototype.then=function(e,t,n){var r,i,o=new _t((function(e,t){r=e,i=t}));return Na(this,r,(function(e){e instanceof Ra?o.cancel():i(e)})),o.then(e,t,n)},Ia.prototype.$goog_Thenable=!0,E(Pa,R),Pa.prototype.message="Deferred has already fired",Pa.prototype.name="AlreadyCalledError",E(Ra,R),Ra.prototype.message="Deferred was canceled",Ra.prototype.name="CanceledError",Da.prototype.c=function(){throw delete Ma[this.a],this.b};var Ma={};function La(e){var t={},n=t.document||document,r=Ee(e).toString(),i=ft(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new Ia(o),s=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(s=window.setTimeout((function(){ja(i,!0);var e=new qa(Va,"Timeout reached for loading script "+r);Aa(a),Ta(a,!1,e)}),h),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(ja(i,t.wd||!1,s),Aa(a),Ta(a,!0,null))},i.onerror=function(){ja(i,!0,s);var e=new qa(Ua,"Error while loading script "+r);Aa(a),Ta(a,!1,e)},ge(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),st(i,o),function(e,t){ye(e,"HTMLScriptElement"),e.src=Ee(t),null===c&&(c=(t=(t=u.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&l.test(t)?t:""),(t=c)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Fa(){if(this&&this.Vb){var e=this.Vb;e&&"SCRIPT"==e.tagName&&ja(e,!0,this.Ma)}}function ja(e,t,n){null!=n&&u.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ua=0,Va=1;function qa(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),R.call(this,n),this.code=e}function Ba(e){this.f=e}function Ha(e,n,r){if(this.c=e,this.l=(e=n||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=e.secureTokenTimeout||Ga,this.g=pe(e.secureTokenHeaders||Ka),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=e.firebaseTimeout||Qa,this.a=pe(e.firebaseHeaders||Ya),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==mr(),!(r=u.XMLHttpRequest||r&&t.INTERNAL.node&&t.INTERNAL.node.XMLHttpRequest)&&!yr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=yr()?new sa(self):_r()?new Ba(r):new Ko,this.b=null}E(qa,R),E(Ba,zo),Ba.prototype.a=function(){return new this.f},Ba.prototype.b=function(){return{}};var za,Wa="idToken",Ga=new Fr(3e4,6e4),Ka={"Content-Type":"application/x-www-form-urlencoded"},Qa=new Fr(3e4,6e4),Ya={"Content-Type":"application/json"};function Xa(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function $a(e,t){t&&(e.l=Ja("https://securetoken.googleapis.com/v1/token",t),e.h=Ja("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=Ja("https://identitytoolkit.googleapis.com/v2/",t))}function Ja(e,t){return e=Fn(e),t=Fn(t.url),e.c=e.a+e.c,Pn(e,t.f),e.a=t.a,Rn(e,t.g),e.toString()}function Za(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function es(e,t,n,r,i,o,a){(function(){var e=Er();return!((e="Chrome"!=wr(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Ke&&nt&&!(9<nt))})()||yr()?e=w(e.u,e):(za||(za=new _t((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(u[ns]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Na(e,null,t,void 0)}(La(Se(ts,{onload:ns})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=w(e.o,e)),e(t,n,r,i,o,a)}Ha.prototype.S=function(){return this.b},Ha.prototype.u=function(e,t,n,r,i,o){if(yr()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new da(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}bn(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return aa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),wn(a,"ready",(function(){s&&clearTimeout(s),Ht(this)})),wn(a,"timeout",(function(){s&&clearTimeout(s),Ht(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.G=!1,e.c=!0,e.a=e.O?e.O.a():Uo.a(),e.A=function(e){return e.c||(e.c=e.b())}(e.O?e.O:Uo),e.a.onreadystatechange=w(e.Ub,e);try{aa(e.b,Sa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return aa(e.b,Sa(e,"Error opening Xhr: "+a.message)),void ma(e,a)}t=r||"";var o=new Tn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"==typeof e)H(e,t,void 0);else for(var n=In(e),r=Sn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=ya,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=u.FormData&&t instanceof u.FormData,!K(ga,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.R&&(e.a.withCredentials=e.R);try{Ca(e),0<e.g&&(e.u=function(e){return Ke&&it(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),aa(e.b,Sa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.o=kn(e.Ma,e.g,e)),aa(e.b,Sa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){aa(e.b,Sa(e,"Send error: "+a.message)),ma(e,a)}}(a,e,n,r,i)};var ts=new me(we,"https://apis.google.com/js/client.js?onload=%{onload}"),ns="__fcb"+Math.floor(1e6*Math.random()).toString();function rs(e){if("string"!=typeof(e=e.email)||!dr.test(e))throw new S("invalid-email")}function is(e){"email"in e&&rs(e)}function os(e){if(!e[Wa]){if(e.mfaPendingCredential)throw new S("multi-factor-auth-required",null,pe(e));throw new S("internal-error")}}function as(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new S("internal-error")}else{if(!e.sessionInfo)throw new S("missing-verification-id");if(!e.code)throw new S("missing-verification-code")}}Ha.prototype.o=function(e,t,n,r,i){var o=this;za.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ha.prototype.yb=function(){return Ys(this,Fs,{})},Ha.prototype.Ab=function(e,t){return Ys(this,Ms,{idToken:e,email:t})},Ha.prototype.Bb=function(e,t){return Ys(this,Ls,{idToken:e,password:t})};var ss={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function us(e){if(!e.phoneVerificationInfo)throw new S("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new S("missing-verification-code")}function ls(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new S("internal-error")}function cs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&$n(e=new Kn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function hs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ho(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ho(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ho(e)):e.errorMessage&&(t=Xs(e.errorMessage)),t)throw t;os(e)}function fs(e,t){return t.returnIdpCredential=!0,Ys(e,Vs,t)}function ds(e,t){return t.returnIdpCredential=!0,Ys(e,Bs,t)}function ps(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ys(e,qs,t)}function vs(e){if(!e.oobCode)throw new S("invalid-action-code")}(e=Ha.prototype).Cb=function(e,t){var n={idToken:e},r=[];return fe(ss,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ys(this,Ms,n)},e.ub=function(e,t){return ge(e={requestType:"PASSWORD_RESET",email:e},t),Ys(this,Os,e)},e.vb=function(e,t){return ge(e={requestType:"EMAIL_SIGNIN",email:e},t),Ys(this,Ts,e)},e.tb=function(e,t){return ge(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ys(this,As,e)},e.Db=function(e,t,n){return ge(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),Ys(this,Ns,e)},e.eb=function(e){return Ys(this,Ws,e)},e.mb=function(e,t){return Ys(this,Rs,{oobCode:e,newPassword:t})},e.Qa=function(e){return Ys(this,ys,{oobCode:e})},e.ib=function(e){return Ys(this,gs,{oobCode:e})};var gs={endpoint:"setAccountInfo",B:vs,Z:"email",C:!0},ys={endpoint:"resetPassword",B:vs,F:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new S("internal-error")},C:!0},ms={endpoint:"signupNewUser",B:function(e){if(rs(e),!e.password)throw new S("weak-password")},F:os,U:!0,C:!0},_s={endpoint:"createAuthUri",C:!0},bs={endpoint:"deleteAccount",M:["idToken"]},ws={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(e){if("array"!=f(e.deleteProvider))throw new S("internal-error")}},Cs={endpoint:"emailLinkSignin",M:["email","oobCode"],B:rs,F:os,U:!0,C:!0},ks={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:rs,F:os,U:!0},Es={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:us,F:os,C:!0,Na:!0},Ss={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:us,F:os,C:!0,Na:!0},Is={endpoint:"getAccountInfo"},Ts={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new S("internal-error");rs(e)},Z:"email",C:!0},As={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",C:!0},Ns={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",C:!0},Os={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(e){if("PASSWORD_RESET"!=e.requestType)throw new S("internal-error");rs(e)},Z:"email",C:!0},xs={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Ps={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(e){if(!e.recaptchaSiteKey)throw new S("internal-error")}},Rs={endpoint:"resetPassword",B:vs,Z:"email",C:!0},Ds={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ms={endpoint:"setAccountInfo",M:["idToken"],B:is,U:!0},Ls={endpoint:"setAccountInfo",M:["idToken"],B:function(e){if(is(e),!e.password)throw new S("weak-password")},F:os,U:!0},Fs={endpoint:"signupNewUser",F:os,U:!0,C:!0},js={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(e){if(!e.phoneEnrollmentInfo)throw new S("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},F:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new S("internal-error")},C:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},F:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new S("internal-error")},C:!0,Na:!0},Vs={endpoint:"verifyAssertion",B:ls,Xa:cs,F:hs,U:!0,C:!0},qs={endpoint:"verifyAssertion",B:ls,Xa:cs,F:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new S("user-not-found");if(e.errorMessage)throw Xs(e.errorMessage);os(e)},U:!0,C:!0},Bs={endpoint:"verifyAssertion",B:function(e){if(ls(e),!e.idToken)throw new S("internal-error")},Xa:cs,F:hs,U:!0},Hs={endpoint:"verifyCustomToken",B:function(e){if(!e.token)throw new S("invalid-custom-token")},F:os,U:!0,C:!0},zs={endpoint:"verifyPassword",B:function(e){if(rs(e),!e.password)throw new S("wrong-password")},F:os,U:!0,C:!0},Ws={endpoint:"verifyPhoneNumber",B:as,F:os,C:!0},Gs={endpoint:"verifyPhoneNumber",B:function(e){if(!e.idToken)throw new S("internal-error");as(e)},F:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ho(e);os(e)}},Ks={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:as,F:os,C:!0},Qs={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(e){if(!!e[Wa]^!!e.refreshToken)throw new S("internal-error")},C:!0,Na:!0};function Ys(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.M))return Tt(new S("internal-error"));var r,i=!!t.Na,o=t.Tb||"POST";return It(n).then(t.B).then((function(){return t.U&&(n.returnSecureToken=!0),t.C&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=Fn(t+n);Mn(s,"key",e.c),a&&Mn(s,"cb",k().toString());var u="GET"==r;if(u)for(var l in i)i.hasOwnProperty(l)&&Mn(s,l,i[l]);return new _t((function(t,n){es(e,s.toString(),(function(e){e?e.error?n($s(e,o||{})):t(e):n(new S("network-request-failed"))}),r,u?void 0:tr(Pr(i)),e.a,e.m.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Gb,t.kb||!1)})).then((function(e){return r=e,t.Xa?t.Xa(n,r):r})).then(t.F).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new S("internal-error");return r[t.Z]}))}function Xs(e){return $s({error:{errors:[{message:e}],code:400,message:e}})}function $s(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ge(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],t);return!t&&e&&(t=xr(e)),new S("internal-error",t)}function Js(e){this.b=e,this.a=null,this.qb=function(e){return(nu||(nu=new _t((function(e,t){function n(){Lr(),Sr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Lr(),t(Error("Network Error"))},timeout:eu.get()})}if(Sr("gapi.iframes.Iframe"))e();else if(Sr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Sr("gapi.load")?n():t(Error("Network Error"))},It(La(r=Se(Zs,{onload:r}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw nu=null,e})))).then((function(){return new _t((function(t,n){Sr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),tu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Zs=new me(we,"https://apis.google.com/js/api.js?onload=%{onload}"),eu=new Fr(3e4,6e4),tu=new Fr(5e3,15e3),nu=null;function ru(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?jn((e=Fn(this.g.url)).f,e.a,e.g,"/emulator/auth/iframe"):jn("https",this.l,null,"/__/auth/iframe"),this.a=e,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function iu(e,t,n,r,i,o){this.u=e,this.o=t,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ou(e){try{return t.app(e).auth().Ga()}catch(n){return[]}}function au(e,t,n,r,i,o){this.o=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function su(e){var t=sr();return function(e){return Ys(e,xs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Fn(t),r=n.f;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Fn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:fr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new qo(sr())}))}function uu(e){return e.v||(e.v=pr().then((function(){if(!e.u){var t=e.c,n=e.i,r=ou(e.b),i=new ru(e.o,e.g,e.b,e.f);i.f=t,i.b=n,i.c=$(r||[]),e.u=i.toString()}e.m=new Js(e.u),function(e){if(!e.m)throw Error("IfcHandler must be initialized!");!function(e,t){e.qb.then((function(){e.a.register("authEvent",t,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.m,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Fo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",It(n)}return n.status="ERROR",It(n)}))}(e)}))),e.v}function lu(e){return e.l||(e.A=e.c?kr(e.c,ou(e.b)):null,e.l=new Ha(e.g,x(e.i),e.A),e.f&&$a(e.l,e.f)),e.l}function cu(e,t,n,r,i,o,a,s,u,l,c,h){return(e=new iu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=pe(u||null),e.f=l,e.xb(c).toString()}function hu(e){if(this.a=e||t.INTERNAL.reactNative&&t.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fu(e){this.b=e,this.a={},this.f=w(this.c,this)}ru.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},iu.prototype.xb=function(e){return this.h=e,this},iu.prototype.toString=function(){if(this.m){var e=Fn(this.m.url);e=jn(e.f,e.a,e.g,"/emulator/auth/handler")}else e=jn("https",this.u,null,"/__/auth/handler");if(Mn(e,"apiKey",this.o),Mn(e,"appName",this.c),Mn(e,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=t.app(this.c).auth().ka()}catch(u){r=null}for(var i in n.nb=r,Mn(e,"providerId",this.a.providerId),n=Pr((r=this.a).Hb))n[i]=n[i].toString();i=r.Pc,n=pe(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),de(n)||Mn(e,"customParameters",xr(n))}if("function"==typeof this.a.Pb&&(r=this.a.Pb()).length&&Mn(e,"scopes",r.join(",")),this.l?Mn(e,"redirectUrl",this.l):Xn(e.b,"redirectUrl"),this.g?Mn(e,"eventId",this.g):Xn(e.b,"eventId"),this.i?Mn(e,"v",this.i):Xn(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ln(e,s)&&Mn(e,s,this.b[s]);return this.h?Mn(e,"tid",this.h):Xn(e.b,"tid"),this.f?Mn(e,"eid",this.f):Xn(e.b,"eid"),(s=ou(this.c)).length&&Mn(e,"fw",s.join(",")),e.toString()},(e=au.prototype).Nb=function(e,t,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){(function(e){var t={type:"webStorageSupport"};return uu(e).then((function(){return function(e,t){return e.qb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,Sr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.m,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&cr(e),t(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(e){return new _t((function(t){return function n(){En(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return En(n).then((function(){t(r)}))}))},e.Wb=function(){var e=Er();return!Or(e)&&!Mr(e)},e.Sb=function(){return!1},e.Lb=function(e,t,n,r,i,o,a,s){if(!e)return Tt(new S("popup-blocked"));if(a&&!Or())return this.la().s((function(t){cr(e),i(t)})),r(),It();this.a||(this.a=su(lu(this)));var u=this;return this.a.then((function(){var t=u.la().s((function(t){throw cr(e),i(t),t}));return r(),t})).then((function(){Mo(n),a||ur(cu(u.o,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Mb=function(e,t,n,r){this.a||(this.a=su(lu(this)));var i=this;return this.a.then((function(){Mo(t),ur(cu(i.o,i.g,i.b,e,t,sr(),n,i.c,void 0,i.i,r,i.f))})).s((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.la=function(){var e=this;return uu(this).then((function(){return e.m.qb})).s((function(){throw e.a=null,new S("network-request-failed")}))},e.Zb=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ra=function(e){Y(this.h,(function(t){return t==e}))},(e=hu.prototype).get=function(e){return It(this.a.getItem(e)).then((function(e){return e&&Rr(e)}))},e.set=function(e,t){return It(this.a.setItem(e,xr(t)))},e.T=function(e){return It(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var du,pu=[];function vu(e,t,n){de(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function gu(e){this.a=e}function yu(e){this.c=e,this.b=!1,this.a=[]}function mu(e,t,n,r){var i,o,a,s,u=n||{},l=null;if(e.b)return Tt(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),e.a.push(l={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return _u(e,l),t})).s((function(t){throw _u(e,l),t}))}function _u(e,t){if(t){var n=t.messageChannel;n&&(n.port1.removeEventListener("message",t.onMessage),n.port1.close()),Y(e.a,(function(e){return e==t}))}}function bu(){if(!Cu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;yr()&&self?(this.l=function(){var e=yr()?self:null;if(H(pu,(function(n){n.b==e&&(t=n)})),!t){var t=new fu(e);pu.push(t)}return t}(),vu(this.l,"keyChanged",(function(t,n){return Tu(e).then((function(t){return 0<t.length&&H(e.a,(function(e){e(t)})),{keyProcessed:K(t,n.key)}}))})),vu(this.l,"ping",(function(){return It(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?It().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):It(null)}().then((function(t){(e.h=t)&&(e.g=new yu(new gu(t)),mu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&K(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function wu(e){return e.v||(e.v=function e(t){return new _t((function(n,r){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(t){}r(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(e){return new _t((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(t).then((function(){return e(t)})).then((function(e){n(e)})).s((function(e){r(e)}))}}))}(e)),e.v}function Cu(){try{return!!u.indexedDB}catch(We){return!1}}function ku(e){return e.objectStore("firebaseLocalStorage")}function Eu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Su(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Iu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?mu(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):It()}function Tu(e){return wu(e).then((function(e){var t=ku(Eu(e,!1));return t.getAll?Su(t.getAll()):new _t((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function Au(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Nu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=It().then((function(){if(Cu()){var e=Dr(),r="__sak"+e;return du||(du=new bu),(n=du).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){H(t.a,(function(t){t(e)}))})),e}))}function Ou(){this.a={},this.type="inMemory"}function xu(){if(!function(){var e="Node"==mr();if(!(e=Pu()||e&&t.INTERNAL.node&&t.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==mr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Pu()||t.INTERNAL.node.localStorage,this.type="localStorage"}function Pu(){try{var e=u.localStorage,t=Dr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Ru(){this.type="nullStorage"}function Du(){if(!function(){var e="Node"==mr();if(!(e=Mu()||e&&t.INTERNAL.node&&t.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==mr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Mu()||t.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Mu(){try{var e=u.sessionStorage,t=Dr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Lu(){var e={};e.Browser=Uu,e.Node=Vu,e.ReactNative=qu,e.Worker=Bu,this.a=e[mr()]}fu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];H(r,(function(t){i.push(It().then((function(){return t(e.origin,e.data.data)})))})),Nt(i).then((function(r){var i=[];H(r,(function(e){i.push({fulfilled:e.Ob,value:e.value,reason:e.reason?e.reason.message:void 0})})),H(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},gu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},yu.prototype.close=function(){for(;0<this.a.length;)_u(this,this.a[0]);this.b=!0},(e=bu.prototype).set=function(e,t){var n,r=!1,i=this;return wu(this).then((function(t){return Su((t=ku(Eu(n=t,!0))).get(e))})).then((function(o){var a=ku(Eu(n,!0));return o?(o.value=t,Su(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,Su(a.add(o)))})).then((function(){return i.c[e]=t,Iu(i,e)})).na((function(){r&&i.b--}))},e.get=function(e){return wu(this).then((function(t){return Su(ku(Eu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.T=function(e){var t=!1,n=this;return wu(this).then((function(r){return t=!0,n.b++,Su(ku(Eu(r,!0)).delete(e))})).then((function(){return delete n.c[e],Iu(n,e)})).na((function(){t&&n.b--}))},e.ca=function(e){0==this.a.length&&function(e){Au(e),function t(){e.f=setTimeout((function(){e.i=Tu(e).then((function(t){0<t.length&&H(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e})),0==this.a.length&&Au(this)},(e=Nu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.T=function(e){return this.b.then((function(t){return t.T(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e}))},(e=Ou.prototype).get=function(e){return It(this.a[e])},e.set=function(e,t){return this.a[e]=t,It()},e.T=function(e){return delete this.a[e],It()},e.ca=function(){},e.ia=function(){},(e=xu.prototype).get=function(e){var t=this;return It().then((function(){return Rr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return It().then((function(){var r=xr(t);null===r?n.T(e):n.a.setItem(e,r)}))},e.T=function(e){var t=this;return It().then((function(){t.a.removeItem(e)}))},e.ca=function(e){u.window&&sn(u.window,"storage",e)},e.ia=function(e){u.window&&cn(u.window,"storage",e)},(e=Ru.prototype).get=function(){return It(null)},e.set=function(){return It()},e.T=function(){return It()},e.ca=function(){},e.ia=function(){},(e=Du.prototype).get=function(e){var t=this;return It().then((function(){return Rr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return It().then((function(){var r=xr(t);null===r?n.T(e):n.a.setItem(e,r)}))},e.T=function(e){var t=this;return It().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Fu,ju,Uu={D:xu,ab:Du},Vu={D:xu,ab:Du},qu={D:hu,ab:Ru},Bu={D:xu,ab:Ru},Hu={qd:"local",NONE:"none",sd:"session"};function zu(){var e=!(Mr(Er())||!gr()),t=Or(),n=Ir();this.v=e,this.h=t,this.l=n,this.a={},Fu||(Fu=new Lu),e=Fu;try{this.g=!ar()&&qr()||!u.indexedDB?new e.a.D:new Nu(yr()?new Ou:new e.a.D)}catch(r){this.g=new Ou,this.h=!0}try{this.i=new e.a.ab}catch(r){this.i=new Ou}this.m=new Ou,this.f=w(this.Xb,this),this.b={}}function Wu(){return ju||(ju=new zu),ju}function Gu(e,t){switch(t){case"session":return e.i;case"none":return e.m;default:return e.g}}function Ku(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Qu(e,t,n){return n=Ku(t,n),"local"==t.D&&(e.b[n]=null),Gu(e,t.D).T(n)}function Yu(e){e.c&&(clearInterval(e.c),e.c=null)}function Xu(e){this.a=e,this.b=Wu()}(e=zu.prototype).get=function(e,t){return Gu(this,e.D).get(Ku(e,t))},e.set=function(e,t,n){var r=Ku(e,n),i=this,o=Gu(this,e.D);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.D&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=Ku(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),de(this.a)&&(Gu(this,"local").ca(this.f),this.h||(ar()||!qr())&&u.indexedDB||!this.l||function(e){Yu(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Yt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Xb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Ku(e,t),this.a[e]&&(Y(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),de(this.a)&&(Gu(this,"local").ia(this.f),Yu(this))},e.Xb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Gu(this,"local").ia(this.f):Yu(this),this.v)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.lb(t))},Ke&&nt&&10==nt&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else H(e,w(this.lb,this))},e.lb=function(e){this.a[e]&&H(this.a[e],(function(e){e()}))};var $u,Ju={name:"authEvent",D:"local"};function Zu(){this.a=Wu()}function el(e,t){this.b=tl,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===$u&&($u=u.Int32Array?new Int32Array(ul):ul),this.reset()}E(el,(function(){this.b=-1}));for(var tl=64,nl=tl-1,rl=[],il=0;il<nl;il++)rl[il]=0;var ol=X(128,rl);function al(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){var o=(0|n[t-16])+(((i=0|n[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+(((r=0|n[t-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|$u[t])|0)+(0|n[t])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function sl(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(al(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(al(e),i=0)}}e.c=i,e.g+=n}el.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):$(this.h)};var ul=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ll(){el.call(this,8,cl)}E(ll,el);var cl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function hl(e,t,n,r,i,o){this.m=e,this.i=t,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=t+":"+n,this.A=new Zu,this.g=new Xu(this.h),this.f=null,this.b=[],this.a=this.c=null}function fl(e){return new S("invalid-cordova-configuration",e)}function dl(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function pl(e){return e.f||(e.f=e.la().then((function(){return new _t((function(t){e.Ea((function n(r){return t(r),e.Ra(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),vl(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=eo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Rr(Ln(o=Fn(i),"firebaseError")||null))?I(o):null)?new Lo(r.c,r.b,null,null,o,null,r.S()):new Lo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}dl(e,i)}))}var n=new Lo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=En(500).then((function(){return vl(e).then((function(){r||dl(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Sr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},Vo||(Vo=new jo),function(e){var t=Vo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Sr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function vl(e){var t=null;return function(e){return e.b.get(Ju,e.a).then((function(e){return Fo(e)}))}(e.g).then((function(n){return t=n,Qu((n=e.g).b,Ju,n.a)})).then((function(){return t}))}function gl(e){this.a=e,this.b=Wu()}(e=hl.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(vr(void 0)?pr().then((function(){return new _t((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Tt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Sr("universalLinks.subscribe",u))throw fl("cordova-universal-links-plugin-fix is not installed");if(void 0===Sr("BuildInfo.packageName",u))throw fl("cordova-plugin-buildinfo is not installed");if("function"!=typeof Sr("cordova.plugins.browsertab.openUrl",u))throw fl("cordova-plugin-browsertab is not installed");if("function"!=typeof Sr("cordova.InAppBrowser.open",u))throw fl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},e.Nb=function(e,t){return t(new S("operation-not-supported-in-this-environment")),It()},e.Lb=function(){return Tt(new S("operation-not-supported-in-this-environment"))},e.Zb=function(){return!1},e.Wb=function(){return!0},e.Sb=function(){return!0},e.Mb=function(e,t,n,r){if(this.c)return Tt(new S("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,l=null,c=null;return this.c=It().then((function(){return Mo(t),pl(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Lo(t,r,null,o,new S("no-auth-event"),null,i),s=Sr("BuildInfo.packageName",u);if("string"!=typeof s)throw new S("invalid-cordova-configuration");var l=Sr("BuildInfo.displayName",u),c={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!Er().toLowerCase().match(/android/))return Tt(new S("operation-not-supported-in-this-environment"));c.apn=s}l&&(c.appDisplayName=l),o=function(e){var t=new ll;sl(t,e),e=[];var n=8*t.g;sl(t,ol,56>t.c?56-t.c:t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(al(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return W(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),c.sessionId=o;var h=cu(e.m,e.i,e.l,t,n,null,r,e.v,c,e.u,i,e.o);return e.la().then((function(){var t=e.h;return e.A.a.set(Ju,a.w(),t)})).then((function(){var t=Sr("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof t)throw new S("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Sr("cordova.plugins.browsertab.openUrl",u)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Sr("cordova.InAppBrowser.open",u)))throw new S("invalid-cordova-configuration");t=Er(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new _t((function(e,t){s=function(){var t=Sr("cordova.plugins.browsertab.close",u);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){jr()&&l()},o.addEventListener("resume",l=function(){a||(a=En(2e3).then((function(){t(new S("redirect-cancelled-by-user"))})))},!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).s((function(e){return vl(i).then((function(){throw e}))}))})).na((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Ra(s),i.c=null}))},e.Ea=function(e){this.b.push(e),pl(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Lo("unknown",null,null,null,new S("no-auth-event")),e(t))}))},e.Ra=function(e){Y(this.b,(function(t){return t==e}))};var yl={name:"pendingRedirect",D:"session"};function ml(e){return Qu(e.b,yl,e.a)}function _l(e,t,n,r){this.i={},this.u=0,this.O=e,this.m=t,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=w(this.o,this),this.b=new Dl,this.A=new Ul,this.g=new gl(Pl(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=bl(this.O,this.m,this.v,T,this.G)}function bl(e,n,r,i,o){var a=t.SDK_VERSION||null;return vr()?new hl(e,n,r,a,i,o):new au(e,n,r,a,i,o)}function wl(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.la().s((function(n){throw e.a==t&&e.reset(),n}))}function Cl(e){e.a.Wb()&&wl(e).s((function(t){var n=new Lo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Al(t)&&e.o(n)})),e.a.Sb()||Ml(e.b)}function kl(e,t){K(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(yl,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?ml(e.g).then((function(){wl(e).s((function(t){var n=new Lo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Al(t)&&e.o(n)}))})):Cl(e)})).s((function(){Cl(e)}))}function El(e,t){Y(e.h,(function(e){return e==t}))}_l.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=bl(this.O,this.m,this.v,null,this.G),this.i={}},_l.prototype.o=function(e){if(!e)throw new S("invalid-auth-event");if(6e5<=k()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=k())),t=!0;break}}return Ml(this.b),t};var Sl=new Fr(2e3,1e4),Il=new Fr(3e4,6e4);function Tl(e,t,n,r,i,o,a){return e.a.Lb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Al(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Nl(e,t,n,r,i){var o;return function(e){return e.b.set(yl,"pending",e.a)}(e.g).then((function(){return e.a.Mb(t,n,r,i).s((function(t){if(Al(t))throw new S("operation-not-supported-in-this-environment");return o=t,ml(e.g).then((function(){throw o}))})).then((function(){return e.a.Zb()?new _t((function(){})):ml(e.g).then((function(){return e.qa()})).then((function(){})).s((function(){}))}))}))}function Ol(e,t,n,r,i){return e.a.Nb(r,(function(e){t.ma(n,null,e,i)}),Sl.get())}_l.prototype.qa=function(){return this.b.qa()};var xl={};function Pl(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Rl(e,t,n,r){var i=Pl(t,n,r);return xl[i]||(xl[i]=new _l(e,t,n,r)),xl[i]}function Dl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ml(e){e.g||(e.g=!0,jl(e,!1,null,null))}function Ll(e){e.g&&!e.i&&jl(e,!1,null,null)}function Fl(e,t){if(e.b=function(){return It(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function jl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Tt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Fl(e,n):Fl(e,{user:null}),e.f=[],e.c=[]}function Ul(){}function Vl(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(e){this.hb=e},enumerable:!1})}function ql(e,t){this.a=t,Gr(this,"verificationId",e)}function Bl(e,t,n,r){return new Po(e).eb(t,n).then((function(e){return new ql(e,r)}))}function Hl(e){var t=Vi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Kr(this,{token:e,expirationTime:Vr(1e3*t.exp),authTime:Vr(1e3*t.auth_time),issuedAtTime:Vr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function zl(e,t,n){var r=t&&t[Gl];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=pe(t),this.g=n,this.c=new to(null,r),this.b=[];var i=this;H(t[Wl]||[],(function(e){(e=$r(e))&&i.b.push(e)})),Gr(this,"auth",this.a),Gr(this,"session",this.c),Gr(this,"hints",this.b)}Dl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Dl.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(jl(this,!0,null,e.a),It()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.S(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){jl(e,s,t,null)})).s((function(t){jl(e,s,null,t)}))}(this,e,t):Tt(new S("invalid-auth-event")):(jl(this,!1,null,null),It())}else Tt(new S("invalid-auth-event"))},Dl.prototype.qa=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new S("timeout");e.a&&e.a.cancel(),e.a=En(Il.get()).then((function(){e.b||(e.g=!0,jl(e,!0,null,t))}))}(e))}))},Ul.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ma(e.c,null,e.a,e.b),It()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.S(),e.i).then((function(e){t.ma(r,e,null,n)})).s((function(e){t.ma(r,null,e,n)}))}(e,t):Tt(new S("invalid-auth-event"))}else Tt(new S("invalid-auth-event"))},ql.prototype.confirm=function(e){return e=Ro(this.verificationId,e),this.a(e)};var Wl="mfaInfo",Gl="mfaPendingCredential";function Kl(e,t,n,r){S.call(this,"multi-factor-auth-required",r,t),this.b=new zl(e,t,n),Gr(this,"resolver",this.b)}function Ql(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new Kl(t,e.serverResponse,n,e.message)}catch(r){}return null}function Yl(){}function Xl(e){Gr(this,"factorId",e.fa),this.a=e}function $l(e){if(Xl.call(this,e),this.a.fa!=Po.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Jl(e,t){for(var n in Qt.call(this,e),t)this[n]=t[n]}function Zl(e,t){this.a=e,this.b=[],this.c=w(this.xc,this),sn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&H(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ei]=e.uid),e.displayName&&(r[Jr]=e.displayName),e.enrollmentTime&&(r[Zr]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ti]=e.phoneNumber);try{t=new ni(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),ec(this,n)}function ec(e,t){e.b=t,Gr(e,"enrolledFactors",t)}function tc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function nc(e){this.c=e,this.b=this.a=null}function rc(e){return e.b&&1e3*e.b.c||0}function ic(e,t){var n=t.refreshToken;e.b=Ui(t[Wa]||""),e.a=n}function oc(e,t){this.a=e||null,this.b=t||null,Kr(this,{lastSignInTime:Vr(t||null),creationTime:Vr(e||null)})}function ac(e,t,n,r,i,o){Kr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function sc(e,n,r){this.G=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null;var i=t.SDK_VERSION?kr(t.SDK_VERSION):null;this.a=new Ha(this.l,x(T),i),e.emulatorConfig&&$a(this.a,e.emulatorConfig),this.b=new nc(this.a),vc(this,n[Wa]),ic(this.b,n),Gr(this,"refreshToken",this.b.a),mc(this,r||{}),_n.call(this),this.P=!1,this.o&&Tr()&&(this.i=Rl(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(e){return new tc((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=rc(e.b)-k()-3e5;return 0<t?t:0}))}(this),this.$=w(this.gb,this);var o=this;this.pa=null,this.Ba=function(e){o.wa(e.h)},this.ba=null,this.za=function(e){$a(o.a,e.c)},this.W=null,this.X=[],this.Aa=function(e){cc(o,e.f)},this.aa=null,this.N=new Zl(this,r),Gr(this,"multiFactor",this.N)}function uc(e,t){e.ba&&cn(e.ba,"languageCodeChanged",e.Ba),(e.ba=t)&&sn(t,"languageCodeChanged",e.Ba)}function lc(e,t){e.W&&cn(e.W,"emulatorConfigChanged",e.za),(e.W=t)&&sn(t,"emulatorConfigChanged",e.za)}function cc(e,n){e.X=n,Za(e.a,t.SDK_VERSION?kr(t.SDK_VERSION,e.X):null)}function hc(e,t){e.aa&&cn(e.aa,"frameworkChanged",e.Aa),(e.aa=t)&&sn(t,"frameworkChanged",e.Aa)}function fc(e){try{return t.app(e.m).auth()}catch(n){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function dc(e){e.A||e.u.b||(e.u.start(),cn(e,"tokenChanged",e.$),sn(e,"tokenChanged",e.$))}function pc(e){cn(e,"tokenChanged",e.$),e.u.stop()}function vc(e,t){e.ya=t,Gr(e,"_lat",t)}function gc(e){for(var t=[],n=0;n<e.R.length;n++)t.push(e.R[n](e));return Nt(t).then((function(){return e}))}function yc(e){e.i&&!e.P&&(e.P=!0,kl(e.i,e))}function mc(e,t){Kr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new oc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function _c(){}function bc(e){return It().then((function(){if(e.A)throw new S("app-deleted")}))}function wc(e){return W(e.providerData,(function(e){return e.providerId}))}function Cc(e,t){t&&(kc(e,t.providerId),e.providerData.push(t))}function kc(e,t){Y(e.providerData,(function(e){return e.providerId==t}))}function Ec(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Gr(e,t,n)}function Sc(e,t){e!=t&&(Kr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),Gr(e,"metadata",t.metadata?function(e){return new oc(e.a,e.b)}(t.metadata):new oc),H(t.providerData,(function(t){Cc(e,t)})),function(e,t){e.b=t.b,e.a=t.a}(e.b,t.b),Gr(e,"refreshToken",e.b.a),ec(e.N,t.N.b))}function Ic(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return Ys(e.a,Is,{idToken:t}).then(w(e.Jc,e))}(e,t).then((function(){return n||Ec(e,"isAnonymous",!1),t}))}))}function Tc(e,t){t[Wa]&&e.ya!=t[Wa]&&(ic(e.b,t),e.dispatchEvent(new Jl("tokenChanged")),vc(e,t[Wa]),Ec(e,"refreshToken",e.b.a))}function Ac(e,t){return Ic(e).then((function(){if(K(wc(e),t))return gc(e).then((function(){throw new S("provider-already-linked")}))}))}function Nc(e,t,n){return Qr({user:e,credential:Do(t),additionalUserInfo:t=Wi(t),operationType:n})}function Oc(e,t){return Tc(e,t),e.reload().then((function(){return e}))}function xc(e,n,r,i,o){if(!Tr())return Tt(new S("operation-not-supported-in-this-environment"));if(e.f&&!o)return Tt(e.f);var a=zi(r.providerId),s=Dr(e.uid+":::"),u=null;(!Or()||gr())&&e.o&&r.isOAuthProvider&&(u=cu(e.o,e.l,e.m,n,r,null,s,t.SDK_VERSION||null,null,null,e.tenantId));var l=hr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Rc(e),!o)return e.I().then((function(){}))})).then((function(){return Tl(e.i,l,n,r,s,!!u,e.tenantId)})).then((function(){return new _t((function(t,r){e.ma(n,null,new S("cancelled-popup-request"),e.h||null),e.g=t,e.O=r,e.h=s,e.c=Ol(e.i,e,n,l,s)}))})).then((function(e){return l&&cr(l),e?Qr(e):null})).s((function(e){throw l&&cr(l),e})),Dc(e,i,o)}function Pc(e,t,n,r,i){if(!Tr())return Tt(new S("operation-not-supported-in-this-environment"));if(e.f&&!i)return Tt(e.f);var o=null,a=Dr(e.uid+":::");return r=r().then((function(){if(Rc(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,gc(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Fc,e.w(),t.a)),t})).then((function(){return Nl(e.i,t,n,a,e.tenantId)})).s((function(t){if(o=t,e.ha)return jc(e.ha);throw o})).then((function(){if(o)throw o})),Dc(e,r,i)}function Rc(e){if(!e.i||!e.P){if(e.i&&!e.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Dc(e,t,n){var r=function(e,t,n){return e.f&&!n?(t.cancel(),Tt(e.f)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.f||e.dispatchEvent(new Jl("userInvalidated")),e.f=t),t}))}(e,t,n);return e.G.push(r),r.na((function(){Q(e.G,r)})),r.s((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=Ql(t.w(),fc(e),w(e.ic,e))),n||t}))}function Mc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Wa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=new sc(t,n,e);return e.providerData&&H(e.providerData,(function(e){e&&Cc(r,Qr(e))})),e.redirectEventId&&(r.ga=e.redirectEventId),r}function Lc(e){this.a=e,this.b=Wu()}zl.prototype.Qc=function(e){var t=this;return e.rb(this.a.a,this.c).then((function(e){var n=pe(t.f);return delete n[Wl],delete n[Gl],ge(n,e),t.g(n)}))},E(Kl,S),Yl.prototype.rb=function(e,t,n){return t.type==no?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ge(n,{phoneVerificationInfo:xo(e.a)}),Ys(t,Es,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ge(n={mfaPendingCredential:n},{phoneVerificationInfo:xo(e.a)}),Ys(t,Ss,n)}))}(this,e,t)},E(Xl,Yl),E($l,Xl),E(Jl,Qt),(e=Zl.prototype).xc=function(e){ec(this,function(e){var t=[];return H(e.mfaInfo||[],(function(e){(e=$r(e))&&t.push(e)})),t}(e.gd))},e.Qb=function(){return this.a.I().then((function(e){return new to(e,null)}))},e.ec=function(e,t){var n=this,r=this.a.a;return this.Qb().then((function(n){return e.rb(r,n,t)})).then((function(e){return Tc(n.a,e),n.a.reload()}))},e.ad=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return Ys(r,Qs,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=z(t.b,(function(e){return e.uid!=n}));return ec(t,r),Tc(t.a,e),t.a.reload().s((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(e){return e.w()}))}}},tc.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=En(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=u.document,t=null;return jr()||!e?It():new _t((function(n){t=function(){jr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},tc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},nc.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:rc(this)}},nc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Tt(new S("user-token-expired")):e||!this.b||k()>rc(this)-3e4?this.a?function(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?es(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r($s(e)):e.access_token&&e.refresh_token?n(e):r(new S("internal-error")):r(new S("network-request-failed"))}),"POST",Yn(t).toString(),e.g,e.v.get()):r(new S("internal-error"))}))}(e.c,t).then((function(t){return e.b=Ui(t.access_token),e.a=t.refresh_token,{accessToken:e.b.toString(),refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):It(null):It({accessToken:this.b.toString(),refreshToken:this.a})},oc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(sc,_n),sc.prototype.wa=function(e){this.pa=e,Xa(this.a,e)},sc.prototype.ka=function(){return this.pa},sc.prototype.Ga=function(){return $(this.X)},sc.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Gr(sc.prototype,"providerId","firebase"),(e=sc.prototype).reload=function(){var e=this;return Dc(this,bc(this).then((function(){return Ic(e).then((function(){return gc(e)})).then(_c)})))},e.nc=function(e){return this.I(e).then((function(e){return new Hl(e)}))},e.I=function(e){var t=this;return Dc(this,bc(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new S("internal-error");return e.accessToken!=t.ya&&(vc(t,e.accessToken),t.dispatchEvent(new Jl("tokenChanged"))),Ec(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Jc=function(e){if(!(e=e.users)||!e.length)throw new S("internal-error");mc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?W(e,(function(e){return new ac(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Cc(this,t[n]);Ec(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Jl("userReloaded",{gd:e}))},e.Kc=function(e){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(e)},e.sb=function(e){var t=this,n=null;return Dc(this,e.c(this.a,this.uid).then((function(e){return Tc(t,e),n=Nc(t,e,"reauthenticate"),t.f=null,t.reload()})).then((function(){return n})),!0)},e.Bc=function(e){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(e)},e.pb=function(e){var t=this,n=null;return Dc(this,Ac(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Nc(t,e,"link"),Oc(t,e)})).then((function(){return n})))},e.Cc=function(e,t){var n=this;return Dc(this,Ac(this,"phone").then((function(){return Bl(fc(n),e,t,w(n.pb,n))})))},e.Lc=function(e,t){var n=this;return Dc(this,It().then((function(){return Bl(fc(n),e,t,w(n.sb,n))})),!0)},e.Ab=function(e){var t=this;return Dc(this,this.I().then((function(n){return t.a.Ab(n,e)})).then((function(e){return Tc(t,e),t.reload()})))},e.dd=function(e){var t=this;return Dc(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Tc(t,e),t.reload()})))},e.Bb=function(e){var t=this;return Dc(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return Tc(t,e),t.reload()})))},e.Cb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return bc(this);var t=this;return Dc(this,this.I().then((function(n){return t.a.Cb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Tc(t,e),Ec(t,"displayName",e.displayName||null),Ec(t,"photoURL",e.photoUrl||null),H(t.providerData,(function(e){"password"===e.providerId&&(Gr(e,"displayName",t.displayName),Gr(e,"photoURL",t.photoURL))})),gc(t)})).then(_c))},e.bd=function(e){var t=this;return Dc(this,Ic(this).then((function(n){return K(wc(t),e)?function(e,t,n){return Ys(e,ws,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return H(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),H(wc(t),(function(e){n[e]||kc(t,e)})),n[Po.PROVIDER_ID]||Gr(t,"phoneNumber",null),gc(t)})):gc(t).then((function(){throw new S("no-such-provider")}))})))},e.delete=function(){var e=this;return Dc(this,this.I().then((function(t){return Ys(e.a,bs,{idToken:t})})).then((function(){e.dispatchEvent(new Jl("userDeleted"))}))).then((function(){for(var t=0;t<e.G.length;t++)e.G[t].cancel("app-deleted");uc(e,null),lc(e,null),hc(e,null),e.G=[],e.A=!0,pc(e),Gr(e,"refreshToken",null),e.i&&El(e.i,e)}))},e.Eb=function(e,t){return!!("linkViaPopup"==e&&(this.h||null)==t&&this.g||"reauthViaPopup"==e&&(this.h||null)==t&&this.g||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.ma=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.h||null)||(n&&this.O?this.O(n):t&&!n&&this.g&&this.g(t),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.h||null)?w(this.Jb,this):"reauthViaPopup"==e&&t==(this.h||null)?w(this.Kb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Jb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Kb,this):null},e.Dc=function(e){var t=this;return xc(this,"linkViaPopup",e,(function(){return Ac(t,e.providerId).then((function(){return gc(t)}))}),!1)},e.Mc=function(e){return xc(this,"reauthViaPopup",e,(function(){return It()}),!0)},e.Ec=function(e){var t=this;return Pc(this,"linkViaRedirect",e,(function(){return Ac(t,e.providerId)}),!1)},e.Nc=function(e){return Pc(this,"reauthViaRedirect",e,(function(){return It()}),!0)},e.Jb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dc(this,this.I().then((function(n){return ds(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Nc(i,e,"link"),Oc(i,e)})).then((function(){return o})))},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Dc(this,It().then((function(){return oo(ps(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Nc(i,e,"reauthenticate"),Tc(i,e),i.f=null,i.reload()})).then((function(){return o})),!0)},e.tb=function(e){var t=this,n=null;return Dc(this,this.I().then((function(t){return n=t,void 0===e||de(e)?{}:Li(new Ii(e))})).then((function(e){return t.a.tb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Db=function(e,t){var n=this,r=null;return Dc(this,this.I().then((function(e){return r=e,void 0===t||de(t)?{}:Li(new Ii(t))})).then((function(t){return n.a.Db(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.ic=function(e){var t=null,n=this;return Dc(this,e=oo(It(e),n.uid).then((function(e){return t=Nc(n,e,"reauthenticate"),Tc(n,e),n.f=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ge(e,this.metadata.w()),H(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ge(e,this.N.w()),e};var Fc={name:"redirectUser",D:"session"};function jc(e){return Qu(e.b,Fc,e.a)}function Uc(e){this.a=e,this.b=Wu(),this.c=null,this.f=function(e){var t=Bc("local"),n=Bc("session"),r=Bc("none");return function(e,t,n){var r=Ku(t,n),i=Gu(e,t.D);return e.get(t,n).then((function(o){var a=null;try{a=Rr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(qc,e.a).then((function(e){return e?Bc(e):t}))}))}))})).then((function(t){return e.c=t,Vc(e,t.D)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(Bc("local"),this.a,w(this.g,this))}function Vc(e,t){var n,r=[];for(n in Hu)Hu[n]!==t&&r.push(Qu(e.b,Bc(Hu[n]),e.a));return r.push(Qu(e.b,qc,e.a)),function(e){return new _t((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)At(e[s],C(o,s),a);else t(i)}))}(r)}Uc.prototype.g=function(){var e=this,t=Bc("local");Gc(this,(function(){return It().then((function(){return e.c&&"local"!=e.c.D?e.b.get(t,e.a):null})).then((function(n){if(n)return Vc(e,"local").then((function(){e.c=t}))}))}))};var qc={name:"persistence",D:"session"};function Bc(e){return{name:"authUser",D:e}}function Hc(e,t){return Gc(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function zc(e){return Gc(e,(function(){return Qu(e.b,e.c,e.a)}))}function Wc(e,t,n){return Gc(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Mc(e||{})}))}))}function Gc(e,t){return e.f=e.f.then(t,t),e.f}function Kc(e){if(this.m=!1,Gr(this,"settings",new Vl),Gr(this,"app",e),!th(this).options||!th(this).options.apiKey)throw new S("invalid-api-key");e=t.SDK_VERSION?kr(t.SDK_VERSION):null,this.a=new Ha(th(this).options&&th(this).options.apiKey,x(T),e),this.R=[],this.u=[],this.P=[],this.ac=t.INTERNAL.createSubscribe(w(this.yc,this)),this.X=void 0,this.bc=t.INTERNAL.createSubscribe(w(this.zc,this)),Zc(this,null),this.l=new Uc(th(this).options.apiKey+":"+th(this).name),this.G=new Lc(th(this).options.apiKey+":"+th(this).name),this.$=oh(this,function(e){var t=th(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Fc,e.a).then((function(e){return e&&t&&(e.authDomain=t),Mc(e||{})}))}(e.G,th(e).options.authDomain).then((function(t){return(e.o=t)&&(t.ha=e.G),jc(e.G)}));return oh(e,t)}(e).then((function(){return Wc(e.l,t,e.f)})).then((function(t){return t?(t.ha=e.G,e.o&&(e.o.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Hc(e.l,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:zc(e.l)}))):null})).then((function(t){Zc(e,t||null)}));return oh(e,n)}(this)),this.i=oh(this,function(e){return e.$.then((function(){return Jc(e)})).s((function(){})).then((function(){if(!e.m)return e.pa()})).s((function(){})).then((function(){if(!e.m){e.ba=!0;var t=e.l;t.b.addListener(Bc("local"),t.a,e.pa)}}))}(this)),this.ba=!1,this.pa=w(this.Yc,this),this.Ba=w(this.da,this),this.ya=w(this.kc,this),this.za=w(this.vc,this),this.Aa=w(this.wc,this),this.b=null,function(e){var t=th(e).options.authDomain,n=th(e).options.apiKey;t&&Tr()&&(e.gb=e.$.then((function(){if(!e.m){if(e.b=Rl(t,n,th(e).name,e.f),kl(e.b,e),nh(e)&&yc(nh(e)),e.o){yc(e.o);var r=e.o;r.wa(e.ka()),uc(r,e),cc(r=e.o,e.N),hc(r,e),$a((r=e.o).a,e.f),lc(r,e),e.o=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Fc,this),this.A=0,_n.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ka()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.S()},set:function(e){this.xb(e)},enumerable:!1}),e.W=null}(this),this.N=[],this.f=null}function Qc(e){Qt.call(this,"languageCodeChanged"),this.h=e}function Yc(e){Qt.call(this,"emulatorConfigChanged"),this.c=e}function Xc(e){Qt.call(this,"frameworkChanged"),this.f=e}function $c(e){return e.gb||Tt(new S("auth-domain-config-required"))}function Jc(e){if(!Tr())return Tt(new S("operation-not-supported-in-this-environment"));var t=$c(e).then((function(){return e.b.qa()})).then((function(e){return e?Qr(e):null}));return oh(e,t)}function Zc(e,t){nh(e)&&(function(e,t){Y(e.R,(function(e){return e==t}))}(nh(e),e.Ba),cn(nh(e),"tokenChanged",e.ya),cn(nh(e),"userDeleted",e.za),cn(nh(e),"userInvalidated",e.Aa),pc(nh(e))),t&&(t.R.push(e.Ba),sn(t,"tokenChanged",e.ya),sn(t,"userDeleted",e.za),sn(t,"userInvalidated",e.Aa),0<e.A&&dc(t)),Gr(e,"currentUser",t),t&&(t.wa(e.ka()),uc(t,e),cc(t,e.N),hc(t,e),$a(t.a,e.f),lc(t,e))}function eh(e,t){var n=null,r=null;return oh(e,t.then((function(t){return n=Do(t),r=Wi(t),function(e,t){var n={};return n.apiKey=th(e).options.apiKey,n.authDomain=th(e).options.authDomain,n.appName=th(e).name,e.f&&(n.emulatorConfig=e.f),e.$.then((function(){return function(e,t,n,r){var i=new sc(e,t);return n&&(i.ha=n),r&&cc(i,r),i.reload().then((function(){return i}))}(n,t,e.G,e.Ga())})).then((function(t){return nh(e)&&t.uid==nh(e).uid?(Sc(nh(e),t),e.da(t)):(Zc(e,t),yc(t),e.da(t))})).then((function(){ih(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=Ql(t.w(),e,w(e.jc,e))),n||t})).then((function(){return Qr({user:nh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function th(e){return e.app}function nh(e){return e.currentUser}function rh(e){return nh(e)&&nh(e)._lat||null}function ih(e){if(e.ba){for(var t=0;t<e.u.length;t++)e.u[t]&&e.u[t](rh(e));if(e.X!==e.getUid()&&e.P.length)for(e.X=e.getUid(),t=0;t<e.P.length;t++)e.P[t]&&e.P[t](rh(e))}}function oh(e,t){return e.R.push(t),t.na((function(){Q(e.R,t)})),t}function ah(){}function sh(){this.a={},this.b=1e12}Uc.prototype.wb=function(e){var t=null,n=this;return function(e){var t=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");e:{for(r in Hu)if(Hu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(mr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Cu()&&"none"!==e)throw n;break;default:if(!Ir()&&"none"!==e)throw n}}(e),Gc(this,(function(){return e!=n.c.D?n.b.get(n.c,n.a).then((function(r){return t=r,Vc(n,e)})).then((function(){if(n.c=Bc(e),t)return n.b.set(n.c,t,n.a)})):It()}))},E(Kc,_n),E(Qc,Qt),E(Yc,Qt),E(Xc,Qt),(e=Kc.prototype).wb=function(e){return oh(this,e=this.l.wb(e))},e.wa=function(e){this.aa===e||this.m||(this.aa=e,Xa(this.a,this.aa),this.dispatchEvent(new Qc(this.ka())))},e.ka=function(){return this.aa},e.ed=function(){var e=u.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.fd=function(e){if(!this.f){if(!/^https?:\/\//.test(e))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Ur("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&pr().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)})),this.f={url:e},this.settings.hb=!0,$a(this.a,this.f),this.dispatchEvent(new Yc(this.f))}},e.Fc=function(e){this.N.push(e),Za(this.a,t.SDK_VERSION?kr(t.SDK_VERSION,this.N):null),this.dispatchEvent(new Xc(this.N))},e.Ga=function(){return $(this.N)},e.xb=function(e){this.W===e||this.m||(this.W=e,this.a.b=this.W)},e.S=function(){return this.W},e.toJSON=function(){return{apiKey:th(this).options.apiKey,authDomain:th(this).options.authDomain,appName:th(this).name,currentUser:nh(this)&&nh(this).w()}},e.Eb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==t&&!!this.g;default:return!1}},e.ma=function(e,t,n,r){"signInViaPopup"==e&&this.h==r&&(n&&this.O?this.O(n):t&&!n&&this.g&&this.g(t),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.h==t&&this.g?w(this.hc,this):null},e.hc=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return eh(i,fs(i.a,o))}))},e.Wc=function(e){if(!Tr())return Tt(new S("operation-not-supported-in-this-environment"));var n=this,r=zi(e.providerId),i=Dr(),o=null;(!Or()||gr())&&th(this).options.authDomain&&e.isOAuthProvider&&(o=cu(th(this).options.authDomain,th(this).options.apiKey,th(this).name,"signInViaPopup",e,null,i,t.SDK_VERSION||null,null,null,this.S(),this.f));var a=hr(o,r&&r.ua,r&&r.ta);return oh(this,r=$c(this).then((function(t){return Tl(t,a,"signInViaPopup",e,i,!!o,n.S())})).then((function(){return new _t((function(e,t){n.ma("signInViaPopup",null,new S("cancelled-popup-request"),n.h),n.g=e,n.O=t,n.h=i,n.c=Ol(n.b,n,"signInViaPopup",a,i)}))})).then((function(e){return a&&cr(a),e?Qr(e):null})).s((function(e){throw a&&cr(a),e})))},e.Xc=function(e){if(!Tr())return Tt(new S("operation-not-supported-in-this-environment"));var t=this;return oh(this,$c(this).then((function(){return function(e){return Gc(e,(function(){return e.b.set(qc,e.c.D,e.a)}))}(t.l)})).then((function(){return Nl(t.b,"signInViaRedirect",e,void 0,t.S())})))},e.qa=function(){var e=this;return Jc(this).then((function(t){return e.b&&Ll(e.b.b),t})).s((function(t){throw e.b&&Ll(e.b.b),t}))},e.cd=function(e){if(!e)return Tt(new S("null-user"));if(this.W!=e.tenantId)return Tt(new S("tenant-id-mismatch"));var t=this,n={};n.apiKey=th(this).options.apiKey,n.authDomain=th(this).options.authDomain,n.appName=th(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[Wa]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new sc(t||{apiKey:e.l,authDomain:e.o,appName:e.m},o),n&&(t.ha=n),r&&cc(t,r),Sc(t,e),t}(e,n,t.G,t.Ga());return oh(this,this.i.then((function(){if(th(t).options.apiKey!=e.l)return r.reload()})).then((function(){return nh(t)&&e.uid==nh(t).uid?(Sc(nh(t),e),t.da(e)):(Zc(t,r),yc(r),t.da(r))})).then((function(){ih(t)})))},e.zb=function(){var e=this;return oh(this,this.i.then((function(){return e.b&&Ll(e.b.b),nh(e)?(Zc(e,null),zc(e.l).then((function(){ih(e)}))):It()})))},e.Yc=function(){var e=this;return Wc(this.l,th(this).options.authDomain).then((function(t){if(!e.m){var n;if(n=nh(e)&&t){n=nh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Sc(nh(e),t),nh(e).I();(nh(e)||t)&&(Zc(e,t),t&&(yc(t),t.ha=e.G),e.b&&kl(e.b,e),ih(e))}}))},e.da=function(e){return Hc(this.l,e)},e.kc=function(){ih(this),this.da(nh(this))},e.vc=function(){this.zb()},e.wc=function(){this.zb()},e.jc=function(e){var t=this;return this.i.then((function(){return eh(t,It(e))}))},e.yc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(nh(t))}))},e.zc=function(e){var t=this;!function(e,t){e.P.push(t),oh(e,e.i.then((function(){!e.m&&K(e.P,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(rh(e)))})))}(this,(function(){e.next(nh(t))}))},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(nh(r)):"function"==typeof e.next&&e.next(nh(r))})),this.ac(e,t,n)},e.Gc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof e?e(nh(r)):"function"==typeof e.next&&e.next(nh(r))})),this.bc(e,t,n)},e.mc=function(e){var t=this;return oh(this,this.i.then((function(){return nh(t)?nh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Sc=function(e){var t=this;return this.i.then((function(){return eh(t,Ys(t.a,Hs,{token:e}))})).then((function(e){var n=e.user;return Ec(n,"isAnonymous",!1),t.da(n),e}))},e.Tc=function(e,t){var n=this;return this.i.then((function(){return eh(n,Ys(n.a,zs,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.i.then((function(){return eh(n,Ys(n.a,ms,{email:e,password:t}))}))},e.Za=function(e){var t=this;return this.i.then((function(){return eh(t,e.ja(t.a))}))},e.Rc=function(e){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(e)},e.yb=function(){var e=this;return this.i.then((function(){var t=nh(e);if(t&&t.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return eh(e,e.a.yb()).then((function(t){var n=t.user;return Ec(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return nh(this)&&nh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.A++,0<this.A&&nh(this)&&dc(nh(this))},e.Oc=function(e){var t=this;H(this.u,(function(n){n==e&&t.A--})),0>this.A&&(this.A=0),0==this.A&&nh(this)&&pc(nh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.u.push(e),oh(this,this.i.then((function(){t.m||K(t.u,e)&&e(rh(t))})))},e.removeAuthTokenListener=function(e){Y(this.u,(function(t){return t==e}))},e.delete=function(){this.m=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.l&&(e=this.l).b.removeListener(Bc("local"),e.a,this.pa),this.b&&(El(this.b,this),Ll(this.b.b)),Promise.resolve()},e.gc=function(e){return oh(this,function(e,t){return Ys(e,_s,{identifier:t,continueUri:Ar()?sr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Ac=function(e){return!!Ao(e)},e.vb=function(e,t){var n=this;return oh(this,It().then((function(){var e=new Ii(t);if(!e.c)throw new S("argument-error",Ni+" must be true when sending sign in link to email");return Li(e)})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.hd=function(e){return this.Qa(e).then((function(e){return e.data.email}))},e.mb=function(e,t){return oh(this,this.a.mb(e,t).then((function(){})))},e.Qa=function(e){return oh(this,this.a.Qa(e).then((function(e){return new ri(e)})))},e.ib=function(e){return oh(this,this.a.ib(e).then((function(){})))},e.ub=function(e,t){var n=this;return oh(this,It().then((function(){return void 0===t||de(t)?{}:Li(new Ii(t))})).then((function(t){return n.a.ub(e,t)})).then((function(){})))},e.Vc=function(e,t){return oh(this,Bl(this,e,t,w(this.Za,this)))},e.Uc=function(e,t){var n=this;return oh(this,It().then((function(){var r=t||sr(),i=To(e,r);if(!(r=Ao(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new S("tenant-id-mismatch");return n.Za(i)})))},ah.prototype.render=function(){},ah.prototype.reset=function(){},ah.prototype.getResponse=function(){},ah.prototype.execute=function(){};var uh=null;function lh(e,t){return(t=ch(t))&&e.a[t]||null}function ch(e){return(e=void 0===e?1e12:e)?e.toString():null}function hh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=at(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function fh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function dh(){}function ph(){}sh.prototype.render=function(e,t){return this.a[this.b.toString()]=new hh(e,t),this.b++},sh.prototype.reset=function(e){var t=lh(this,e);e=ch(e),t&&e&&(t.delete(),delete this.a[e])},sh.prototype.getResponse=function(e){return(e=lh(this,e))?e.getResponse():null},sh.prototype.execute=function(e){(e=lh(this,e))&&e.execute()},hh.prototype.getResponse=function(){return fh(this),this.b},hh.prototype.execute=function(){fh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},hh.prototype.delete=function(){fh(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.i)},Gr(dh,"FACTOR_ID","phone"),ph.prototype.g=function(){return uh||(uh=new sh),It(uh)},ph.prototype.c=function(){};var vh=null;function gh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yh=new me(we,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),mh=new Fr(3e4,6e4);gh.prototype.g=function(e){var t=this;return new _t((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),mh.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete u[t.a]},It(La(Se(yh,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},gh.prototype.c=function(){this.b--};var _h=null;function bh(e,t,n,r,i,o,a){if(Gr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=t,this.g=null,a?(vh||(vh=new ph),a=vh):(_h||(_h=new gh),a=_h),this.v=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[kh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Eh],!u.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!at(t)||!this.i&&at(t).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ha(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var l=this.a[wh];this.a[wh]=function(e){if(Sh(s,e),"function"==typeof l)l(e);else if("string"==typeof l){var t=Sr(l,u);"function"==typeof t&&t(e)}};var c=this.a[Ch];this.a[Ch]=function(){if(Sh(s,null),"function"==typeof c)c();else if("string"==typeof c){var e=Sr(c,u);"function"==typeof e&&e()}}}var wh="callback",Ch="expired-callback",kh="sitekey",Eh="size";function Sh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Ih(e,t){return e.h.push(t),t.na((function(){Q(e.h,t)})),t}function Th(e){if(e.A)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ah(e,n,r){var i=!1;try{this.b=r||t.app()}catch(s){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=t.SDK_VERSION?kr(t.SDK_VERSION,a):null,bh.call(this,r,e,n,(function(){try{var e=o.b.auth().ka()}catch(t){e=null}return e}),a,x(T),i)}function Nh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].K(n[i])&&!o){if(t=t[i],0>i||i>=Oh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Oh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.J+".";break e}r=null}}if(r)throw new S("argument-error",e+" failed: "+r)}(e=bh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Ih(this,It().then((function(){if(Ar()&&!yr())return pr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.v.g(e.u())})).then((function(t){return e.g=t,Ys(e.o,Ps,{})})).then((function(t){e.a[kh]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},e.render=function(){Th(this);var e=this;return Ih(this,this.Ia().then((function(){if(null===e.c){var t=e.m;if(!e.i){var n=at(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ot&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Be(a.name),'"'),a.type){o.push(' type="',Be(a.type),'"');var s={};ge(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ft(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):st(o,a)),2<r.length&&ht(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Th(this);var e=this;return Ih(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){Y(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Th(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Th(this),this.A=!0,this.v.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=at(this.m);for(var t;t=e.firstChild;)e.removeChild(t)}},E(Ah,bh);var Oh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function xh(e,t){return{name:e||"",J:"a valid string",optional:!!t,K:function(e){return"string"==typeof e}}}function Ph(e,t){return{name:e||"",J:"a boolean",optional:!!t,K:function(e){return"boolean"==typeof e}}}function Rh(e,t){return{name:e||"",J:"a valid object",optional:!!t,K:v}}function Dh(e,t){return{name:e||"",J:"a function",optional:!!t,K:function(e){return"function"==typeof e}}}function Mh(e,t){return{name:e||"",J:"null",optional:!!t,K:function(e){return null===e}}}function Lh(e){return{name:e?e+"Credential":"credential",J:e?"a valid "+e+" credential":"a valid credential",optional:!1,K:function(t){return!!t&&!(!t.ja||e&&t.providerId!==e)}}}function Fh(e,t){return v(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function jh(e){return v(e)&&"string"==typeof e.uid}function Uh(e,t,n,r){return{name:n||"",J:e.J+" or "+t.J,optional:!!r,K:function(n){return e.K(n)||t.K(n)}}}function Vh(e,t){for(var n in t){var r=t[n].name;e[r]=Hh(r,e[n],t[n].j)}}function qh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:C((function(e){return this[e]}),n),set:C((function(e,t,n,r){Nh(e,[n],[r],!0),this[t]=r}),r,n,t[n].jb),enumerable:!0})}}function Bh(e,t,n,r){e[t]=Hh(t,n,r)}function Hh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Nh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Vh(Kc.prototype,{ib:{name:"applyActionCode",j:[xh("code")]},Qa:{name:"checkActionCode",j:[xh("code")]},mb:{name:"confirmPasswordReset",j:[xh("code"),xh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[xh("email"),xh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[xh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[xh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[Uh(Rh(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[Uh(Rh(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[xh("email"),Uh(Rh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[xh("email"),Rh("actionCodeSettings")]},wb:{name:"setPersistence",j:[xh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Lh()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Lh()]},Sc:{name:"signInWithCustomToken",j:[xh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[xh("email"),xh("password")]},Uc:{name:"signInWithEmailLink",j:[xh("email"),xh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[xh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[Uh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(e){return!!(e&&e instanceof sc)}},Mh(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[xh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[xh("url")]},hd:{name:"verifyPasswordResetCode",j:[xh("code")]}}),qh(Kc.prototype,{lc:{name:"languageCode",jb:Uh(xh(),Mh(),"languageCode")},ti:{name:"tenantId",jb:Uh(xh(),Mh(),"tenantId")}}),(Kc.Persistence=Hu).LOCAL="local",Kc.Persistence.SESSION="session",Kc.Persistence.NONE="none",Vh(sc.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Ph("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ph("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Lh()]},pb:{name:"linkWithCredential",j:[Lh()]},Cc:{name:"linkWithPhoneNumber",j:[xh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Lh()]},sb:{name:"reauthenticateWithCredential",j:[Lh()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[xh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[Uh(Rh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[xh(null,!0)]},bd:{name:"unlink",j:[xh("provider")]},Ab:{name:"updateEmail",j:[xh("email")]},Bb:{name:"updatePassword",j:[xh("password")]},dd:{name:"updatePhoneNumber",j:[Lh("phone")]},Cb:{name:"updateProfile",j:[Rh("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[xh("email"),Uh(Rh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]}}),Vh(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vh(ah.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vh(_t.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),qh(Vl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Ph("appVerificationDisabledForTesting")}}),Vh(ql.prototype,{confirm:{name:"confirm",j:[xh("verificationCode")]}}),Bh(io,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[ho,So,Oo,uo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Uh(xh(),Rh(),"json")]),Bh(Io,"credential",(function(e,t){return new Eo(e,t)}),[xh("email"),xh("password")]),Vh(Eo.prototype,{w:{name:"toJSON",j:[xh(null,!0)]}}),Vh(go.prototype,{Ca:{name:"addScope",j:[xh("scope")]},Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Bh(go,"credential",yo,[Uh(xh(),Rh(),"token")]),Bh(Io,"credentialWithLink",To,[xh("email"),xh("emailLink")]),Vh(mo.prototype,{Ca:{name:"addScope",j:[xh("scope")]},Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Bh(mo,"credential",_o,[Uh(xh(),Rh(),"token")]),Vh(bo.prototype,{Ca:{name:"addScope",j:[xh("scope")]},Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Bh(bo,"credential",wo,[Uh(xh(),Uh(Rh(),Mh()),"idToken"),Uh(xh(),Mh(),"accessToken",!0)]),Vh(Co.prototype,{Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Bh(Co,"credential",ko,[Uh(xh(),Rh(),"token"),xh("secret",!0)]),Vh(vo.prototype,{Ca:{name:"addScope",j:[xh("scope")]},credential:{name:"credential",j:[Uh(xh(),Uh(Rh(),Mh()),"optionsOrIdToken"),Uh(xh(),Mh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Rh("customOAuthParameters")]}}),Vh(lo.prototype,{w:{name:"toJSON",j:[xh(null,!0)]}}),Vh(ao.prototype,{w:{name:"toJSON",j:[xh(null,!0)]}}),Bh(Po,"credential",Ro,[xh("verificationId"),xh("verificationCode")]),Vh(Po.prototype,{eb:{name:"verifyPhoneNumber",j:[Uh(xh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(e){return!!e&&(e.session&&e.phoneNumber?Fh(e.session,no)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Fh(e.session,ro)&&jh(e.multiFactorHint):e.session&&e.multiFactorUid?Fh(e.session,ro)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),Vh(No.prototype,{w:{name:"toJSON",j:[xh(null,!0)]}}),Vh(S.prototype,{toJSON:{name:"toJSON",j:[xh(null,!0)]}}),Vh(Bo.prototype,{toJSON:{name:"toJSON",j:[xh(null,!0)]}}),Vh(qo.prototype,{toJSON:{name:"toJSON",j:[xh(null,!0)]}}),Vh(Kl.prototype,{toJSON:{name:"toJSON",j:[xh(null,!0)]}}),Vh(zl.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.rb}}]}}),Vh(Zl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.rb}},xh("displayName",!0)]},ad:{name:"unenroll",j:[Uh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:jh},xh(),"multiFactorInfoIdentifier")]}}),Vh(Ah.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Bh(yi,"parseLink",Si,[xh("link")]),Bh(dh,"assertion",(function(e){return new $l(e)}),[Lh("phone")]),function(){if(void 0===t||!t.INTERNAL||!t.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Kc,AuthCredential:io,Error:S};Bh(e,"EmailAuthProvider",Io,[]),Bh(e,"FacebookAuthProvider",go,[]),Bh(e,"GithubAuthProvider",mo,[]),Bh(e,"GoogleAuthProvider",bo,[]),Bh(e,"TwitterAuthProvider",Co,[]),Bh(e,"OAuthProvider",vo,[xh("providerId")]),Bh(e,"SAMLAuthProvider",po,[xh("providerId")]),Bh(e,"PhoneAuthProvider",Po,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(e){return!!(e&&e instanceof Kc)}}]),Bh(e,"RecaptchaVerifier",Ah,[Uh(xh(),{name:"",J:"an HTML element",optional:!1,K:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Rh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(e){return!!(e&&e instanceof t.app.App)}}]),Bh(e,"ActionCodeURL",yi,[]),Bh(e,"PhoneMultiFactorGenerator",dh,[]),t.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new Kc(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),t.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.mc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Oc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.registerVersion("@firebase/auth","0.15.0"),t.INTERNAL.extendNamespace({User:sc})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},LmZi:function(e,t,n){"use strict";n.r(t),n.d(t,"registerStorage",(function(){return Me}));var r=n("wj3C"),i=n.n(r),o=n("mrSG"),a=n("S+S0"),s=function(){function e(e,t){this.code_=u(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return u(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),e}();function u(e){return"storage/"+e}function l(){return new s("unknown","An unknown error occurred, please check the error payload for server response.")}function c(){return new s("canceled","User canceled the upload/download.")}function h(){return new s("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function f(){return new s("no-download-url","The given file does not have any download URLs.")}function d(e,t,n){return new s("invalid-argument","Invalid argument in `"+t+"` at index "+e+": "+n)}function p(){return new s("app-deleted","The Firebase app was deleted.")}function v(e,t){return new s("invalid-format","String does not match format '"+e+"': "+t)}function g(e){throw new s("internal-error","Internal error: "+e)}var y={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function m(e){switch(e){case y.RAW:case y.BASE64:case y.BASE64URL:case y.DATA_URL:return;default:throw"Expected one of the event types: ["+y.RAW+", "+y.BASE64+", "+y.BASE64URL+", "+y.DATA_URL+"]."}}var _=function(e,t){this.data=e,this.contentType=t||null};function b(e,t){switch(e){case y.RAW:return new _(w(t));case y.BASE64:case y.BASE64URL:return new _(C(e,t));case y.DATA_URL:return new _((n=new k(t)).base64?C(y.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw v(y.DATA_URL,"Malformed data URL.")}return w(t)}(n.rest),new k(t).contentType)}var n;throw l()}function w(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var i=r,o=e.charCodeAt(++n);t.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function C(e,t){switch(e){case y.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw v(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case y.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw v(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(l){throw v(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var k=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw v(y.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},E={STATE_CHANGED:"state_changed"},S={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function I(e){switch(e){case"running":case"pausing":case"canceling":return S.RUNNING;case"paused":return S.PAUSED;case"success":return S.SUCCESS;case"canceled":return S.CANCELED;case"error":default:return S.ERROR}}function T(e){return null!=e}function A(e){return void 0!==e}function N(e){return"function"==typeof e}function O(e){return"object"==typeof e}function x(e){return O(e)&&null!==e}function P(e){return"string"==typeof e||e instanceof String}function R(e){return D(e)&&Number.isInteger(e)}function D(e){return"number"==typeof e||e instanceof Number}function M(e){return L()&&e instanceof Blob}function L(){return"undefined"!=typeof Blob}var F=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({}),j=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=F.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=F.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=F.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw g("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),T(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return T(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw g("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw g("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw g("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){T(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){T(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),U=function(){function e(){}return e.prototype.createXhrIo=function(){return new j},e}();function V(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=V();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(L())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var B=function(){function e(e,t){var n=0,r="";M(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(M(this.data_)){var r=(o=t,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(L()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(q.apply(null,r))}var i=t.map((function(e){return P(e)?b(y.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}(),H=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(r){return new e(t,"")}if(""===n.path)return n;throw new s("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],u=0;u<a.length;u++){var l=a[u],c=l.regex.exec(t);if(c){var h=c[l.indices.path];h||(h=""),n=new e(c[l.indices.bucket],h),l.postModify(n);break}}if(null==n)throw function(e){return new s("invalid-url","Invalid URL '"+e+"'.")}(t);return n},e}();function z(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return O(n=t)&&!Array.isArray(n)?t:null}function W(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}function G(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function K(e){return"https://firebasestorage.googleapis.com/v0"+e}function Q(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}function Y(e,t){return t}var X=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Y},$=null;function J(e,t,n){var r=z(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=new H(e.bucket,e.fullPath);return t.makeStorageReference(n)}})}(r,e),r}(e,r,n)}function Z(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function ee(e){if(!O(e)||!e)throw"Expected Metadata object.";for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("customMetadata"===t){if(!O(n))throw"Expected object for 'customMetadata' mapping."}else if(x(n))throw"Mapping for '"+t+"' cannot be an object."}}function te(e){if(!O(e)||!e)throw"Expected ListOptions object.";for(var t in e)if("maxResults"===t){if(!R(e.maxResults)||e.maxResults<=0)throw"Expected maxResults to be a positive number.";if(e.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==t)throw"Unknown option: "+t;if(e.pageToken&&!P(e.pageToken))throw"Expected pageToken to be string."}}var ne=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function re(e){if(!e)throw l()}function ie(e,t){return function(n,r){var i=J(e,r,t);return re(null!==i),i}}function oe(e){return function(t,n){var r;return(r=401===t.getStatus()?new s("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new s("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new s("unauthorized","User does not have permission to access '"+e.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function ae(e){var t=oe(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=new s("object-not-found","Object '"+e.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function se(e,t,n){var r=K(t.fullServerUrl()),i=e.maxOperationRetryTime,o=new ne(r,"GET",ie(e,n),i);return o.errorHandler=ae(t),o}function ue(e,t,n,r,i){var o={};o.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=K(t.bucketOnlyServerUrl()),s=e.maxOperationRetryTime,u=new ne(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=z(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e.makeStorageReference(new H(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,l=n.items;u<l.length;u++)s=e.makeStorageReference(new H(t,l[u].name)),r.items.push(s);return r}(e,t,r)}(e,t,r);return re(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=oe(t),u}function le(e,t,n){var r=K(t.fullServerUrl()),i=e.maxOperationRetryTime,o=new ne(r,"GET",function(e,t){return function(n,r){var i=J(e,r,t);return re(null!==i),function(e,t){var n=z(t);if(null===n)return null;if(!P(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(t){var n=e.fullPath;return K("/b/"+i(e.bucket)+"/o/"+i(n))+Q({alt:"media",token:t})}))[0]}(i,r)}}(e,n),i);return o.errorHandler=ae(t),o}function ce(e,t,n,r){var i=K(t.fullServerUrl()),o=Z(n,r),a=e.maxOperationRetryTime,s=new ne(i,"PATCH",ie(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=ae(t),s}function he(e,t){var n=K(t.fullServerUrl()),r=new ne(n,"DELETE",(function(e,t){}),e.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=ae(t),r}function fe(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var de=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function pe(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){re(!1)}return re(!!n&&-1!==(t||["active"]).indexOf(n)),n}var ve=function(e,t,n){if(N(e)||T(t)||T(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},ge=function(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o};function ye(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}var a,u,l,c;if(!(r<=n.length&&n.length<=i))throw(a=r)===(u=i)?(l=a,c=1===a?"argument":"arguments"):(l="between "+a+" and "+u,c="arguments"),new s("invalid-argument-count","Invalid argument count in `"+e+"`: Expected "+l+" "+c+", received "+n.length+".");for(o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(h){throw h instanceof Error?d(o,e,h.message):d(o,e,h)}}var me=function(e,t){var n=this;this.validator=function(t){n.optional&&!A(t)||e(t)},this.optional=!!t};function _e(e,t){function n(e){if(!P(e))throw"Expected string."}var r,i,o;return e?(i=n,o=e,r=function(e){i(e),o(e)}):r=n,new me(r,t)}function be(){return new me((function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||L()&&e instanceof Blob))throw"Expected Blob or File."}))}function we(e){return new me(ee,e)}function Ce(e){return new me(te,e)}function ke(){return new me((function(e){if(!(D(e)&&e>=0))throw"Expected a number 0 or greater."}))}function Ee(e,t){return new me((function(t){if(!(null===t||T(t)&&t instanceof Object))throw"Expected an Object.";null!=e&&e(t)}),t)}function Se(e){return new me((function(e){if(null!==e&&!N(e))throw"Expected a Function."}),e)}function Ie(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Te=function(){function e(e,t,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.service_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals("canceled")?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_("error"))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals("canceled")?a.completeTransitions_():(a.error_=e,a.transition_("error"))},this.promise_=new Promise((function(e,t){a.resolve_=e,a.reject_=t,a.start_()})),this.promise_.then(null,(function(){}))}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n){return e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.service_.getAuthToken().then((function(n){switch(t.state_){case"running":e(n);break;case"canceling":t.transition_("canceled");break;case"pausing":t.transition_("paused")}}))},e.prototype.createResumable_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=fe(t,r,i),s={name:a.fullPath},u=K(o),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=Z(a,n),h=new ne(u,"POST",(function(e){var t;pe(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){re(!1)}return re(P(t)),t}),e.maxUploadRetryTime);return h.urlParams=s,h.headers=l,h.body=c,h.errorHandler=oe(t),h}(e.service_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.service_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_((function(n){var r=function(e,t,n,r){var i=new ne(n,"POST",(function(e){var t=pe(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){re(!1)}n||re(!1);var i=Number(n);return re(!isNaN(i)),new de(i,r.size(),"final"===t)}),e.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=oe(t),i}(e.service_,e.location_,t,e.blob_),i=e.service_.makeRequest(r,n);e.request_=i,i.getPromise().then((function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,n=new de(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(e,t,n,r,i,o,a,u){var l=new de(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new s("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=l.total-l.current,f=c;i>0&&(f=Math.min(f,i));var d=l.current,p={"X-Goog-Upload-Command":f===c?"upload, finalize":"upload","X-Goog-Upload-Offset":l.current},v=r.slice(d,d+f);if(null===v)throw h();var g=new ne(n,"POST",(function(e,n){var i,a=pe(e,["active","final"]),s=l.current+f,u=r.size();return i="final"===a?ie(t,o)(e,n):null,new de(s,u,"final"===a,i)}),t.maxUploadRetryTime);return g.headers=p,g.body=v.uploadData(),g.progressCallback=u||null,g.errorHandler=oe(e),g}(e.location_,e.service_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(u){return e.error_=u,void e.transition_("error")}var a=e.service_.makeRequest(o,i);e.request_=a,a.getPromise().then((function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_("success")):e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_((function(t){var n=se(e.service_,e.location_,e.mappings_),r=e.service_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.transition_("success")}),e.metadataErrorHandler_)}))},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=fe(t,r,i),l=Z(u,n),c=B.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===c)throw h();var f={name:u.fullPath},d=K(o),p=e.maxUploadRetryTime,v=new ne(d,"POST",ie(e,n),p);return v.urlParams=f,v.headers=a,v.body=c.uploadData(),v.errorHandler=oe(t),v}(e.service_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.service_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_("success")}),e.errorHandler_)}))},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case"canceling":case"pausing":this.state_=e,null!==this.request_&&this.request_.cancel();break;case"running":var t="paused"===this.state_;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=e,this.notifyObservers_();break;case"canceled":this.error_=c(),this.state_=e,this.notifyObservers_();break;case"error":case"success":this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=I(this.state_);return new ge(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(){if(e!==E.STATE_CHANGED)throw"Expected one of the event types: ["+E.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=Se(!0).validator,s=Ee(null,!0).validator;function u(e){try{return void a(e)}catch(t){}try{if(s(e),!(A(e.next)||A(e.error)||A(e.complete)))throw"";return}catch(t){throw o}}var l=[_e(i),Ee(u,!0),Se(!0),Se(!0)];ye("on",l,arguments);var c=this;function h(e){return function(t,n,i){null!==e&&ye("on",e,arguments);var o=new ve(t,n,r);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function f(e){if(null===e)throw o;u(e)}var d=[Ee(f),Se(!0),Se(!0)],p=!(A(t)||A(n)||A(r));return p?h(d):h(null)(t,n,r)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t=this.observers_.indexOf(e);-1!==t&&this.observers_.splice(t,1)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),this.observers_.slice().forEach((function(t){e.notifyObserver_(t)}))},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(I(this.state_)){case S.SUCCESS:Ie(this.resolve_.bind(null,this.snapshot))();break;case S.CANCELED:case S.ERROR:Ie(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(I(this.state_)){case S.RUNNING:case S.PAUSED:e.next&&Ie(e.next.bind(e,this.snapshot))();break;case S.SUCCESS:e.complete&&Ie(e.complete.bind(e))();break;case S.CANCELED:case S.ERROR:e.error&&Ie(e.error.bind(e,this.error_))();break;default:e.error&&Ie(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){ye("resume",[],arguments);var e="paused"===this.state_||"pausing"===this.state_;return e&&this.transition_("running"),e},e.prototype.pause=function(){ye("pause",[],arguments);var e="running"===this.state_;return e&&this.transition_("pausing"),e},e.prototype.cancel=function(){ye("cancel",[],arguments);var e="running"===this.state_||"pausing"===this.state_;return e&&this.transition_("canceling"),e},e}(),Ae=function(){function e(e,t){this.service=e,this.location=t instanceof H?t:H.makeFromUrl(t)}return e.prototype.toString=function(){return ye("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return function(){if($)return $;var e=[];e.push(new X("bucket")),e.push(new X("generation")),e.push(new X("metageneration")),e.push(new X("name","fullPath",!0));var t=new X("name");t.xform=function(e,t){return function(e){return!P(e)||e.length<2?e:G(e)}(t)},e.push(t);var n=new X("size");return n.xform=function(e,t){return T(t)?Number(t):t},e.push(n),e.push(new X("timeCreated")),e.push(new X("updated")),e.push(new X("md5Hash",null,!0)),e.push(new X("cacheControl",null,!0)),e.push(new X("contentDisposition",null,!0)),e.push(new X("contentEncoding",null,!0)),e.push(new X("contentLanguage",null,!0)),e.push(new X("contentType",null,!0)),e.push(new X("metadata","customMetadata",!0)),$=e}()},e.prototype.child=function(e){ye("child",[_e()],arguments);var t=W(this.location.path,e),n=new H(this.location.bucket,t);return this.newRef(this.service,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new H(this.location.bucket,e);return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new H(this.location.bucket,"");return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return G(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),ye("put",[be(),we(!0)],arguments),this.throwIfRoot_("put"),new Te(this,this.service,this.location,this.mappings(),new B(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=y.RAW),ye("putString",[_e(),_e(m,!0),we(!0)],arguments),this.throwIfRoot_("putString");var r=b(t,e),i=Object.assign({},n);return!T(i.contentType)&&T(r.contentType)&&(i.contentType=r.contentType),new Te(this,this.service,this.location,this.mappings(),new B(r.data,!0),i)},e.prototype.delete=function(){var e=this;return ye("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(t){var n=he(e.service,e.location);return e.service.makeRequest(n,t).getPromise()}))},e.prototype.listAll=function(){ye("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then((function(){return e}))},e.prototype.listAllHelper=function(e,t){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:t})];case 1:return n=o.sent(),(r=e.prefixes).push.apply(r,n.prefixes),(i=e.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(e,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},e.prototype.list=function(e){ye("list",[Ce(!0)],arguments);var t=this;return this.service.getAuthToken().then((function(n){var r=e||{},i=ue(t.service,t.location,"/",r.pageToken,r.maxResults);return t.service.makeRequest(i,n).getPromise()}))},e.prototype.getMetadata=function(){var e=this;return ye("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(t){var n=se(e.service,e.location,e.mappings());return e.service.makeRequest(n,t).getPromise()}))},e.prototype.updateMetadata=function(e){var t=this;return ye("updateMetadata",[we()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=ce(t.service,t.location,e,t.mappings());return t.service.makeRequest(r,n).getPromise()}))},e.prototype.getDownloadURL=function(){var e=this;return ye("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(t){var n=le(e.service,e.location,e.mappings());return e.service.makeRequest(n,t).getPromise().then((function(e){if(null===e)throw f();return e}))}))},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new s("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),Ne=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}(),Oe=function(){function e(e,t,n,r,i,o,a,s,u,l,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var u=e.callback_(a,a.getResponseText());A(u)?i(u):i()}catch(h){o(h)}else null!==a?((r=l()).setServerResponseProp(a.getResponseText()),o(e.errorCallback_?e.errorCallback_(a,r):r)):o(r=n.canceled?e.appDelete_?p():c():new s("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new xe(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,a=null,s=!1,u=0;function l(){return 2===u}var c=!1;function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c||(c=!0,n.apply(null,e))}function f(t){a=setTimeout((function(){a=null,function(t,n){if(n)t(!1,new xe(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===F.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new xe(a,n))}else{var s=n.getErrorCode()===F.ABORT;t(!1,new xe(!1,null,s))}}))}function i(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}}(d,l())}),t)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)h.call.apply(h,Object(o.__spreadArrays)([null,e],t));else{var r,a=l()||s;a?h.call.apply(h,Object(o.__spreadArrays)([null,e],t)):(i<64&&(i*=2),1===u?(u=2,r=0):r=1e3*(i+Math.random()),f(r))}}var p=!1;function v(e){p||(p=!0,c||(null!==a?(e||(u=2),clearTimeout(a),f(0)):e||(u=1)))}return f(0),setTimeout((function(){s=!0,v(!0)}),r),v}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),xe=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n},Pe=function(){function e(t,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=t,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?H.makeFromBucketSpec(i):e.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new Re(this)}return e.extractBucket_=function(e){var t=null==e?void 0:e.storageBucket;return null==t?null:H.makeFromBucketSpec(t)},e.prototype.getAuthToken=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:return(e=this.authProvider_.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(e){return e.cancel()})),this.requests_.clear()},e.prototype.makeStorageReference=function(e){return new Ae(this,e)},e.prototype.makeRequest=function(e,t){var n=this;if(this.deleted_)return new Ne(p());var r=function(e,t,n,r){var o=Q(e.urlParams),a=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e){e["X-Firebase-Storage-Version"]="webjs/"+(void 0!==i.a?i.a.SDK_VERSION:"AppManager")}(s),new Oe(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}(e,this.appId_,t,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},e.prototype.ref=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(ye("ref",[_e(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Ae(this,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{H.makeFromUrl(e)}catch(t){throw"Expected valid full URL but got an invalid one."}}return ye("refFromURL",[_e(t,!1)],arguments),new Ae(this,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){ye("setMaxUploadRetryTime",[ke()],arguments),this.maxUploadRetryTime_=e},Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),e.prototype.setMaxOperationRetryTime=function(e){ye("setMaxOperationRetryTime",[ke()],arguments),this.maxOperationRetryTime_=e},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),e}(),Re=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},e}();function De(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return new Pe(n,r,new U,t)}function Me(e){var t={TaskState:S,TaskEvent:E,StringFormat:y,Storage:Pe,Reference:Ae};e.INTERNAL.registerComponent(new a.Component("storage",De,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.3.43")}Me(i.a)},NSPt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("wj3C"),i=n("mrSG"),o=n("zVF4"),a=n("q/0M"),s=n("S+S0");var u,l,c=(l=r)&&"object"==typeof l&&"default"in l?l:{default:l},h=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),o.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:o.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),f=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return o.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h(t)}}catch(l){}return new f},p=d("localStorage"),v=d("sessionStorage"),g=new a.Logger("@firebase/database"),y=(u=1,function(){return u++}),m=function(e){var t=o.stringToByteArray(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},_=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=e.apply(null,a):r+="object"==typeof a?o.stringify(a):a,r+=" "}return r},b=null,w=!0,C=function(e,t){o.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(g.logLevel=a.LogLevel.VERBOSE,b=g.log.bind(g),t&&v.set("logging_enabled",!0)):"function"==typeof e?b=e:(b=null,v.remove("logging_enabled"))},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===w&&(w=!1,null===b&&!0===v.get("logging_enabled")&&C(!0)),b){var n=_.apply(null,e);b(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];k.apply(void 0,i.__spread([e],t))}},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,i.__spread(e));g.error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,i.__spread(e));throw g.error(n),new Error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+_.apply(void 0,i.__spread(e));g.warn(n)},A=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},N="[MIN_NAME]",O="[MAX_NAME]",x=function(e,t){if(e===t)return 0;if(e===N||t===O)return-1;if(t===N||e===O)return 1;var n=Y(e),r=Y(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},P=function(e,t){return e===t?0:e<t?-1:1},R=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+o.stringify(t))},D=function e(t){if("object"!=typeof t||null===t)return o.stringify(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=o.stringify(n[a]),i+=":",i+=e(t[n[a]]);return i+"}"},M=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function L(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var F,j,U,V,q,B,H,z,W,G,K=function(e){var t,n,r,i,a;o.assert(!A(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()},Q=new RegExp("^-?(0*)\\d{1,10}$"),Y=function(e){if(Q.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},X=function(e){try{e()}catch(l){setTimeout((function(){throw T("Exception was thrown by user callback.",l.stack||""),l}),Math.floor(0))}},$=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},J=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!1,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),Z=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=o.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=o.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=o.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),ee=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(o.assert("string"==typeof e,"typeof type must == string"),o.assert("object"==typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return L(t,(function(e,t){r.push(e+"="+t)})),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}(),te=function(e,t){var n=ne(e),r=n.namespace;return"firebase.com"===n.domain&&I(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||I("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ee(n.host,n.secure,r,t,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new J(n.pathString)}},ne=function(e){var t="",n="",r="",o="",a="",s=!0,u="https",c=443;if("string"==typeof e){var h=e.indexOf("//");h>=0&&(u=e.substring(0,h-1),e=e.substring(h+2));var f=e.indexOf("/");-1===f&&(f=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(f,d)),f<d&&(o=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(l){}t+="/"+i}return t}(e.substring(f,d)));var p=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var o=i.__values(e.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):T("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(h=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(h+1),10)):h=t.length;var v=t.slice(0,h);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{var g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),a=r}"ns"in p&&(a=p.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},re=/[\[\].#$\/\u0000-\u001F\u007F]/,ie=/[\[\].#$\u0000-\u001F\u007F]/,oe=function(e){return"string"==typeof e&&0!==e.length&&!re.test(e)},ae=function(e){return"string"==typeof e&&0!==e.length&&!ie.test(e)},se=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!A(e)||e&&"object"==typeof e&&o.contains(e,".sv")},ue=function(e,t,n,r,i){i&&void 0===n||le(o.errorPrefix(e,t,i),n,r)},le=function e(t,n,r){var i=r instanceof J?new Z(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(A(n))throw new Error(t+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>10485760/3&&o.stringLength(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(L(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!oe(n)))throw new Error(t+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),e(t,r,i),i.pop()})),a&&s)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ce=function(e,t,n,r,i){if(!i||void 0!==n){var a=o.errorPrefix(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];L(n,(function(e,t){var n=new J(e);if(le(a,t,r.child(n)),".priority"===n.getBack()&&!se(t))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!oe(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(J.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},he=function(e,t,n,r){if(!r||void 0!==n){if(A(n))throw new Error(o.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!se(n))throw new Error(o.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fe=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(o.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},de=function(e,t,n,r){if(!(r&&void 0===n||oe(n)))throw new Error(o.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pe=function(e,t,n,r){if(!(r&&void 0===n||ae(n)))throw new Error(o.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ve=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pe(e,t,n,r)},ge=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},ye=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!oe(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ae(e)}(r))throw new Error(o.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},me=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(o.errorPrefix(e,t,r)+"must be a boolean.")},_e=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){o.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),o.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new o.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){o.validateArgCount("OnDisconnect.remove",0,1,arguments.length),ge("OnDisconnect.remove",this.path_),o.validateCallback("OnDisconnect.remove",1,e,!0);var t=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){o.validateArgCount("OnDisconnect.set",1,2,arguments.length),ge("OnDisconnect.set",this.path_),ue("OnDisconnect.set",1,e,this.path_,!1),o.validateCallback("OnDisconnect.set",2,t,!0);var n=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){o.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),ge("OnDisconnect.setWithPriority",this.path_),ue("OnDisconnect.setWithPriority",1,e,this.path_,!1),he("OnDisconnect.setWithPriority",2,t,!1),o.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new o.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(o.validateArgCount("OnDisconnect.update",1,2,arguments.length),ge("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ce("OnDisconnect.update",1,e,this.path_,!1),o.validateCallback("OnDisconnect.update",2,t,!0);var i=new o.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),be=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return o.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),we=(F="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",j=0,U=[],function(e){var t,n=e===j;j=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=F.charAt(e%64),e=Math.floor(e/64);o.assert(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===U[t];t--)U[t]=0;U[t]++}else for(t=0;t<12;t++)U[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=F.charAt(U[t]);return o.assert(20===i.length,"nextPushId: Length should be 20."),i}),Ce=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),ke=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ce(N,e),r=new Ce(N,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ce.MIN},e}(),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return V},set:function(e){V=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return x(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw o.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ce.MIN},t.prototype.maxPost=function(){return new Ce(O,V)},t.prototype.makePost=function(e,t){return o.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ce(e,V)},t.prototype.toString=function(){return".key"},t}(ke),Se=new Ee,Ie=function(e){return"number"==typeof e?"number:"+K(e):"string:"+e},Te=function(e){if(e.isLeafNode()){var t=e.val();o.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&o.contains(t,".sv"),"Priority must be a string or number.")}else o.assert(e===q||e.isEmpty(),"priority of unexpected type.");o.assert(e===q||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ae=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,o.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Te(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return B},set:function(e){B=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(o.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ie(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?K(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(o.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return o.assert(i>=0,"Unknown leaf type: "+n),o.assert(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Ne=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?x(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ce.MIN},t.prototype.maxPost=function(){return new Ce(O,new Ae("[PRIORITY-POST]",z))},t.prototype.makePost=function(e,t){var n=H(e);return new Ce(t,new Ae("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(ke)),Oe=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),xe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Re.EMPTY_NODE,this.right=null!=o?o:Re.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Re.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Re.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Pe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new xe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Re=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,xe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,xe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Oe(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Oe(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Oe(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Oe(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Pe,e}(),De=Math.log(2),Me=function(){function e(e){this.count=parseInt(Math.log(e+1)/De,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Le=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,o=e.length,a=function(t,r){var i=o-t,a=o;o-=t;var u=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new xe(a,o.node,xe.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return o=e[u],a=n?n(o):o,new xe(a,o.node,xe.BLACK,l,c)}(i+1,a),l=e[i],c=n?n(l):l;s(new xe(c,l.node,r,null,u))},s=function(e){r?(r.left=e,r=e):(i=e,r=e)},u=0;u<t.count;++u){var l=t.nextBitIsOne(),c=Math.pow(2,t.count-(u+1));l?a(c,xe.BLACK):(a(c,xe.BLACK),a(c,xe.RED))}return i}(new Me(e.length));return new Re(r||t,i)},Fe={},je=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return o.assert(Fe&&Ne,"ChildrenNode.ts has not been loaded"),W=W||new e({".priority":Fe},{".priority":Ne})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=o.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Re?t:null},e.prototype.hasIndex=function(e){return o.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){o.assert(t!==Se,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(Ce.Wrap),l=u.getNext();l;)s=s||t.isDefinedOn(l.node),a.push(l),l=u.getNext();r=s?Le(a,t.getCompare()):Fe;var c=t.toString(),h=i.__assign({},this.indexSet_);h[c]=t;var f=i.__assign({},this.indexes_);return f[c]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(o.map(this.indexes_,(function(e,i){var a=o.safeGet(r.indexSet_,i);if(o.assert(a,"Missing index implementation for "+i),e===Fe){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Ce.Wrap),l=u.getNext();l;)l.name!==t.name&&s.push(l),l=u.getNext();return s.push(t),Le(s,a.getCompare())}return Fe}var c=n.get(t.name),h=e;return c&&(h=h.remove(new Ce(t.name,c))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(o.map(this.indexes_,(function(e){if(e===Fe)return e;var r=n.get(t.name);return r?e.remove(new Ce(t.name,r)):e})),this.indexSet_)},e}();function Ue(e,t){return x(e.name,t.name)}function Ve(e,t){return x(e,t)}var qe=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Te(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return G||(G=new e(new Re(Ve),null,je.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||G},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?G:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ce(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?G:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;o.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ne,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ie(this.getPriority().val())+":"),this.forEachChild(Ne,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ce(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ce(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ce(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ce.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ce.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Be?-1:0},e.prototype.withIndex=function(t){if(t===Se||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Se||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ne),r=t.getIterator(Ne),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Se?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Be=new(function(e){function t(){return e.call(this,new Re(Ve),qe.EMPTY_NODE,je.Default)||this}return i.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return qe.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(qe));function He(e,t){if(void 0===t&&(t=null),null===e)return qe.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),o.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ae(e,He(t));if(e instanceof Array){var n=qe.EMPTY_NODE;return L(e,(function(t,r){if(o.contains(e,t)&&"."!==t.substring(0,1)){var i=He(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(He(t))}var r=[],i=!1;if(L(e,(function(e,t){if("."!==e.substring(0,1)){var n=He(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ce(e,n)))}})),0===r.length)return qe.EMPTY_NODE;var a=Le(r,Ue,(function(e){return e.name}),Ve);if(i){var s=Le(r,Ne.getCompare());return new qe(a,He(t),new je({".priority":s},{".priority":Ne}))}return new qe(a,He(t),je.Default)}Object.defineProperties(Ce,{MIN:{value:new Ce(N,qe.EMPTY_NODE)},MAX:{value:new Ce(O,Be)}}),Ee.__EMPTY_NODE=qe.EMPTY_NODE,Ae.__childrenNodeConstructor=qe,q=Be,z=Be,function(e){H=e}(He);var ze,We=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?x(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ce.MIN},t.prototype.maxPost=function(){return Ce.MAX},t.prototype.makePost=function(e,t){var n=He(e);return new Ce(t,n)},t.prototype.toString=function(){return".value"},t}(ke)),Ge=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,o.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return i.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?x(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=He(e),r=qe.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ce(t,r)},t.prototype.maxPost=function(){var e=qe.EMPTY_NODE.updateChild(this.indexPath_,Be);return new Ce(O,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(ke),Ke=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return o.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return o.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return o.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return o.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){o.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),pe("DataSnapshot.child",1,t,!1);var n=new J(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Ne)},e.prototype.hasChild=function(e){o.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),pe("DataSnapshot.hasChild",1,e,!1);var t=new J(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return o.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(o.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),o.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),Ne))}))},e.prototype.hasChildren=function(){return o.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return o.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return o.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Qe=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+o.stringify(this.snapshot.exportVal())},e}(),Ye=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Xe=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Qe("value",this,new Ke(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ye(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),$e=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return o.contains(this.callbacks_,t="children_removed"===t?"child_removed":t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ye(this,e,t):null},e.prototype.createEvent=function(e,t){o.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Qe(e.type,this,new Ke(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||t.callbacks_[a]&&this.callbacks_[s]&&t.callbacks_[a]!==this.callbacks_[s])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),Je=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return o.assert(ze,"Reference.ts has not been loaded"),ze},set:function(e){ze=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Se){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==N)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==O)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ne){if(null!=t&&!se(t)||null!=n&&!se(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(o.assert(e.getIndex()instanceof Ge||e.getIndex()===We,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return o.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){o.validateArgCount("Query.on",2,4,arguments.length),fe("Query.on",1,t,!1),o.validateCallback("Query.on",2,n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[t]=n,this.onChildEvent(s,a.cancel,a.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new Xe(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new $e(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){o.validateArgCount("Query.off",0,3,arguments.length),fe("Query.off",1,e,!0),o.validateCallback("Query.off",2,t,!0),o.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var a=t||null;r=new Xe(a,null,n||null)}else e&&(t&&((i={})[e]=t),r=new $e(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var a=this;o.validateArgCount("Query.once",1,4,arguments.length),fe("Query.once",1,t,!1),o.validateCallback("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=!0,l=new o.Deferred;l.promise.catch((function(){}));var c=function e(r){u&&(u=!1,a.off(t,e),n&&n.bind(s.context)(r),l.resolve(r))};return this.on(t,c,(function(e){a.off(t,c),s.cancel&&s.cancel.bind(s.context)(e),l.reject(e)})),l.promise},e.prototype.limitToFirst=function(t){if(o.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(o.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(o.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');pe("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new J(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Ge(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){o.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Se);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){o.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Ne);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){o.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(We);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),o.validateArgCount("Query.startAt",0,2,arguments.length),ue("Query.startAt",1,t,this.path,!0),de("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),o.validateArgCount("Query.endAt",0,2,arguments.length),ue("Query.endAt",1,t,this.path,!0),de("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(o.validateArgCount("Query.equalTo",1,2,arguments.length),ue("Query.equalTo",1,e,this.path,!1),de("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return o.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return o.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=D(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(o.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=this.path.equals(t.path),a=this.queryIdentifier()===t.queryIdentifier();return r&&i&&a},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,o.validateCallback(e,3,r.cancel,!0),r.context=n,o.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(o.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ze=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),et=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=this.path_.child(t);return new e(this.syncTree_,n)},e.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},e}(),tt=function(e,t,n){return e&&"object"==typeof e?(o.assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?nt(e[".sv"],t,n):"object"==typeof e[".sv"]?rt(e[".sv"],t):void o.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},nt=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:o.assert(!1,"Unexpected server value: "+e)}},rt=function(e,t,n){e.hasOwnProperty("increment")||o.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&o.assert(!1,"Unexpected increment value: "+r);var i=t.node();if(o.assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},it=function(e,t,n,r){return at(t,new et(n,e),r)},ot=function(e,t,n){return at(e,new Ze(t),n)};function at(e,t,n){var r,i=e.getPriority().val(),o=tt(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=tt(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ae(s,He(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ae(o))),u.forEachChild(Ne,(function(e,i){var o=at(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var st,ut,lt=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront();return e=e.popFront(),this.children.has(t)?this.children.get(t).find(e):null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(Ne,(function(e,t){n.remember(new J(e),t)})),this.forget(e)}if(this.children.size>0){var r=e.getFront();return e=e.popFront(),this.children.has(r)&&this.children.get(r).forget(e)&&this.children.delete(r),0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild((function(n,r){var i=new J(e.toString()+"/"+n);r.forEachTree(i,t)}))},e.prototype.forEachChild=function(e){this.children.forEach((function(t,n){e(n,t)}))},e}(),ct=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({}),ht=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,o.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),ft=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ct.ACK_USER_WRITE,this.source=ht.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return o.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new J(t));return new e(J.Empty,n,this.revert)}return o.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),dt=function(){function e(e,t){void 0===t&&(st||(st=new Re(P)),t=st),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return L(t,(function(e,t){n=n.set(new J(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:J.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new J(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r,i=t.getFront(),o=(this.children.get(i)||e.Empty).setTree(t.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(J.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(e.child(r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,J.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,J.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(J.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(e.child(n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e.Empty=new e(null),e}(),pt=function(){function e(e,t){this.source=e,this.path=t,this.type=ct.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,J.Empty):new e(this.source,this.path.popFront())},e}(),vt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ct.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,J.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),gt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ct.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new J(t));return n.isEmpty()?null:n.value?new vt(this.source,J.Empty,n.value):new e(this.source,J.Empty,n)}return o.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),yt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),mt=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new yt(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new yt(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new yt(qe.EMPTY_NODE,!1,!1),new yt(qe.EMPTY_NODE,!1,!1)),e}(),_t=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),bt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){o.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(_t.childRemovedChange(t,s)):o.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(_t.childAddedChange(t,n)):a.trackChildChange(_t.childChangedChange(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ne,(function(e,r){t.hasChild(e)||n.trackChildChange(_t.childRemovedChange(e,r))})),t.isLeafNode()||t.forEachChild(Ne,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(_t.childChangedChange(t,r,i))}else n.trackChildChange(_t.childAddedChange(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?qe.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),wt=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;o.assert(t===_t.CHILD_ADDED||t===_t.CHILD_CHANGED||t===_t.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t===_t.CHILD_ADDED&&i===_t.CHILD_REMOVED)this.changeMap.set(n,_t.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t===_t.CHILD_REMOVED&&i===_t.CHILD_ADDED)this.changeMap.delete(n);else if(t===_t.CHILD_REMOVED&&i===_t.CHILD_CHANGED)this.changeMap.set(n,_t.childRemovedChange(n,r.oldSnap));else if(t===_t.CHILD_CHANGED&&i===_t.CHILD_ADDED)this.changeMap.set(n,_t.childAddedChange(n,e.snapshotNode));else{if(t!==_t.CHILD_CHANGED||i!==_t.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,_t.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Ct=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),kt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new yt(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),Et=function(e,t){this.viewCache=e,this.changes=t},St=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){o.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),o.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var a,s,u=new wt;if(n.type===ct.OVERWRITE){var l=n;l.source.fromUser?a=this.applyUserOverwrite_(t,l.path,l.snap,r,i,u):(o.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.getServerCache().isFiltered()&&!l.path.isEmpty(),a=this.applyServerOverwrite_(t,l.path,l.snap,r,i,s,u))}else if(n.type===ct.MERGE){var c=n;c.source.fromUser?a=this.applyUserMerge_(t,c.path,c.children,r,i,u):(o.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.getServerCache().isFiltered(),a=this.applyServerMerge_(t,c.path,c.children,r,i,s,u))}else if(n.type===ct.ACK_USER_WRITE){var h=n;a=h.revert?this.revertUserWrite_(t,h.path,r,i,u):this.ackUserWrite_(t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ct.LISTEN_COMPLETE)throw o.assertionError("Unknown operation type: "+n.type);a=this.listenComplete_(t,n.path,r,u)}var f=u.getChanges();return e.maybeAddValueEvent_(t,a,f),new Et(a,f)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_t.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var a=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var s=void 0,u=void 0;if(t.isEmpty())if(o.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var l=e.getCompleteServerSnap(),c=n.calcCompleteEventChildren(l instanceof qe?l:qe.EMPTY_NODE);s=this.filter_.updateFullNode(e.getEventCache().getNode(),c,i)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());s=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var f=t.getFront();if(".priority"===f){o.assert(1===t.getLength(),"Can't have a priority with additional path components");var d=a.getNode();u=e.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(t,d,u);s=null!=p?this.filter_.updatePriority(d,p):a.getNode()}else{var v=t.popFront(),g=void 0;if(a.isCompleteForChild(f)){u=e.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(t,a.getNode(),u);g=null!=y?a.getNode().getImmediateChild(f).updateChild(v,y):a.getNode().getImmediateChild(f)}else g=n.calcCompleteChild(f,e.getServerCache());s=null!=g?this.filter_.updateChild(a.getNode(),f,g,v,r,i):a.getNode()}}return e.updateEventSnap(s,a.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,a){var s,u=e.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(t,n);s=l.updateFullNode(u.getNode(),c,null)}else{var h=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var f=t.popFront(),d=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?l.updatePriority(u.getNode(),d):l.updateChild(u.getNode(),h,d,f,Ct,null)}var p=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),l.filtersNodes()),v=new kt(r,p,i);return this.generateEventCacheAfterServerEvent_(p,t,r,v,a)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var a,s,u=e.getEventCache(),l=new kt(r,e,i);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var c=t.getFront();if(".priority"===c)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=t.popFront(),f=u.getNode().getImmediateChild(c),d=void 0;if(h.isEmpty())d=n;else{var p=l.getCompleteChild(c);d=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):qe.EMPTY_NODE}if(f.equals(d))a=e;else{var v=this.filter_.updateChild(u.getNode(),c,d,h,l,o);a=e.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,a){var s=this,u=t;return r.foreach((function(r,l){var c=n.child(r);e.cacheHasChild_(t,c.getFront())&&(u=s.applyUserOverwrite_(u,c,l,i,o,a))})),r.foreach((function(r,l){var c=n.child(r);e.cacheHasChild_(t,c.getFront())||(u=s.applyUserOverwrite_(u,c,l,i,o,a))})),u},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,l=e;u=t.isEmpty()?n:dt.Empty.setTree(t,n);var c=e.getServerCache().getNode();return u.children.inorderTraversal((function(t,n){if(c.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),h=s.applyMerge_(u,n);l=s.applyServerOverwrite_(l,new J(t),h,r,i,o,a)}})),u.children.inorderTraversal((function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!c.hasChild(t)&&!u){var h=e.getServerCache().getNode().getImmediateChild(t),f=s.applyMerge_(h,n);l=s.applyServerOverwrite_(l,new J(t),f,r,i,o,a)}})),l},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var u=dt.Empty;return s.getNode().forEachChild(Se,(function(e,t){u=u.set(new J(e),t)})),this.applyServerMerge_(e,t,u,r,i,a,o)}return e}var l=dt.Empty;return n.foreach((function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))})),this.applyServerMerge_(e,t,l,r,i,a,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,Ct,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var a;if(null!=n.shadowingWrite(t))return e;var s=new kt(n,e,r),u=e.getEventCache().getNode(),l=void 0;if(t.isEmpty()||".priority"===t.getFront()){var c=void 0;if(e.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var h=e.getServerCache().getNode();o.assert(h instanceof qe,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}l=this.filter_.updateFullNode(u,c=c,i)}else{var f=t.getFront(),d=n.calcCompleteChild(f,e.getServerCache());null==d&&e.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(l=null!=d?this.filter_.updateChild(u,f,d,t.popFront(),s,i):e.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,qe.EMPTY_NODE,t.popFront(),s,i):u).isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,a,i))}return a=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(J.Empty),e.updateEventSnap(l,a,this.filter_.filtersNodes())},e}(),It=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach((function(e){e.type===_t.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(_t.childMovedChange(e.childName,e.snapshotNode))})),this.generateEventsForType_(i,_t.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,_t.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,_t.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,_t.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,_t.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,a=n.filter((function(e){return e.type===t}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(t){var n=o.materializeSingleChange_(t,i);r.forEach((function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))}))}))},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw o.assertionError("Should only compare child_ events.");var n=new Ce(e.childName,e.snapshotNode),r=new Ce(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),Tt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new bt(n.getIndex()),i=n.getNodeFilter();this.processor_=new St(i);var o=t.getServerCache(),a=t.getEventCache(),s=r.updateFullNode(qe.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(qe.EMPTY_NODE,a.getNode(),null),l=new yt(s,o.isFullyInitialized(),r.filtersNodes()),c=new yt(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new mt(c,l),this.eventGenerator_=new It(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){o.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){var i=e.createCancelEvent(t=t,r);i&&n.push(i)}))}if(e){for(var i=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(a+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===ct.MERGE&&null!==e.source.queryId&&(o.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),o.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),o.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ne,(function(e,t){n.push(_t.childAddedChange(e,t))})),t.isFullyInitialized()&&n.push(_t.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){return this.eventGenerator_.generateEventsForChanges(e,t,n?[n]:this.eventRegistrations_)},e}(),At=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return o.assert(ut,"Reference.ts has not been loaded"),ut},set:function(e){o.assert(!ut,"__referenceConstructor has already been defined"),ut=e},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,a,s=e.source.queryId;if(null!==s){var u=this.views.get(s);return o.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(e,t,n)}var l=[];try{for(var c=i.__values(this.views.values()),h=c.next();!h.done;h=c.next())l=l.concat((u=h.value).applyOperation(e,t,n))}catch(f){r={error:f}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}return l},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=e.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof qe?(s=n.calcCompleteEventChildren(r),u=!1):(s=qe.EMPTY_NODE,u=!1);var l=new mt(new yt(s,u,!1),new yt(r,i,!1));a=new Tt(e,l),this.views.set(o,a)}return a.addEventRegistration(t),a.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var o,a,s=t.queryIdentifier(),u=[],l=[],c=this.hasCompleteView();if("default"===s)try{for(var h=i.__values(this.views.entries()),f=h.next();!f.done;f=h.next()){var d,p=i.__read(f.value,2),v=p[0];l=l.concat((d=p[1]).removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(v),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery()))}}catch(g){o={error:g}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}else(d=this.views.get(s))&&(l=l.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(s),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery())));return c&&!this.hasCompleteView()&&u.push(new e.__referenceConstructor(t.repo,t.path)),{removed:u,events:l}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=i.__values(this.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var o=i.__values(this.views.values()),a=o.next();!a.done;a=o.next())r=r||a.value.getCompleteServerCache(e)}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=i.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(a){e={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),Nt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new dt(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=J.relativePath(i,t);return o=o.updateChild(a,n),new e(this.writeTree_.set(i,o))}var s=new dt(n);return new e(this.writeTree_.setTree(t,s))},e.prototype.addWrites=function(e,t){var n=this;return L(t,(function(t,r){n=n.addWrite(e.child(t),r)})),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,dt.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(J.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ne,(function(t,n){e.push(new Ce(t,n))})):this.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Ce(t,n.value))})),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new dt(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(e){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,a){".priority"===n?(o.assert(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(t.child(n),a,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r}(J.Empty,this.writeTree_,e)},e.Empty=new e(new dt(null)),e}(),Ot=function(){function e(){this.visibleWrites_=Nt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new xt(e,this)},e.prototype.addOverwrite=function(e,t,n,r){o.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){o.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));o.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,a=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(a=!0)),s--}return!!i&&(a?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):L(r.children,(function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))})),!0))},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(J.Empty)?e.layerTree_(this.allWrites_,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t).apply(n||qe.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(t);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(t);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(J.Empty)?s.apply(n||qe.EMPTY_NODE):null},e.prototype.calcCompleteEventChildren=function(e,t){var n=qe.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(Ne,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Ne,(function(e,t){var r=i.childCompoundWrite(new J(e)).apply(t);n=n.updateImmediateChild(e,r)})),i.getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){o.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var a=this.visibleWrites_.childCompoundWrite(i);return a.isEmpty()?r.getChild(t):a.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(e),u=s.getCompleteNode(J.Empty);if(null!=u)a=u;else{if(null==t)return[];a=s.apply(t)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var l=[],c=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&l.length<r;)0!==c(f,n)&&l.push(f),f=h.getNext();return l},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,J.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=Nt.Empty,i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)n.contains(s)?(u=J.relativePath(n,s),r=r.addWrite(u,a.snap)):s.contains(n)&&(u=J.relativePath(s,n),r=r.addWrite(J.Empty,a.snap.getChild(u)));else{if(!a.children)throw o.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))u=J.relativePath(n,s),r=r.addWrites(u,a.children);else if(s.contains(n))if((u=J.relativePath(s,n)).isEmpty())r=r.addWrites(J.Empty,a.children);else{var l=o.safeGet(a.children,u.getFront());if(l){var c=l.getChild(u.popFront());r=r.addWrite(J.Empty,c)}}}}}return r},e}(),xt=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Pt=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=dt.Empty,this.pendingWriteTree_=new Ot,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new vt(ht.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=dt.fromObject(t);return this.applyOperationToSyncPoints_(new gt(ht.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=dt.Empty;return null!=n.snap?r=r.set(J.Empty,!0):L(n.children,(function(e,t){r=r.set(new J(e),t)})),this.applyOperationToSyncPoints_(new ft(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new vt(ht.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=dt.fromObject(t);return this.applyOperationToSyncPoints_(new gt(ht.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new pt(ht.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=J.relativePath(a,t),l=new vt(ht.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=J.relativePath(a,t),l=dt.fromObject(n),c=new gt(ht.forServerTaggedQuery(s),u,l);return this.applyTaggedOperation_(a,c)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,a=i.queryId,s=J.relativePath(o,t),u=new pt(ht.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(r,(function(e,t){var n=J.relativePath(e,r);i=i||t.getCompleteServerCache(n),a=a||t.hasCompleteView()}));var s,u=this.syncPointTree_.get(r);u?(a=a||u.hasCompleteView(),i=i||u.getCompleteServerCache(J.Empty)):(u=new At,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=qe.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=t.getCompleteServerCache(J.Empty);n&&(i=i.updateImmediateChild(e,n))})));var l=u.viewExistsForQuery(t);if(!l&&!t.getQueryParams().loadsAllData()){var c=e.makeQueryKey_(t);o.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=e.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var f=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(t,n,f,i,s);if(!l&&!a){var p=u.viewForQuery(t);d=d.concat(this.setupListener_(t,p))}return d},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;s=u.events;var c=-1!==l.findIndex((function(e){return e.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(e,t){return t.hasCompleteView()}));if(c&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var v=d[p],g=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}!h&&l.length>0&&!r&&(c?this.listenProvider_.stopListening(e.queryForListening_(t),null):l.forEach((function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)}))),this.removeTags_(l)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,(function(t,n){var r=J.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),L(n,(function(e,t){r=r.concat(t)})),r}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(e.queryForListening_(t),i,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(r);if(i)o.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=u.fold((function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),L(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<l.length;++c){var h=l[c];this.listenProvider_.stopListening(e.queryForListening_(h),this.tagForQuery_(h))}return s},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||qe.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return o.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new J(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);o.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(J.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(J.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(J.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,l,c))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(J.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(J.Empty));var a=[];return t.children.inorderTraversal((function(t,o){var s=n?n.getImmediateChild(t):null,u=r.child(t),l=e.operationForChild(t);l&&(a=a.concat(i.applyOperationDescendantsHelper_(l,o,s,u)))})),o&&(a=a.concat(o.applyOperation(e,r,n))),a},e.nextQueryTag_=1,e}(),Rt=function(){function e(){this.rootNode_=qe.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),Dt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),o.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return o.deepCopy(this.counters_)},e}(),Mt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Dt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Lt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=i.__assign({},e);return this.last_&&L(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Ft=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Lt(e);var n=1e4+2e4*Math.random();$(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;L(t,(function(t,i){i>0&&o.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),$(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),jt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new Ut(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.equals(e)}))},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.contains(e)||e.contains(t)}))},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1)}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),Ut=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();b&&k("event: "+t.toString()),X(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Vt=function(){function e(e){this.allowedEvents_=e,this.listeners_={},o.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=i.__spread(this.listeners_[e]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){o.assert(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),qt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return i.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return o.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Vt),Bt=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||o.isMobileCordova()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return i.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return o.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Vt),Ht=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&X((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),zt=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=Mt.getCollection(t),this.urlFn=function(e){return t.connectionURL("long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ht(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(o.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Wt((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.__read(e,5),o=r[0],a=r[1],s=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=a,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.__read(e,2),o=r[0],a=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(o,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(o.isNodeSdk()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=o.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=o.base64Encode(t),r=M(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!o.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=o.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Wt=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,o.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){k("frame writing exception"),l.stack&&k(l.stack),k(l)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||k("No IE domain setting required")}catch(l){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;o.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){k("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(l){}}),Math.floor(1))},e}(),Gt="",Kt=null;"undefined"!=typeof MozWebSocket?Kt=MozWebSocket:"undefined"!=typeof WebSocket&&(Kt=WebSocket);var Qt=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=Mt.getCollection(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!o.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(o.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Gt+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new Kt(this.connURL,[],r)}else this.mySock=new Kt(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(l){this.log_("Error instantiating WebSocket.");var s=l.message||l.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Kt&&!e.forceDisallow_},e.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=o.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(o.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=o.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=M(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Yt=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[zt,Qt]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,o=Qt&&Qt.isAvailable(),a=o&&!Qt.previouslyFailed();if(t.webSocketOnly&&(o||T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Qt];else{var s=this.transports_=[];try{for(var u=i.__values(e.ALL_TRANSPORTS),l=u.next();!l.done;l=u.next()){var c=l.value;c&&c.isAvailable()&&s.push(c)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Xt=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Yt(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=$((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=R("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?S("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&T("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),$t=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Jt=function(e){function t(n,r,i,a,s,u,l){var c=e.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=s,c.authTokenProvider_=u,c.authOverride_=l,c.id=t.nextPersistentConnectionId_++,c.log_=E("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!o.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),qt.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Bt.getInstance().on("online",c.onOnline_,c),c}return i.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(o.stringify(i)),o.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),a=e.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),o.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),o.assert(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&o.contains(e,"w")){var n=o.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||o.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=o.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),o.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+o.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):S("Unrecognized action received from server: "+o.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;o.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this,u=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())};this.realtime_={close:h,sendRequest:function(e){o.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(e){l?k("getToken() completed but was canceled"):(k("getToken() completed. Creating connection."),s.authToken_=e&&e.accessToken,c=new Xt(a,s.repoInfo_,s.applicationId_,n,r,i,(function(e){T(e+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),u))})).then(null,(function(t){s.log_("Failed to get token: "+t),l||(e.repoInfo_.nodeAdmin&&T(t),h())}))}},t.prototype.interrupt=function(e){k("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){k("Resuming connection for reason: "+e),delete this.interruptReasons_[e],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return D(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new J(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){k("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var o=i.__values(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,i.__values(s.values())),l=u.next();!l.done;l=u.next())this.sendListen_(l.value)}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";o.isNodeSdk()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Gt.replace(/\./g,"-")]=1,o.isMobileCordova()?e["framework.cordova"]=1:o.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Bt.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}($t),Zt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return i.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(o.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var u=t.getListenId_(e,r),l={};this.listens_[u]=l;var c=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),o.safeGet(a.listens_,u)===l&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(t.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+o.querystring(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=o.jsonEval(u.responseText)}catch(l){T("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&T("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}($t),en=function(){function e(e,t,n,r){var i=this;if(this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new lt,this.persistentConnection_=null,this.stats_=Mt.getCollection(e),t||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Zt(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{o.stringify(a)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}this.persistentConnection_=new Jt(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,a),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(e){i.server_.refreshAuthToken(e)})),this.statsReporter_=Mt.getOrCreateReporter(e,(function(){return new Ft(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Rt,this.infoSyncTree_=new Pt({startListening:function(e,t,n,r){var o=[],a=i.infoData_.getNode(e.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Pt({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,(function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new J(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var a=[];if(r)if(n){var s=o.map(t,(function(e){return He(e)}));a=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=He(t);a=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var l=o.map(t,(function(e){return He(e)}));a=this.serverSyncTree_.applyServerMerge(i,l)}else{var c=He(t);a=this.serverSyncTree_.applyServerOverwrite(i,c)}var h=i;a.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,a)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;L(e,(function(e,n){t.updateInfo_(e,n)}))},e.prototype.updateInfo_=function(e,t){var n=new J("/.info/"+e),r=He(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),a=He(t,n),s=this.serverSyncTree_.calcCompleteEventCache(e),u=ot(a,s,o),l=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(e,u,l,!0);this.eventQueue_.queueEvents(c),this.server_.put(e.toString(),a.val(!0),(function(t,n){var o="ok"===t;o||T("set at "+e+" failed: "+t);var a=i.serverSyncTree_.ackUserWrite(l,!o);i.eventQueue_.raiseEventsForChangedPath(e,a),i.callOnCompleteCallback(r,t,n)}));var h=this.abortTransactions_(e);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),a={};if(L(t,(function(t,n){i=!1,a[t]=it(e.child(t),He(n),r.serverSyncTree_,o)})),i)k("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(e,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(e.toString(),t,(function(t,i){var o="ok"===t;o||T("update at "+e+" failed: "+t);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,t,i)})),L(t,(function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=new lt;this.onDisconnect_.forEachTree(J.Empty,(function(r,i){var o=it(r,i,e.serverSyncTree_,t);n.remember(r,o)}));var r=[];n.forEachTree(J.Empty,(function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)})),this.onDisconnect_=new lt,this.eventQueue_.raiseEventsForChangedPath(J.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=He(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),(function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=He(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),(function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(o.isEmpty(t))return k("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(i,o){"ok"===i&&L(t,(function(t,n){var i=He(n);r.onDisconnect_.remember(e.child(t),i)})),r.callOnCompleteCallback(n,i,o)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Lt(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);L(t,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),k.apply(void 0,i.__spread([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&X((function(){if("ok"===t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new dn(this))},enumerable:!1,configurable:!0}),e}(),tn=function(){function e(t){this.indexedFilter_=new bt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ce(t,n))||(n=qe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=qe.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(qe.EMPTY_NODE);var i=this;return t.forEachChild(Ne,(function(e,t){i.matches(new Ce(e,t))||(r=r.updateImmediateChild(e,qe.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),nn=function(){function e(e){this.rangedFilter_=new tn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ce(t,n))||(n=qe.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=qe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=qe.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(qe.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(s,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,qe.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;o.assert(u.numChildren()===this.limit_,"");var l=new Ce(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,l);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_t.childChangedChange(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(_t.childRemovedChange(t,f));var v=u.updateImmediateChild(t,qe.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(_t.childAddedChange(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&a(c,l)>=0?(null!=i&&(i.trackChildChange(_t.childRemovedChange(c.name,c.node)),i.trackChildChange(_t.childAddedChange(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,qe.EMPTY_NODE)):e},e}(),rn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return o.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==Ne&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ne},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new bt(this.getIndex()):this.hasLimit()?new nn(this):new tn(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Ne?t=n.PRIORITY_INDEX:this.index_===We?t=n.VALUE_INDEX:this.index_===Se?t=n.KEY_INDEX:(o.assert(this.index_ instanceof Ge,"Unrecognized index type!"),t=this.index_.toString()),r[n.ORDER_BY]=o.stringify(t),this.startSet_&&(r[n.START_AT]=o.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+o.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=o.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+o.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),on=function(e){function t(t,n){if(!(t instanceof en))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,rn.DEFAULT,!1)||this}return i.__extends(t,e),t.prototype.getKey=function(){return o.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return o.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof J||(null===this.path.getFront()?ve("Reference.child",1,e,!1):pe("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){o.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){o.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){o.validateArgCount("Reference.set",1,2,arguments.length),ge("Reference.set",this.path),ue("Reference.set",1,e,this.path,!1),o.validateCallback("Reference.set",2,t,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(o.validateArgCount("Reference.update",1,2,arguments.length),ge("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ce("Reference.update",1,e,this.path,!1),o.validateCallback("Reference.update",2,t,!0);var i=new o.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(o.validateArgCount("Reference.setWithPriority",2,3,arguments.length),ge("Reference.setWithPriority",this.path),ue("Reference.setWithPriority",1,e,this.path,!1),he("Reference.setWithPriority",2,t,!1),o.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return o.validateArgCount("Reference.remove",0,1,arguments.length),ge("Reference.remove",this.path),o.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(o.validateArgCount("Reference.transaction",1,3,arguments.length),ge("Reference.transaction",this.path),o.validateCallback("Reference.transaction",1,e,!1),o.validateCallback("Reference.transaction",2,t,!0),me("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.Deferred;"function"==typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new be(n,i)),"function"==typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){o.validateArgCount("Reference.setPriority",1,2,arguments.length),ge("Reference.setPriority",this.path),he("Reference.setPriority",1,e,!1),o.validateCallback("Reference.setPriority",2,t,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){o.validateArgCount("Reference.push",0,2,arguments.length),ge("Reference.push",this.path),ue("Reference.push",1,e,this.path,!0),o.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=we(r),a=this.child(i),s=this.child(i);return n=null!=e?a.set(e,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),a},t.prototype.onDisconnect=function(){return ge("Reference.onDisconnect",this.path),new _e(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Je);Je.__referenceConstructor=on,At.__referenceConstructor=on;var an=function(){this.children={},this.childCount=0,this.value=null},sn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new an),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n=t instanceof J?t:new J(t),r=this,i=n.getFront();null!==i;)r=new e(i,r,o.safeGet(r.node_.children,i)||new an),i=(n=n.popFront()).getFront();return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){o.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;L(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new J(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=o.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}(),un=function(e){return e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT",e}({});en.MAX_TRANSACTION_RETRIES_=25,en.prototype.transactionsInit_=function(){this.transactionQueueTree_=new sn},en.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},a=new on(this,e);a.on("value",i);var s={path:e,update:t,onComplete:n,status:null,order:y(),applyLocally:r,retryCount:0,unwatcher:function(){a.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);s.currentInputSnapshot=u;var l=s.update(u.val());if(void 0===l){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var c=new Ke(s.currentInputSnapshot,new on(this,s.path),Ne);s.onComplete(null,!1,c)}}else{le("transaction failed: Data returned ",l,s.path),s.status=un.RUN;var h=this.transactionQueueTree_.subTree(e),f=h.getValue()||[];f.push(s),h.setValue(f);var d=void 0;"object"==typeof l&&null!==l&&o.contains(l,".priority")?(d=o.safeGet(l,".priority"),o.assert(se(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(e)||qe.EMPTY_NODE).getPriority().val(),d=d;var p=this.generateServerValues(),v=He(l,d),g=ot(v,u,p);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(e,g,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,m),this.sendReadyTransactions_()}},en.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||qe.EMPTY_NODE},en.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);o.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return e.status===un.RUN}))&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},en.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map((function(e){return e.currentWriteId})),i=this.getLatestState_(e,r),a=i,s=i.hash(),u=0;u<t.length;u++){var l=t[u];o.assert(l.status===un.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=un.SENT,l.retryCount++;var c=J.relativePath(e,l.path);a=a.updateChild(c,l.currentOutputSnapshotRaw)}var h=a.val(!0),f=e;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<t.length;a++){if(t[a].status=un.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[a].currentWriteId)),t[a].onComplete){var s=t[a].currentOutputSnapshotResolved,u=new on(n,t[a].path),l=new Ke(s,u,Ne);o.push(t[a].onComplete.bind(null,null,!0,l))}t[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i),a=0;a<o.length;a++)X(o[a])}else{if("datastale"===r)for(a=0;a<t.length;a++)t[a].status=t[a].status===un.SENT_NEEDS_ABORT?un.NEEDS_ABORT:un.RUN;else for(T("transaction at "+f.toString()+" failed: "+r),a=0;a<t.length;a++)t[a].status=un.NEEDS_ABORT,t[a].abortReason=r;n.rerunTransactions_(e)}}),s)},en.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},en.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],r=[],i=e.filter((function(e){return e.status===un.RUN})).map((function(e){return e.currentWriteId})),a=0;a<e.length;a++){var s=e[a],u=J.relativePath(t,s.path),l=!1,c=void 0;if(o.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===un.NEEDS_ABORT)l=!0,c=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===un.RUN)if(s.retryCount>=en.MAX_TRANSACTION_RETRIES_)l=!0,c="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,i);s.currentInputSnapshot=h;var f=e[a].update(h.val());if(void 0!==f){le("transaction failed: Data returned ",f,s.path);var d=He(f);"object"==typeof f&&null!=f&&o.contains(f,".priority")||(d=d.updatePriority(h.getPriority()));var p=s.currentWriteId,v=this.generateServerValues(),g=ot(d,h,v);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,g,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else l=!0,c="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,r),r=[],l&&(e[a].status=un.COMPLETED,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete))if("nodata"===c){var y=new on(this,e[a].path),m=new Ke(e[a].currentInputSnapshot,y,Ne);n.push(e[a].onComplete.bind(null,null,!1,m))}else n.push(e[a].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),a=0;a<n.length;a++)X(n[a]);this.sendReadyTransactions_()}},en.prototype.getAncestorTransactionNode_=function(e){var t,n=this.transactionQueueTree_;for(t=e.getFront();null!==t&&null===n.getValue();)n=n.subTree(t),t=(e=e.popFront()).getFront();return n},en.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},en.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},en.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==un.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},en.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},en.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,a=0;a<t.length;a++)t[a].status===un.SENT_NEEDS_ABORT||(t[a].status===un.SENT?(o.assert(i===a-1,"All SENT items should be at beginning of queue."),i=a,t[a].status=un.SENT_NEEDS_ABORT,t[a].abortReason="set"):(o.assert(t[a].status===un.RUN,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[a].currentWriteId,!0)),t[a].onComplete&&n.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r),a=0;a<n.length;a++)X(n[a])}};var ln,cn=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(k("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';T(e+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),hn=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),fn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return ln||(ln=new e),ln},e.prototype.interrupt=function(){var e,t,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,i.__values(Object.keys(this.repos_[s]))),l=u.next();!l.done;l=u.next())this.repos_[s][l.value].interrupt()}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.resume=function(){var e,t,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,i.__values(Object.keys(this.repos_[s]))),l=u.next();!l.done;l=u.next())this.repos_[s][l.value].resume()}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.databaseFromApp=function(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||I("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),k("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var o,a=te(i,r),s=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,s=(a=te(i="http://"+u+"?ns="+s.namespace,r)).repoInfo):o=!a.repoInfo.secure;var l=r&&o?new hn:new cn(e,t);return ye("Invalid Firebase Database URL",1,a),a.path.isEmpty()||I("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,e,l).database},e.prototype.deleteRepo=function(e){var t=o.safeGet(this.repos_,e.app.name);t&&o.safeGet(t,e.repoInfo_.toURLString())===e||I("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t,n){var r=o.safeGet(this.repos_,t.name);r||(this.repos_[t.name]=r={});var i=o.safeGet(r,e.toURLString());return i&&I("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new en(e,this.useRestClient_,t,n),r[e.toURLString()]=i,i},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),dn=function(){function e(e){this.repo_=e,e instanceof en||I("Don't call new Database() directly - please use firebase.database()."),this.root_=new on(e,J.Empty),this.INTERNAL=new pn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),o.validateArgCount("database.ref",0,1,arguments.length),e instanceof on?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),o.validateArgCount(t,1,1,arguments.length);var n=te(e,this.repo_.repoInfo_.nodeAdmin);ye(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&I(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&I("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){o.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){o.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),pn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.database.checkDeleted_("delete"),fn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},e}(),vn=Object.freeze({__proto__:null,forceLongPolling:function(){Qt.forceDisallow(),zt.forceAllow()},forceWebSockets:function(){zt.forceDisallow()},isWebSocketsAvailable:function(){return Qt.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),gn=Jt;Jt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Jt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var yn=Object.freeze({__proto__:null,DataConnection:gn,RealTimeConnection:Xt,hijackHash:function(e){var t=Jt.prototype.put;return Jt.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Jt.prototype.put=t}},ConnectionTarget:ee,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){fn.getInstance().forceRestClient(e)}}),mn=dn.ServerValue;function _n(t){Gt=t.SDK_VERSION;var n=t.INTERNAL.registerComponent(new s.Component("database",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return fn.getInstance().databaseFromApp(n,r,t)}),"PUBLIC").setServiceProps({Reference:on,Query:Je,Database:dn,DataSnapshot:Ke,enableLogging:C,INTERNAL:vn,ServerValue:mn,TEST_ACCESS:yn}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.6.13"),o.isNodeSdk()&&(e.exports=n)}_n(c.default),t.DataSnapshot=Ke,t.Database=dn,t.OnDisconnect=_e,t.Query=Je,t.Reference=on,t.ServerValue=mn,t.enableLogging=C,t.registerDatabase=_n},O1kn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("wj3C");n("fSjL");var i=n("mrSG"),o=n("zVF4"),a=n("q/0M"),s=n("S+S0");var u,l,c=(l=r)&&"object"==typeof l&&"default"in l?l:{default:l},h=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=i.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return o=i.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return i.sent(),[2,o]}}))}))},e}(),f=((u={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",u["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",u["registration-api-key"]="Undefined API key. Check Firebase app initialization.",u["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",u["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',u["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',u["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u),d=new o.ErrorFactory("remoteconfig","Remote Config",f),p=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n,r,o,a,s,u,l,c,h,f,p,v,g,y,m;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=i.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,o={sdk_version:this.sdkVersion,app_instance_id:t[0],app_instance_id_token:t[1],app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},a={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},body:JSON.stringify(o)},s=fetch(r,a),u=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),i.label=2;case 2:return i.trys.push([2,5,,6]),[4,Promise.race([s,u])];case 3:return i.sent(),[4,s];case 4:return l=i.sent(),[3,6];case 5:throw c=i.sent(),h="fetch-client-network","AbortError"===c.name&&(h="fetch-timeout"),d.create(h,{originalErrorMessage:c.message});case 6:if(f=l.status,p=l.headers.get("ETag")||void 0,200!==l.status)return[3,11];y=void 0,i.label=7;case 7:return i.trys.push([7,9,,10]),[4,l.json()];case 8:return y=i.sent(),[3,10];case 9:throw m=i.sent(),d.create("fetch-client-parse",{originalErrorMessage:m.message});case 10:v=y.entries,g=y.state,i.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(v={}),304!==f&&200!==f)throw d.create("fetch-status",{httpStatus:f});return[2,{status:f,eTag:p,config:v}]}var _}))}))},e}(),v=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),g=["1","true","t","yes","y","on"],y=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&g.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),m=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=a.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=a.LogLevel.SILENT;break;default:this._logger.logLevel=a.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),n=e[1],(t=e[0])&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r=this;return i.__generator(this,(function(a){switch(a.label){case 0:e=new v,setTimeout((function(){return i.__awaiter(r,void 0,void 0,(function(){return i.__generator(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),a.label=1;case 1:return a.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return a.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return a.sent(),[3,6];case 4:return t=a.sent(),n=(s=t)instanceof o.FirebaseError&&-1!==s.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw a.sent(),t;case 6:return[2]}var s}))}))},e.prototype.fetchAndActivate=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e,t,n=this;return(e=this._storageCache.getActiveConfig(),t=this.defaultConfig,void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(i.__assign(i.__assign({},e),t))).reduce((function(e,t){return e[t]=n.getValue(t),e}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new y("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new y("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new y("static"))},e}();function _(e,t){var n=e.target.error||void 0;return d.create(t,{originalErrorMessage:n&&n.message})}var b=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(_(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(_(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(l){i(d.create("storage-get",{originalErrorMessage:l&&l.message}))}}))]}}))}))},e.prototype.set=function(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n,r=this;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(_(e,"storage-set"))},u.onsuccess=function(){i()}}catch(l){o(d.create("storage-set",{originalErrorMessage:l&&l.message}))}}))]}}))}))},e.prototype.delete=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t,n=this;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(_(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(l){i(d.create("storage-delete",{originalErrorMessage:l&&l.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),w=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,o,a;return i.__generator(this,(function(i){switch(i.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=i.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(o=i.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,n];case 3:return(a=i.sent())&&(this.activeConfig=a),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function C(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(d.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var k=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return i.__awaiter(this,void 0,void 0,(function(){var t,a,s;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,C(e.signal,n)];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=i.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return i.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof o.FirebaseError))return!1;var t=Number(e.httpStatus);return 429===t||500===t||503===t||504===t}(a=i.sent()))throw a;return s={throttleEndTimeMillis:Date.now()+o.calculateBackoffMillis(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(s)];case 6:return i.sent(),[2,this.attemptFetch(e,s)];case 7:return[2]}}))}))},e}(),E="@firebase/remote-config";function S(e){e.INTERNAL.registerComponent(new s.Component("remoteConfig",(function(t,n){var r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw d.create("registration-window");var o=r.options,s=o.projectId,u=o.apiKey,l=o.appId;if(!s)throw d.create("registration-project-id");if(!u)throw d.create("registration-api-key");if(!l)throw d.create("registration-app-id");var c=new b(l,r.name,n=n||"firebase"),f=new w(c),v=new a.Logger(E);v.logLevel=a.LogLevel.ERROR;var g=new p(i,e.SDK_VERSION,n,s,u,l),y=new k(g,c),_=new h(y,c,f,v),C=new m(r,_,f,c,v);return C.ensureInitialized(),C}),"PUBLIC").setMultipleInstances(!0)),e.registerVersion(E,"0.1.28")}S(c.default),t.registerRemoteConfig=S},"S+S0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(u);s.resolve(l)}catch(c){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(r.__spread(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})),e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),s=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=s,t.Provider=a},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r:{default:r};i.default.registerVersion("firebase","7.24.0","app"),e.exports=i.default},bQlE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("wj3C");n("fSjL");var i=n("mrSG"),o=n("zVF4"),a=n("q/0M"),s=n("S+S0");var u,l,c,h,f=(h=r)&&"object"==typeof h&&"default"in h?h:{default:h},d=((u={})["trace started"]="Trace {$traceName} was started before.",u["trace stopped"]="Trace {$traceName} is not running.",u["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",u["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",u["no window"]="Window is not available.",u["no app id"]="App id is not available.",u["no project id"]="Project id is not available.",u["no api key"]="Api key is not available.",u["invalid cc log"]="Attempted to queue invalid cc event",u["FB not default"]="Performance can only start when Firebase app instance is the default one.",u["RC response not ok"]="RC response is not ok",u["invalid attribute name"]="Attribute name {$attributeName} is invalid.",u["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",u["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",u["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",u),p=new o.ErrorFactory("performance","Performance",d),v=new a.Logger("Performance");v.logLevel=a.LogLevel.INFO;var g,y=function(){function e(e){if(this.window=e,!e)throw p.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!o.isIndexedDBAvailable()||(v.info("IndexedDB is not supported by current browswer"),!1):(v.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++)t(r[n])})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===l&&(l=new e(c)),l},e}();function m(e,t){var n=e.length-t.length;if(n<0||n>1)throw p.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var _,b=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=m("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=m("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw p.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw p.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw p.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===g&&(g=new e),g},e}();function w(){return _}var C=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN",e}({}),k=["firebase_","google_","ga_"],E=new RegExp("^[a-zA-Z]\\w*$");function S(){var e=y.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function I(){switch(y.getInstance().document.visibilityState){case"visible":return C.VISIBLE;case"hidden":return C.HIDDEN;default:return C.UNKNOWN}}function T(){var e=y.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function A(e){if(!e)return e;var t=b.getInstance(),n=e.entries||{};return t.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=N(t.tracesSamplingRate),t.logNetworkAfterSampling=N(t.networkRequestsSamplingRate),e}function N(e){return Math.random()<=e}var O,x=1;function P(){return x=2,O=O||function(){var e=y.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){e.addEventListener("readystatechange",(function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())}))}else t()}))}().then((function(){return(e=b.getInstance().installationsService.getId()).then((function(e){_=e})),e;var e})).then((function(e){return function(e){var t=function(){var e=y.getInstance().localStorage;if(e){var t=e.getItem("@firebase/performance/configexpire");if(t&&Number(t)>Date.now()){var n=e.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(u){return}}}}();return t?(A(t),Promise.resolve()):function(e){return(t=b.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+b.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+b.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:b.getInstance().getAppId(),app_version:"0.4.2",sdk_version:"0.0.1"})});return fetch(r).then((function(e){if(e.ok)return e.json();throw p.create("RC response not ok")}))})).catch((function(){v.info("Could not fetch config, will use default configs")}));var t}(e).then(A).then((function(e){return function(e){var t=y.getInstance().localStorage;e&&t&&(t.setItem("@firebase/performance/config",JSON.stringify(e)),t.setItem("@firebase/performance/configexpire",String(Date.now()+60*b.getInstance().configTimeToLive*60*1e3)))}(e)}),(function(){}))}(e)})).then((function(){return R()}),(function(){return R()}))}function R(){x=3}var D,M=3,L=[],F=!1;function j(e){if(!e.eventTime||!e.message)throw p.create("invalid cc log");L=i.__spreadArrays(L,[e])}function U(e,t){D||(D=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);j({message:r,eventTime:Date.now()})}}(B)),D(e,t)}function V(e){var t=b.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&y.getInstance().requiredApisAvailable()&&(e.isAuto&&I()!==C.VISIBLE||(3===x?q(e):P().then((function(){return q(e)}),(function(){return q(e)}))))}function q(e){if(w()){var t=b.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return U(e,1)}),0)}}function B(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:H(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:H(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function H(){return{google_app_id:b.getInstance().getAppId(),app_instance_id:w(),web_app_info:{sdk_version:"0.4.2",page_url:y.getInstance().getUrl(),service_worker_status:S(),visibility_state:I(),effective_connection_type:T()},application_process_state:0}}var z=["_fp","_fcp","_fid"],W=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=y.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw p.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw p.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),V(this)},e.prototype.record=function(e,t,n){if(e<=0)throw p.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw p.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=i.__assign({},n.attributes)),n&&n.metrics)for(var r=0,o=Object.keys(n.metrics);r<o.length;r++){var a=o[r];isNaN(Number(n.metrics[a]))||(this.counters[a]=Number(Math.floor(n.metrics[a])))}V(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(!function(e,t){return!(0===e.length||e.length>100)&&(t&&t.startsWith("_wt_")&&z.indexOf(e)>-1||!e.startsWith("_"))}(e,this.name))throw p.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=(n=t,(r=Math.floor(n))<n&&v.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n=function(e){return!(0===e.length||e.length>40||k.some((function(t){return e.startsWith(t)}))||!e.match(E))}(e),r=function(e){return 0!==e.length&&e.length<=100}(t);if(n&&r)this.customAttributes[e]=t;else{if(!n)throw p.create("invalid attribute name",{attributeName:e});if(!r)throw p.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return i.__assign({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=y.getInstance().getUrl();if(i){var o=new e("_wt_"+i,!0),a=Math.floor(1e3*y.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}V(o)}},e.createUserTimingTrace=function(t){V(new e(t,!1,t))},e}();function G(e){var t=e;if(t&&void 0!==t.responseStart){var n=y.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=b.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return U(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function K(){w()&&(setTimeout((function(){return function(){var e=y.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){W.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),W.createOobTrace(t,n,e))}))}else W.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=y.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)G(n[t]);e.setupObserver("resource",G)}()}),0),setTimeout((function(){return function(){for(var e=y.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)Q(n[t]);e.setupObserver("measure",Q)}()}),0))}function Q(e){var t=e.name;"FB-PERF-TRACE-MEASURE"!==t.substring(0,"FB-PERF-TRACE-MEASURE".length)&&W.createUserTimingTrace(t)}var Y=function(){function e(e){this.app=e,y.getInstance().requiredApisAvailable()&&o.validateIndexedDBOpenable().then((function(e){e&&(F||(function e(t){setTimeout((function(){if(0!==M)return L.length?void function(){var t=i.__spreadArrays(L);L=[];var n=t.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(t,n){return function(e){var t=b.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(t).then((function(e){return e.ok||v.info("Call to Firebase backend failed."),e.json()})).then((function(t){var r=Number(t.nextRequestWaitMillis),o=1e4;isNaN(r)||(o=Math.max(r,o));var a=t.logResponseDetails;Array.isArray(a)&&a.length>0&&"RETRY_REQUEST_LATER"===a[0].responseAction&&(L=i.__spreadArrays(n,L),v.info("Retry transport request later.")),M=3,e(o)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:b.getInstance().logSource,log_event:n},t).catch((function(){L=i.__spreadArrays(t,L),M--,v.info("Tries left: "+M+"."),e(1e4)}))}():e(1e4)}),t)}(5500),F=!0),P().then(K,K))})).catch((function(e){v.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new W(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return b.getInstance().instrumentationEnabled},set:function(e){b.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return b.getInstance().dataCollectionEnabled},set:function(e){b.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();function X(e){e.INTERNAL.registerComponent(new s.Component("performance",(function(e){return function(e,t){if("[DEFAULT]"!==e.name)throw p.create("FB not default");if("undefined"==typeof window)throw p.create("no window");return function(e){c=e}(window),b.getInstance().firebaseAppInstance=e,b.getInstance().installationsService=t,new Y(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC")),e.registerVersion("@firebase/performance","0.4.2")}X(f.default),t.registerPerformance=X},fSjL:function(e,t,n){"use strict";n.r(t),n.d(t,"registerInstallations",(function(){return K}));var r,i=n("wj3C"),o=n.n(i),a=n("S+S0"),s=n("mrSG"),u=n("zVF4"),l=n("nbvr"),c=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["not-registered"]="Firebase Installation is not registered.",r["installation-not-found"]="Firebase Installation not found.",r["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',r["app-offline"]="Could not process request. Application offline.",r["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",r),h=new u.ErrorFactory("installations","Installations",c);function f(e){return e instanceof u.FirebaseError&&e.code.includes("request-failed")}function d(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function p(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function v(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),[2,h.create("request-failed",{requestName:e,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function g(e){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey})}function y(e,t){var n=t.refreshToken,r=g(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function m(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function _(e,t){var n=t.fid;return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return t=d(e),r=g(e),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.17"})},[4,m((function(){return fetch(t,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:p(a.authToken)}];case 3:return[4,v("Create Installation",o)];case 4:throw s.sent()}}))}))}function b(e){return new Promise((function(t){setTimeout(t,e)}))}var w=/^[cdef][\w-]{21}$/;function C(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(s.__spread)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return w.test(t)?t:""}catch(r){return""}}function k(e){return e.appName+"!"+e.appId}var E=new Map;function S(e,t){var n=k(e);I(n,t),function(e,t){var n=A();n&&n.postMessage({key:e,fid:t}),N()}(n,t)}function I(e,t){var n,r,i=E.get(e);if(i)try{for(var o=Object(s.__values)(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var T=null;function A(){return!T&&"BroadcastChannel"in self&&((T=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){I(e.data.key,e.data.fid)}),T}function N(){0===E.size&&T&&(T.close(),T=null)}var O="firebase-installations-store",x=null;function P(){return x||(x=Object(l.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(O)}}))),x}function R(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return n=k(e),[4,P()];case 1:return r=s.sent(),i=r.transaction(O,"readwrite"),[4,(o=i.objectStore(O)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||S(e,t.fid),[2,t]}}))}))}function D(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return t=k(e),[4,P()];case 1:return n=i.sent(),[4,(r=n.transaction(O,"readwrite")).objectStore(O).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function M(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,u;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return n=k(e),[4,P()];case 1:return r=s.sent(),i=r.transaction(O,"readwrite"),[4,(o=i.objectStore(O)).get(n)];case 2:return a=s.sent(),void 0!==(u=t(a))?[3,4]:[4,o.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:s.sent(),s.label=6;case 6:return[4,i.complete];case 7:return s.sent(),!u||a&&a.fid===u.fid||S(e,u.fid),[2,u]}}))}))}function L(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,M(e,(function(n){var r=function(e){return U(e||{fid:C(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(h.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,_(e,t)];case 1:return n=i.sent(),[2,R(e,n)];case 2:return f(r=i.sent())&&409===r.serverCode?[4,D(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,R(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:F(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function F(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,j(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,b(100)];case 3:return o.sent(),[4,j(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,L(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function j(e){return M(e,(function(e){if(!e)throw h.create("installation-not-found");return U(e)}))}function U(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function V(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,u;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return e=function(e,t){var n=t.fid;return d(e)+"/"+n+"/authTokens:generate"}(n,t),i=y(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.17"}})},[4,m((function(){return fetch(e,a)}))];case 1:return(u=s.sent()).ok?[4,u.json()]:[3,3];case 2:return[2,p(s.sent())];case 3:return[4,v("Generate Auth Token",u)];case 4:throw s.sent()}}))}))}function q(e,t){return void 0===t&&(t=!1),Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,M(e.appConfig,(function(r){if(!H(r))throw h.create("not-registered");var i,o=r.authToken;if(!t&&2===(i=o).requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i))return r;if(1===o.requestStatus)return n=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,B(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,b(100)];case 3:return i.sent(),[4,B(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,q(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw h.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(s.__assign)(Object(s.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,V(e,t)];case 1:return n=o.sent(),i=Object(s.__assign)(Object(s.__assign)({},t),{authToken:n}),[4,R(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!f(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,D(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(s.__assign)(Object(s.__assign)({},t),{authToken:{requestStatus:0}}),[4,R(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function B(e){return M(e,(function(e){if(!H(e))throw h.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object(s.__assign)(Object(s.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function H(e){return void 0!==e&&2===e.registrationStatus}function z(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,L(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function W(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return d(e)+"/"+n}(e,t),r=y(e,t),i={method:"DELETE",headers:r},[4,m((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,v("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function G(e){return h.create("missing-app-config-values",{valueName:e})}function K(e){e.INTERNAL.registerComponent(new a.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw G("App Configuration");if(!e.name)throw G("App Name");try{for(var r=Object(s.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw G(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,L(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):q(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,z(e.appConfig)];case 1:return n.sent(),[4,q(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,M(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw h.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw h.create("app-offline");case 3:return[4,W(t,n)];case 4:return r.sent(),[4,D(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return function(e,t){var n=e.appConfig;return function(e,t){A();var n=k(e),r=E.get(n);r||(r=new Set,E.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=k(e),r=E.get(n);r&&(r.delete(t),0===r.size&&E.delete(n),N())}(n,t)}}(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations","0.4.17")}K(o.a)},gHGA:function(e,t,n){"use strict";n.r(t),n("fSjL");var r,i=n("S+S0"),o=n("zVF4"),a=n("mrSG"),s=n("nbvr"),u=n("wj3C"),l=n.n(u),c=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["only-available-in-window"]="This method is available in a Window context.",r["only-available-in-sw"]="This method is available in a service worker context.",r["permission-default"]="The notification permission was not granted and dismissed instead.",r["permission-blocked"]="The notification permission was not granted and blocked instead.",r["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",r["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",r["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",r["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",r["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",r["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",r["token-update-no-token"]="FCM returned no token when updating the user to push.",r["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",r["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",r["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",r["invalid-vapid-key"]="The public VAPID key must be a string.",r["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",r),h=new o.ErrorFactory("messaging","Messaging",c),f="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",d=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}({});function p(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(a.__spread)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function v(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function g(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(e){return e.name})).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return t=null,[4,Object(s.openDb)("fcm_token_details_db",5,(function(r){return Object(a.__awaiter)(n,void 0,void 0,(function(){var n,i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];t={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:p(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:p(o.auth),p256dh:p(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:p(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(s.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,Object(s.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(s.deleteDb)("undefined")];case 6:return r.sent(),[2,y(t)?t:null]}}))}))}function y(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var m="firebase-messaging-store",_=null;function b(){return _||(_=Object(s.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(m)}}))),_}function w(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return t=E(e),[4,b()];case 1:return[4,i.sent().transaction(m).objectStore(m).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,g(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,C(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function C(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return n=E(e),[4,b()];case 1:return r=o.sent(),[4,(i=r.transaction(m,"readwrite")).objectStore(m).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function k(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return t=E(e),[4,b()];case 1:return n=i.sent(),[4,(r=n.transaction(m,"readwrite")).objectStore(m).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function E(e){return e.appConfig.appId}function S(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return[4,N(e)];case 1:n=a.sent(),r=O(t),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(A(e.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),h.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw h.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw h.create("token-subscribe-no-token");return[2,o.token]}}))}))}function I(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return[4,N(e)];case 1:n=a.sent(),r=O(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(A(e.appConfig)+"/"+t.token,i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),h.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw h.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw h.create("token-update-no-token");return[2,o.token]}}))}))}function T(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return[4,N(e)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(A(e.appConfig)+"/"+t,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw h.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=a.sent(),h.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function A(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function N(e){var t=e.appConfig,n=e.installations;return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function O(e){var t=e.vapidKey,n={web:{endpoint:e.endpoint,auth:e.auth,p256dh:e.p256dh}};return t!==f&&(n.web.applicationPubKey=t),n}function x(e,t,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw h.create("permission-blocked");return[4,M(t,n)];case 1:return r=a.sent(),[4,w(e)];case 2:return i=a.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:p(r.getKey("auth")),p256dh:p(r.getKey("p256dh"))},i?[3,3]:[2,D(e,o)];case 3:if(c=(l=o).endpoint===(u=i.subscriptionOptions).endpoint,l.vapidKey===u.vapidKey&&c&&l.auth===u.auth&&l.p256dh===u.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,T(e,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,D(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,R({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var u,l,c}))}))}function P(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,w(e)];case 1:return(n=i.sent())?[4,T(e,n.token)]:[3,4];case 2:return i.sent(),[4,k(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function R(e,t,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,I(t,e)];case 1:return r=s.sent(),i=Object(a.__assign)(Object(a.__assign)({},e),{token:r,createTime:Date.now()}),[4,C(t,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,P(t,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function D(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,S(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,C(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function M(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:v(t)})]}}))}))}function L(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}var F=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw h.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return Object(a.__awaiter)(this,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,w(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:f,r.label=2;case 2:return[2,x(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return P(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw h.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw h.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw h.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw h.create("only-available-in-window")},e.prototype.onMessage=function(){throw h.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw h.create("only-available-in-window")},e.prototype.onPush=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,q()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,V(n,t)]:(r=!1,t.notification?[4,B(j(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return Object(a.__awaiter)(this,void 0,void 0,(function(){var r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,P(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,w(this.firebaseDependencies)];case 3:return r=i.sent(),[4,P(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,x(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:f)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r;return(null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action)||(L(e.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,U(o)]):[2]):[2];case 1:return(u=a.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return u=a.sent(),[4,new Promise((function(e){setTimeout(e,3e3)}))];case 3:return a.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=a.sent(),a.label=6;case 6:return u?(r.messageType=d.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,u.postMessage(r)]):[2]}}))}))},e}();function j(e){var t,n=Object(a.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function U(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,s,u;return Object(a.__generator)(this,(function(l){switch(l.label){case 0:return[4,q()];case 1:t=l.sent();try{for(n=Object(a.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){s={error:c}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function V(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=d.PUSH_RECEIVED;try{for(var i=Object(a.__values)(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function q(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function B(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var H=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===d.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),L(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw h.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,x(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=f),[2]}))}))},e.prototype.updateSwReg=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw h.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),h.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,P(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw h.create("denied"===e?"permission-blocked":"permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw h.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw h.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw h.create("invalid-sw-registration");if(this.swRegistration)throw h.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw h.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw h.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case d.NOTIFICATION_CLICKED:return"notification_open";case d.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function z(e){return h.create("missing-app-config-values",{valueName:e})}var W={isSupported:G};function G(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}l.a.INTERNAL.registerComponent(new i.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw z("App Configuration Object");if(!e.name)throw z("App Name");var r=e.options;try{for(var i=Object(a.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw z(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!G())throw h.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new F(n):new H(n)}),"PUBLIC").setServiceProps(W))},iqUP:function(e,t,n){"use strict";var r=n("wj3C");n("LOEa"),n("NSPt"),n("6Joi"),n("ABqa"),n("gHGA"),n("LmZi"),n("bQlE"),n("3Kre"),n("O1kn");var i,o=(i=r)&&"object"==typeof i&&"default"in i?i:{default:i};o.default.registerVersion("firebase","7.24.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),o.default.registerVersion("firebase","7.24.0"),e.exports=o.default},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return l})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return h})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return m})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return k})),n.d(t,"__importDefault",(function(){return E})),n.d(t,"__classPrivateFieldGet",(function(){return S})),n.d(t,"__classPrivateFieldSet",(function(){return I}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof m?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},nbvr:function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new c(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function l(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}o(l,"_index",["name","keyPath","multiEntry","unique"]),a(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),a(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new c(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,l].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[l,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,"LogLevel",(function(){return a})),n.d(t,"Logger",(function(){return h})),n.d(t,"setLogLevel",(function(){return f})),n.d(t,"setUserLogHandler",(function(){return d}));var o=[],a=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,l=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=l[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function f(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n("mrSG"),a=n("zVF4"),s=n("S+S0"),u=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new a.ErrorFactory("app","Firebase",l),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function e(e,t,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return u}),"PUBLIC"));try{for(var l=o.__values(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(a.contains(t,s))throw c.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}l(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw c.create("invalid-log-argument",{appName:name});u.setUserLogHandler(e,t)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:l,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!a.contains(t,e=e||"[DEFAULT]"))throw c.create("no-app",{appName:e});return t[e]}function l(s){var u,l,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[h])throw c.create("invalid-app-argument",{appName:h});return e[h]()};void 0!==s.serviceProps&&a.deepExtend(d,s.serviceProps),r[h]=d,e.prototype[h]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?e:[])}}try{for(var p=o.__values(Object.keys(t)),v=p.next();!v.done;v=p.next())t[v.value]._addComponent(s)}catch(g){u={error:g}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(d);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){a.deepExtend(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(a.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,e)};var m=p;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion("@firebase/app","0.6.11",void 0),e.registerVersion("fire-js","")}(m),t.default=m,t.firebase=m},x7I3:function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorCode",(function(){return Jn})),n.d(t,"EventType",(function(){return Zn})),n.d(t,"WebChannel",(function(){return er})),n.d(t,"XhrIo",(function(){return tr})),n.d(t,"createWebChannelTransport",(function(){return $n}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},u=a||self;function l(){}function c(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function h(e){var t=c(e);return"array"==t||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function g(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:g).apply(null,arguments)}function m(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var _=Date.now;function b(e,t){function n(){}n.prototype=t.prototype,e.S=t.prototype,e.prototype=new n,e.prototype.constructor=e}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,d)&&e[d]||(e[d]=++p)}(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},k=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function E(e){return Array.prototype.concat.apply([],arguments)}function S(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function I(e){return/^[\s\xa0]*$/.test(e)}var T,A=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function N(e,t){return-1!=e.indexOf(t)}function O(e,t){return e<t?-1:e>t?1:0}e:{var x=u.navigator;if(x){var P=x.userAgent;if(P){T=P;break e}}T=""}function R(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function D(e){var t={};for(var n in e)t[n]=e[n];return t}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function F(e){return F[" "](e),e}F[" "]=l;var j,U,V=N(T,"Opera"),q=N(T,"Trident")||N(T,"MSIE"),B=N(T,"Edge"),H=B||q,z=N(T,"Gecko")&&!(N(T.toLowerCase(),"webkit")&&!N(T,"Edge"))&&!(N(T,"Trident")||N(T,"MSIE"))&&!N(T,"Edge"),W=N(T.toLowerCase(),"webkit")&&!N(T,"Edge");function G(){var e=u.document;return e?e.documentMode:void 0}e:{var K="",Q=(U=T,z?/rv:([^\);]+)(\)|;)/.exec(U):B?/Edge\/([\d\.]+)/.exec(U):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):W?/WebKit\/(\S+)/.exec(U):V?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(Q&&(K=Q?Q[1]:""),q){var Y=G();if(null!=Y&&Y>parseFloat(K)){j=String(Y);break e}}j=K}var X={};function $(e){return function(e,t){var n=X;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=A(String(j)).split("."),r=A(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=O(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||O(0==a[2].length,0==s[2].length)||O(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var J=u.document&&q&&(G()||parseInt(j,10))||void 0,Z=!q||9<=Number(J),ee=q&&!$("9"),te=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",l,t),u.removeEventListener("test",l,t)}catch(n){}return e}();function ne(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function re(e,t){if(ne.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(z){e:{try{F(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ie[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ne.prototype.b=function(){this.defaultPrevented=!0},b(re,ne);var ie={2:"touch",3:"pen",4:"mouse"};re.prototype.b=function(){re.S.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ee)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var oe="closure_listenable_"+(1e6*Math.random()|0),ae=0;function se(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++ae,this.Y=this.Z=!1}function ue(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function le(e){this.src=e,this.a={},this.b=0}function ce(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=C(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ue(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function he(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}le.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=he(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new se(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var fe="closure_lm_"+(1e6*Math.random()|0),de={};function pe(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=Ce(r),t&&t[oe]?t.wa(n,r,f(i)?!!i.capture:!!i,o):ve(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)pe(e,t[o],n,r,i);return null}return n=Ce(n),e&&e[oe]?e.va(t,n,f(r)?!!r.capture:!!r,i):ve(e,t,n,!1,r,i)}function ve(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i;if(a&&!Z)return null;var s=be(e);if(s||(e[fe]=s=new le(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=_e,t=Z?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)te||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ye(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ge(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[oe])ce(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ye(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=be(t))?(ce(n,e),0==n.b&&(n.src=null,t[fe]=null)):ue(e)}}}function ye(e){return e in de?de[e]:de[e]="on"+e}function me(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&ge(e),n.call(r,t)}function _e(e,t){if(e.Y)return!0;if(!Z){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return me(e,t=new re(t,this))}return me(e,new re(t,this))}function be(e){return(e=e[fe])instanceof le?e:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ce(e){return"function"==c(e)?e:(e[we]||(e[we]=function(t){return e.handleEvent(t)}),e[we])}function ke(){w.call(this),this.c=new le(this),this.J=this,this.C=null}function Ee(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&ce(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}b(ke,w),ke.prototype[oe]=!0,(o=ke.prototype).addEventListener=function(e,t,n,r){pe(this,e,t,n,r)},o.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=f(i)?!!i.capture:!!i,r=Ce(r),t&&t[oe]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=he(a=t.a[n],r,i,o))&&(ue(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):t&&(t=be(t))&&(n=t.a[n.toString()],t=-1,n&&(t=he(n,r,i,o)),(r=-1<t?n[t]:null)&&ge(r))}(this,e,t,n,r)},o.dispatchEvent=function(e){var t,n=this.C;if(n)for(t=[];n;n=n.C)t.push(n);n=this.J;var r=e.type||e;if("string"==typeof e)e=new ne(e,n);else if(e instanceof ne)e.target=e.target||n;else{var i=e;L(e=new ne(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=Ee(a,r,!0,e)&&i}if(i=Ee(a=e.a=n,r,!0,e)&&i,i=Ee(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ee(a=e.a=t[o],r,!1,e)&&i;return i},o.G=function(){if(ke.S.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ue(n[r]);delete t.a[e],t.b--}}this.C=null},o.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},o.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Se=u.JSON.stringify;function Ie(){this.b=this.a=null}var Te,Ae=new(function(){function e(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,this.a=(e=this.a).next,e.next=null):e=this.c(),e},e}())((function(){return new Oe}),(function(e){e.reset()}),100);function Ne(){var e=De,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Oe(){this.next=this.b=this.a=null}function xe(e){u.setTimeout((function(){throw e}),0)}function Pe(e,t){Te||function(){var e=u.Promise.resolve(void 0);Te=function(){e.then(Me)}}(),Re||(Te(),Re=!0),De.add(e,t)}Ie.prototype.add=function(e,t){var n=Ae.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Oe.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Oe.prototype.reset=function(){this.next=this.b=this.a=null};var Re=!1,De=new Ie;function Me(){for(var e;e=Ne();){try{e.a.call(e.b)}catch(n){xe(n)}var t=Ae;t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}Re=!1}function Le(e,t){ke.call(this),this.b=e||1,this.a=t||u,this.f=y(this.Ya,this),this.g=_()}function Fe(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function je(e,t,n){if("function"==c(e))n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function Ue(e){e.a=je((function(){e.a=null,e.c&&(e.c=!1,Ue(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}b(Le,ke),(o=Le.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var e=_()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Fe(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_())},o.G=function(){Le.S.G.call(this),Fe(this),delete this.a};var Ve=function(e){function t(t,n,r){var i=e.call(this)||this;return i.g=null!=r?t.bind(r):t,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Ue(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(w);function qe(e){w.call(this),this.b=e,this.a={}}b(qe,w);var Be=[];function He(e,t,n,r){Array.isArray(n)||(n&&(Be[0]=n.toString()),n=Be);for(var i=0;i<n.length;i++){var o=pe(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function ze(e){R(e.a,(function(e,t){this.a.hasOwnProperty(t)&&ge(e)}),e),e.a={}}function We(){this.a=!0}function Ge(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Se(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}qe.prototype.G=function(){qe.S.G.call(this),ze(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},We.prototype.info=function(){};var Ke=null;function Qe(){return Ke=Ke||new ke}function Ye(e){ne.call(this,"serverreachability",e)}function Xe(e){var t=Qe();t.dispatchEvent(new Ye(t,e))}function $e(e){ne.call(this,"statevent",e)}function Je(e){var t=Qe();t.dispatchEvent(new $e(t,e))}function Ze(e){ne.call(this,"timingevent",e)}function et(e,t){if("function"!=c(e))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){e()}),t)}b(Ye,ne),b($e,ne),b(Ze,ne);var tt={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},nt={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function rt(){}function it(){}rt.prototype.a=null;var ot,at={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function st(){ne.call(this,"d")}function ut(){ne.call(this,"c")}function lt(){}function ct(e,t,n,r){this.g=e,this.c=t,this.f=n,this.T=r||1,this.J=new qe(this),this.P=ht,this.R=new Le(e=H?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}b(st,ne),b(ut,ne),b(lt,rt),ot=new lt;var ht=45e3,ft={},dt={};function pt(e,t,n){e.H=1,e.i=Lt(Ot(t)),e.j=n,e.I=!0,vt(e,null)}function vt(e,t){e.u=_(),mt(e),e.l=Ot(e.i);var n=e.l,r=e.T;Array.isArray(r)||(r=[String(r)]),Yt(n.b,"t",r),e.D=0,e.a=zn(e.g,e.g.C?t:null),0<e.O&&(e.F=new Ve(y(e.Ca,e,e.a),e.O)),He(e.J,e.a,"readystatechange",e.Wa),t=e.B?D(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Xe(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.T,e.j)}function gt(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=yt(e,n);if(i==dt){4==t&&(e.h=4,Je(14),r=!1),Ge(e.c,e.f,null,"[Incomplete Response]");break}if(i==ft){e.h=4,Je(15),Ge(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Ge(e.c,e.f,i,null),kt(e,i)}4==t&&0==n.length&&(e.h=1,Je(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.W&&(e.W=!0,(t=e.g).a==e&&t.V&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ln(t),t.F=!0)):(Ge(e.c,e.f,n,"[Invalid Chunked Response]"),Ct(e),wt(e))}function yt(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?dt:(n=Number(t.substring(n,r)),isNaN(n)?ft:(r+=1)+n>t.length?dt:(t=t.substr(r,n),e.D=r+n,t))}function mt(e){e.U=_()+e.P,_t(e,e.P)}function _t(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=et(y(e.Ua,e),t)}function bt(e){e.o&&(u.clearTimeout(e.o),e.o=null)}function wt(e){0==e.g.v||e.A||Un(e.g,e)}function Ct(e){bt(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Fe(e.R),ze(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function kt(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||nn(n.b,e)))if(n.I=e.N,!e.C&&nn(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;jn(n),Tn(n)}Mn(n),Je(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=et(y(n.Ra,n),6e3));if(1>=tn(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else qn(n,11)}else if((e.C||n.a==e)&&jn(n),!I(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(n.P=(i=t[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=e.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(N(c,"spdy")||N(c,"quic")||N(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(u.A){var f=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Mt(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=_()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Hn(u,u.C?u.ga:null,u.fa),d.C){on(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(bt(p),mt(p)),u.a=d}else Dn(u);0<n.g.length&&On(n)}else"stop"!=i[0]&&"close"!=i[0]||qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?qn(n,7):In(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Xe(4)}catch(g){}}function Et(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||"string"==typeof e)k(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(h(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(h(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function St(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof St)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function It(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Tt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Tt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Tt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(o=ct.prototype).setTimeout=function(e){this.P=e},o.Wa=function(e){e=e.target;var t=this.F;t&&3==Cn(e)?t.f():this.Ca(e)},o.Ca=function(e){try{if(e==this.a)e:{var t=Cn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>t||3==t&&!H&&!this.a.$())){this.A||4!=t||7==n||Xe(8==n||0>=r?3:2),bt(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.T,t,i),this.b){if(this.V&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,Je(12),Ct(this),wt(this);break e}Ge(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,kt(this,u)}this.I?(gt(this,t,o),H&&this.b&&3==t&&(He(this.J,this.R,"tick",this.Va),this.R.start())):(Ge(this.c,this.f,o,null),kt(this,o)),4==t&&Ct(this),this.b&&!this.A&&(4==t?Un(this.g,this):(this.b=!1,mt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Je(12)):(this.h=0,Je(13)),Ct(this),wt(this)}}}catch(l){}},o.Va=function(){if(this.a){var e=Cn(this.a),t=this.a.$();this.D<t.length&&(bt(this),gt(this,e,t),this.b&&4!=e&&mt(this))}},o.cancel=function(){this.A=!0,Ct(this)},o.Ua=function(){this.o=null;var e=_();0<=e-this.U?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(Xe(3),Je(17)),Ct(this),this.h=2,wt(this)):_t(this,this.U-e)},(o=St.prototype).K=function(){It(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},o.L=function(){return It(this),this.a.concat()},o.get=function(e,t){return Tt(this.b,e)?this.b[e]:t},o.set=function(e,t){Tt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},o.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var At=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Nt){this.a=void 0!==t?t:e.a,xt(this,e.f),this.j=e.j,Pt(this,e.c),Rt(this,e.h),this.g=e.g,t=e.b;var n=new Wt;n.c=t.c,t.a&&(n.a=new St(t.a),n.b=t.b),Dt(this,n),this.i=e.i}else e&&(n=String(e).match(At))?(this.a=!!t,xt(this,n[1]||"",!0),this.j=Ft(n[2]||""),Pt(this,n[3]||"",!0),Rt(this,n[4]),this.g=Ft(n[5]||"",!0),Dt(this,n[6]||"",!0),this.i=Ft(n[7]||"")):(this.a=!!t,this.b=new Wt(null,this.a))}function Ot(e){return new Nt(e)}function xt(e,t,n){e.f=n?Ft(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Pt(e,t,n){e.c=n?Ft(t,!0):t}function Rt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Dt(e,t,n){t instanceof Wt?(e.b=t,function(e,t){t&&!e.f&&(Gt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Kt(this,t),Yt(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=jt(t,Ht)),e.b=new Wt(t,e.a))}function Mt(e,t,n){e.b.set(t,n)}function Lt(e){return Mt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),e}function Ft(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function jt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ut),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ut(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(jt(t,Vt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(jt(t,Vt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(jt(n,"/"==n.charAt(0)?Bt:qt,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",jt(n,zt)),e.join("")};var Vt=/[#\/\?@]/g,qt=/[#\?:]/g,Bt=/[#\?]/g,Ht=/[#\?@]/g,zt=/#/g;function Wt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Gt(e){e.a||(e.a=new St,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Kt(e,t){Gt(e),t=Xt(e,t),Tt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Tt((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&It(e)))}function Qt(e,t){return Gt(e),t=Xt(e,t),Tt(e.a.b,t)}function Yt(e,t,n){Kt(e,t),0<n.length&&(e.c=null,e.a.set(Xt(e,t),S(n)),e.b+=n.length)}function Xt(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function $t(e,t){this.b=e,this.a=t}function Jt(e){this.g=e||Zt,e=u.PerformanceNavigationTiming?0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=Wt.prototype).add=function(e,t){Gt(this),this.c=null,e=Xt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},o.forEach=function(e,t){Gt(this),this.a.forEach((function(n,r){k(n,(function(n){e.call(t,n,r,this)}),this)}),this)},o.L=function(){Gt(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},o.K=function(e){Gt(this);var t=[];if("string"==typeof e)Qt(this,e)&&(t=E(t,this.a.get(Xt(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=E(t,e[n])}return t},o.set=function(e,t){return Gt(this),this.c=null,Qt(this,e=Xt(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},o.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Zt=10;function en(e){return!!e.b||!!e.a&&e.a.size>=e.f}function tn(e){return e.b?1:e.a?e.a.size:0}function nn(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function rn(e,t){e.a?e.a.add(t):e.b=t}function on(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function an(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var o=i(e.a.values()),a=o.next();!a.done;a=o.next())r=r.concat(a.value.s)}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return S(e.c)}function sn(){}function un(){this.a=new sn}function ln(e,t,n){var r=n||"";try{Et(e,(function(e,n){var i=e;f(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function cn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}Jt.prototype.cancel=function(){var e,t;if(this.c=an(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},sn.prototype.stringify=function(e){return u.JSON.stringify(e,void 0)},sn.prototype.parse=function(e){return u.JSON.parse(e,void 0)};var hn=u.JSON.parse;function fn(e){ke.call(this),this.headers=new St,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dn,this.D=this.F=!1}b(fn,ke);var dn="",pn=/^https?$/i,vn=["POST","PUT"];function gn(e){return"content-type"==e.toLowerCase()}function yn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,mn(e),bn(e)}function mn(e){e.u||(e.u=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function _n(e){if(e.b&&void 0!==s&&(!e.s[1]||4!=Cn(e)||2!=e.X()))if(e.l&&4==Cn(e))je(e.za,0,e);else if(e.dispatchEvent("readystatechange"),4==Cn(e)){e.b=!1;try{var t,n=e.X();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(At)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!pn.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var l=2<Cn(e)?e.a.statusText:""}catch(c){l=""}e.f=l+" ["+e.X()+"]",mn(e)}}finally{bn(e)}}}function bn(e,t){if(e.a){wn(e);var n=e.a,r=e.s[0]?l:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function wn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(u.clearTimeout(e.m),e.m=null)}function Cn(e){return e.a?e.a.readyState:0}function kn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return R(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Mt(e,t,n))}function En(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Sn(e){this.pa=0,this.g=[],this.c=new We,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=En("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=En("baseRetryDelayMs",5e3,e),this.Ma=En("retryDelaySeedMs",1e4,e),this.Ja=En("forwardChannelMaxRetries",2,e),this.ma=En("forwardChannelRequestTimeoutMs",2e4,e),this.Ka=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new Jt(e&&e.concurrentRequestLimit),this.ka=new un,this.da=e&&e.fastHandshake||!1,this.Ga=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&e&&e.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function In(e){if(An(e),3==e.v){var t=e.R++,n=Ot(e.B);Mt(n,"SID",e.J),Mt(n,"RID",t),Mt(n,"TYPE","terminate"),Pn(e,n),(t=new ct(e,e.c,t,void 0)).H=2,t.i=Lt(Ot(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(t.i.toString(),"")),!n&&u.Image&&((new Image).src=t.i,n=!0),n||(t.a=zn(t.g,null),t.a.ba(t.i)),t.u=_(),mt(t)}Bn(e)}function Tn(e){e.a&&(Ln(e),e.a.cancel(),e.a=null)}function An(e){Tn(e),e.j&&(u.clearTimeout(e.j),e.j=null),jn(e),e.b.cancel(),e.h&&("number"==typeof e.h&&u.clearTimeout(e.h),e.h=null)}function Nn(e,t){e.g.push(new $t(e.La++,t)),3==e.v&&On(e)}function On(e){en(e.b)||e.h||(e.h=!0,Pe(e.Ba,e),e.u=0)}function xn(e,t){var n;n=t?t.f:e.R++;var r=Ot(e.B);Mt(r,"SID",e.J),Mt(r,"RID",n),Mt(r,"AID",e.P),Pn(e,r),e.i&&e.l&&kn(r,e.i,e.l),n=new ct(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Rn(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),rn(e.b,n),pt(n,r,t)}function Pn(e,t){e.f&&Et({},(function(e,n){Mt(t,n,e)}))}function Rn(e,t,n){n=Math.min(e.g.length,n);var r=e.f?y(e.f.Ha,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),s=!1;else try{ln(c,a,"req"+l+"_")}catch(h){r&&r(c)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Dn(e){e.a||e.j||(e.U=1,Pe(e.Aa,e),e.o=0)}function Mn(e){return!(e.a||e.j||3<=e.o||(e.U++,e.j=et(y(e.Aa,e),Vn(e,e.o)),e.o++,0))}function Ln(e){null!=e.s&&(u.clearTimeout(e.s),e.s=null)}function Fn(e){e.a=new ct(e,e.c,"rpc",e.U),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Ot(e.la);Mt(t,"RID","rpc"),Mt(t,"SID",e.J),Mt(t,"CI",e.H?"0":"1"),Mt(t,"AID",e.P),Pn(e,t),Mt(t,"TYPE","xmlhttp"),e.i&&e.l&&kn(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Lt(Ot(t)),n.j=null,n.I=!0,vt(n,e)}function jn(e){null!=e.m&&(u.clearTimeout(e.m),e.m=null)}function Un(e,t){var n=null;if(e.a==t){jn(e),Ln(e),e.a=null;var r=2}else{if(!nn(e.b,t))return;n=t.s,on(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=_()-t.u;var i=e.u;(r=Qe()).dispatchEvent(new Ze(r,n,t,i)),On(e)}else Dn(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(tn(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.Ia?0:e.Ja)||(e.h=et(y(e.Ba,e,t),Vn(e,e.u)),e.u++,0)))}(e,t)||2==r&&Mn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:qn(e,5);break;case 4:qn(e,10);break;case 3:qn(e,6);break;default:qn(e,2)}}function Vn(e,t){var n=e.Fa+Math.floor(Math.random()*e.Ma);return e.f||(n*=2),n*t}function qn(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=y(e.Xa,e);n||(n=new Nt("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||xt(n,"https"),Lt(n)),function(e,t){var n=new We;if(u.Image){var r=new Image;r.onload=m(cn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=m(cn,n,r,"TestLoadImage: error",!1,t),r.onabort=m(cn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=m(cn,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Je(2);e.v=0,e.f&&e.f.ra(t),Bn(e),An(e)}function Bn(e){e.v=0,e.I=-1,e.f&&(0==an(e.b).length&&0==e.g.length||(e.b.c.length=0,S(e.g),e.g.length=0),e.f.qa())}function Hn(e,t,n){var r=function(e){return e instanceof Nt?Ot(e):new Nt(e,void 0)}(n);if(""!=r.c)t&&Pt(r,t+"."+r.c),Rt(r,r.h);else{var i=u.location;r=function(e,t,n,r){var i=new Nt(null,void 0);return e&&xt(i,e),t&&Pt(i,t),n&&Rt(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.W&&R(e.W,(function(e,t){Mt(r,t,e)})),n=e.na,(t=e.A)&&n&&Mt(r,t,n),Mt(r,"VER",e.ha),Pn(e,r),r}function zn(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new fn(e.Ka)).F=e.C,t}function Wn(){}function Gn(){if(q&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Kn(e,t){ke.call(this),this.a=new Sn(t),this.l=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!I(e)&&(this.a.i=e),this.h=t&&t.supportsCrossDomainXhr||!1,this.g=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new Xn(this)}function Qn(e){st.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Yn(){ut.call(this),this.status=1}function Xn(e){this.a=e}(o=fn.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.H?this.H:ot),this.a.onreadystatechange=y(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void yn(this,o)}e=n||"";var i=new St(this.headers);r&&Et(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=gn,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=u.FormData&&e instanceof u.FormData,!(0<=C(vn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wn(this),0<this.o&&((this.D=function(e){return q&&$(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=y(this.xa,this)):this.m=je(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){yn(this,o)}},o.xa=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),bn(this,!0)),fn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?_n(this):this.Ta())},o.Ta=function(){_n(this)},o.X=function(){try{return 2<Cn(this)?this.a.status:-1}catch(U){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(U){return""}},o.Na=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),hn(t)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=Sn.prototype).ha=8,o.v=1,o.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new ct(this,this.c,e,void 0),r=this.l;if(this.O&&(r?L(r=D(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Rn(this,n,t),Mt(i=Ot(this.B),"RID",e),Mt(i,"CVER",22),this.A&&Mt(i,"X-HTTP-Session-Id",this.A),Pn(this,i),this.i&&r&&kn(i,this.i,r),rn(this.b,n),this.Ga&&Mt(i,"TYPE","init"),this.da?(Mt(i,"$req",t),Mt(i,"SID","null"),n.V=!0,pt(n,i,null)):pt(n,i,t),this.v=2}}else 3==this.v&&(e?xn(this,e):0==this.g.length||en(this.b)||xn(this))},o.Aa=function(){if(this.j=null,Fn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=et(y(this.Sa,this),e)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Tn(this),Fn(this))},o.Ra=function(){null!=this.m&&(this.m=null,Tn(this),Mn(this),Je(19))},o.Xa=function(e){e?(this.c.info("Successfully pinged google.com"),Je(2)):(this.c.info("Failed to ping google.com"),Je(1))},(o=Wn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Gn.prototype.a=function(e,t){return new Kn(e,t)},b(Kn,ke),(o=Kn.prototype).addEventListener=function(e,t,n,r){Kn.S.addEventListener.call(this,e,t,n,r)},o.removeEventListener=function(e,t,n,r){Kn.S.removeEventListener.call(this,e,t,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var e=this.a,t=this.l,n=this.b||void 0;Je(0),e.fa=t,e.W=n||{},e.H=e.T,e.B=Hn(e,null,e.fa),On(e)},o.close=function(){In(this.a)},o.Pa=function(e){if("string"==typeof e){var t={};t.__data__=e,Nn(this.a,t)}else this.g?((t={}).__data__=Se(e),Nn(this.a,t)):Nn(this.a,e)},o.G=function(){this.a.f=null,delete this.f,In(this.a),delete this.a,Kn.S.G.call(this)},b(Qn,st),b(Yn,ut),b(Xn,Wn),Xn.prototype.ta=function(){this.a.dispatchEvent("a")},Xn.prototype.sa=function(e){this.a.dispatchEvent(new Qn(e))},Xn.prototype.ra=function(e){this.a.dispatchEvent(new Yn(e))},Xn.prototype.qa=function(){this.a.dispatchEvent("b")},Gn.prototype.createWebChannel=Gn.prototype.a,Kn.prototype.send=Kn.prototype.Pa,Kn.prototype.open=Kn.prototype.Oa,Kn.prototype.close=Kn.prototype.close,tt.NO_ERROR=0,tt.TIMEOUT=8,tt.HTTP_ERROR=6,nt.COMPLETE="complete",it.EventType=at,at.OPEN="a",at.CLOSE="b",at.ERROR="c",at.MESSAGE="d",ke.prototype.listen=ke.prototype.va,fn.prototype.listenOnce=fn.prototype.wa,fn.prototype.getLastError=fn.prototype.Qa,fn.prototype.getLastErrorCode=fn.prototype.ua,fn.prototype.getStatus=fn.prototype.X,fn.prototype.getResponseJson=fn.prototype.Na,fn.prototype.getResponseText=fn.prototype.$,fn.prototype.send=fn.prototype.ba;var $n=function(){return new Gn},Jn=tt,Zn=nt,er=it,tr=fn;t.default={createWebChannelTransport:$n,ErrorCode:Jn,EventType:Zn,WebChannel:er,XhrIo:tr}},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function a(e){setTimeout((function(){throw e}))}var s={closed:!0,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function l(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);var h,f=c,d=((h=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var e,t=!1;if(!this.closed){var n=this._parent,i=this._parents,o=this._unsubscribe,a=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,c=i?i.length:0;n;)n.remove(this),n=++s<c&&i[s]||null;if(r(o))try{o.call(this)}catch(d){t=!0,e=d instanceof f?p(d.errors):[d]}if(u(a))for(s=-1,c=a.length;++s<c;){var h=a[s];if(l(h))try{h.unsubscribe()}catch(d){t=!0,e=e||[],d instanceof f?e=e.concat(p(d.errors)):e.push(d)}}if(t)throw new f(e)}}},{key:"add",value:function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},{key:"_addParent",value:function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new h),h);function p(e){return e.reduce((function(e,t){return e.concat(t instanceof f?t.errors:t)}),[])}var v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;switch(_classCallCheck(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s;break;case 1:if(!e){o.destination=s;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new y(_assertThisInitialized(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new y(_assertThisInitialized(o),e,r,i)}return o}return _createClass(n,[{key:v,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(d),y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var u,l;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var c=_assertThisInitialized(u);return r(i)?l=i:i&&(l=i.next,o=i.error,a=i.complete,i!==s&&(r((c=Object.create(i)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=c,u._next=l,u._error=o,u._complete=a,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(a(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(g),m="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(){}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w(t)}function w(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:_}var C,k=((C=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof g)return e;if(e[v])return e[v]()}return e||t||n?new g(e,t,n):new g(s)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof g?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=E(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:m,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:w(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=E(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new C(e)},C);function E(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}S.prototype=Object.create(Error.prototype);var I,T=S,A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(d),N=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return _createClass(n)}(g),O=((I=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:v,value:function(){return new N(this)}},{key:"lift",value:function(e){var t=new x(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new T;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new T;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new T;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new T;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new T;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new A(this,e))}},{key:"asObservable",value:function(){var e=new k;return e.source=this,e}}]),n}(k)).create=function(e,t){return new x(e,t)},I),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):d.EMPTY}}]),n}(O);function P(e){return e&&"function"==typeof e.schedule}var R=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(g),D=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},M=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,a),t}};var L="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",F=function(e){return function(t){for(var n=e[L]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}},j=function(e){return function(t){var n=e[m]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},U=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function V(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var q=function(e){if(e instanceof k)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[m])return j(e);if(U(e))return D(e);if(V(e))return M(e);if(e&&"function"==typeof e[L])return F(e);var t=l(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(t," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function B(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new R(e,n,r);if(!i.closed)return q(t)(i)}var H=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(g);function z(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new W(e,t))}}var W=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new G(e,this.project,this.thisArg))}}]),e}(),G=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(g);function K(e,t){return new k(t?function(n){var r=new d,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:D(e))}function Q(e,t){if(!t)return e instanceof k?e:new k(q(e));if(null!=e){if(function(e){return e&&"function"==typeof e[m]}(e))return function(e,t){return new k(t?function(n){var r=new d;return r.add(t.schedule((function(){var i=e[m]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}:j(e))}(e,t);if(V(e))return function(e,t){return new k(t?function(n){var r=new d;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}:M(e))}(e,t);if(U(e))return K(e,t);if(function(e){return e&&"function"==typeof e[L]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new k(t?function(n){var r,i=new d;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[L](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}:F(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(Y((function(n,r){return Q(e(n,r)).pipe(z((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new X(e,n))})}var X=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new $(e,this.project,this.concurrent))}}]),e}(),$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new R(this,void 0,void 0);this.destination.add(r),B(this,e,t,n,r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(H);function J(e){return e}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Y(J,e)}function ee(){return function(e){return e.lift(new te(e))}}var te=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new ne(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(g),re=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new oe(this.getSubject(),this))),e.closed?(this._connection=null,e=d.EMPTY):this._connection=e),e}},{key:"refCount",value:function(){return ee()(this)}}]),n}(k).prototype,ie={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:re._subscribe},_isComplete:{value:re._isComplete,writable:!0},getSubject:{value:re.getSubject},connect:{value:re.connect},refCount:{value:re.refCount}},oe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(N);function ae(){return new O}function se(e,t,n){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}var ue=se("Inject",(function(e){return{token:e}})),le=se("Optional"),ce=se("Self"),he=se("SkipSelf"),fe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function de(e){for(var t in e)if(e[t]===de)return t;throw Error("Could not find renamed property on target object.")}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}var ve=pe;function ge(e){var t=e[ye];return t&&t.token===e?t:null}var ye=de({ngInjectableDef:de});function me(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(me).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var _e=de({__forward_ref__:de});function be(e){return e.__forward_ref__=be,e.toString=function(){return me(this())},e}function we(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(_e)&&t.__forward_ref__===be?t():e}var Ce="undefined"!=typeof globalThis&&globalThis,ke="undefined"!=typeof window&&window,Ee="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Se="undefined"!=typeof global&&global,Ie=Ce||Se||ke||Ee,Te=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),Ae=new Te("INJECTOR",-1),Ne=new Object,Oe=/\n/gm,xe=de({provide:String,useValue:de}),Pe=void 0;function Re(e){var t=Pe;return Pe=e,t}function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe.Default;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe.Default;if(void 0===Pe)throw new Error("inject() must be called from an injection context");return null===Pe?function(e,t,n){var r=ge(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&fe.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(me(e),"]"))}(e,0,t):Pe.get(e,t&fe.Optional?null:void 0,t)}(e,t)}var Me=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;if(t===Ne){var n=new Error("NullInjectorError: No provider for ".concat(me(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}();function Le(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=me(t);if(t instanceof Array)i=t.map(me).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):me(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Oe,"\n  "))}var Fe=_createClass((function e(){_classCallCheck(this,e)})),je=_createClass((function e(){_classCallCheck(this,e)}));function Ue(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ve(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var qe=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Be=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ie);function He(e){return e.ngDebugContext}function ze(e){return e.ngOriginalError}function We(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Ge=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||We}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?He(e)?He(e):this._findContext(ze(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=ze(e);t&&ze(t);)t=ze(t);return t}}]),e}();function Ke(){return!0,!0}var Qe=function(){function e(t){if(_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),Ye=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Xe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $e(e){return(e=String(e)).match(Ye)||e.match(Xe)?e:(Ke()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Je(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Ze(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var et,tt=Je("area,br,col,hr,img,wbr"),nt=Je("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rt=Je("rp,rt"),it=Ze(rt,nt),ot=Ze(tt,Ze(nt,Je("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ze(rt,Je("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),it),at=Je("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),st=Je("srcset"),ut=Ze(at,st,Je("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Je("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lt=Je("script,style,template"),ct=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!ot.hasOwnProperty(t))return this.sanitizedSomething=!0,!lt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(ut.hasOwnProperty(s)){var u=o.value;at[s]&&(u=$e(u)),st[s]&&(n=u,u=(n=String(n)).split(",").map((function(e){return $e(e.trim())})).join(", ")),this.buf.push(" ",a,'="',dt(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();ot.hasOwnProperty(t)&&!tt.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(dt(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),ht=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ft=/([^\#-~ |!])/g;function dt(e){return e.replace(/&/g,"&amp;").replace(ht,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ft,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var vt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),gt=_createClass((function e(){_classCallCheck(this,e)})),yt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),mt=/^url\(([^)]+)\)$/;function _t(e){return"ng-reflect-"+e.replace(/[$@]/g,"_").replace(bt,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"-"+t[1].toLowerCase()}))}var bt=/([A-Z])/g;function wt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}var Ct=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.__NG_ELEMENT_ID__=function(){return kt()},e}(),kt=function(){},Et=new Te("The presence of this token marks an injector as being the root injector."),St=function(e,t,n){return new xt(e,t,n)},It=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?St(e,t,""):St(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Ne,e.NULL=new Me,e.ngInjectableDef=pe({token:e,providedIn:"any",factory:function(){return De(Ae)}}),e.__NG_ELEMENT_ID__=-1,e}(),Tt=function(e){return e},At=[],Nt=Tt,Ot=function(){return Array.prototype.slice.call(arguments)},xt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.parent=n,this.source=r;var i=this._records=new Map;i.set(It,{token:It,fn:Tt,deps:At,value:this,useNew:!1}),i.set(Ae,{token:Ae,fn:Tt,deps:At,value:this,useNew:!1}),function e(t,n){if(n)if((n=we(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Rt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Rt("Unexpected provider",n);var i=we(n.provide),o=function(e){var t=function(e){var t=At,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var i=6,o=we(n[r]);if(o instanceof Array)for(var a=0,s=o;a<s.length;a++){var u=s[a];u instanceof le||u==le?i|=1:u instanceof he||u==he?i&=-3:u instanceof ce||u==ce?i&=-5:o=u instanceof ue?u.token:we(u)}t.push({token:o,options:i})}}else if(e.useExisting)t=[{token:we(e.useExisting),options:6}];else if(!(n||xe in e))throw Rt("'deps' required",e);return t}(e),n=Tt,r=At,i=!1,o=we(e.provide);if(xe in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=we(e.useClass);else{if("function"!=typeof o)throw Rt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=t.get(i);if(a){if(a.fn!==Ot)throw Pt(i)}else t.set(i,a={token:n.provide,deps:[],useNew:!1,fn:Ot,value:At});i=n,a.deps.push({token:i,options:6})}var s=t.get(i);if(s&&s.fn==Ot)throw Pt(i);t.set(i,o)}}(i,t)}return _createClass(e,[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fe.Default,r=this._records.get(e);try{return function e(t,n,r,i,o,a){try{return function(t,n,r,i,o,a){var s;if(!n||a&fe.SkipSelf)a&fe.Self||(s=i.get(t,o,fe.Default));else{if((s=n.value)==Nt)throw Error("\u0275Circular dependency");if(s===At){n.value=Nt;var u=n.useNew,l=n.fn,c=n.deps,h=At;if(c.length){h=[];for(var f=0;f<c.length;f++){var d=c[f],p=d.options,v=2&p?r.get(d.token):void 0;h.push(e(d.token,v,r,v||4&p?i:It.NULL,1&p?null:It.THROW_IF_NOT_FOUND,fe.Default))}}n.value=s=u?_construct(l,_toConsumableArray(h)):l.apply(void 0,h)}}return s}(t,n,r,i,o,a)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(t),n&&n.value==Nt&&(n.value=At),s}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=Le("\n"+e.message,i,"StaticInjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(i,e,0,this.source)}}},{key:"toString",value:function(){var e=[];return this._records.forEach((function(t,n){return e.push(me(n))})),"StaticInjector[".concat(e.join(", "),"]")}}]),e}();function Pt(e){return Rt("Cannot mix multi providers and regular providers",e)}function Rt(e,t){return new Error(Le(e,t,"StaticInjectorError"))}var Dt=new Te("AnalyzeForEntryComponents"),Mt=null;function Lt(){if(!Mt){var e=Ie.Symbol;if(e&&e.iterator)Mt=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Mt=r)}}return Mt}function Ft(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function jt(e,t){var n=Vt(e),r=Vt(t);return n&&r?function(e,t,n){for(var r=e[Lt()](),i=t[Lt()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(e,t,jt):!(n||!(e&&("object"==typeof e||"function"==typeof e))||r||!(t&&("object"==typeof t||"function"==typeof t)))||Ft(e,t)}var Ut=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Vt(e){return!!qt(e)&&(Array.isArray(e)||!(e instanceof Map)&&Lt()in e)}function qt(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Bt(e){return!!e&&"function"==typeof e.then}function Ht(e){return!!e&&"function"==typeof e.subscribe}var zt=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}(),Wt=_createClass((function e(){_classCallCheck(this,e)}));function Gt(e){var t=Error("No component factory found for ".concat(me(e),". Did you add it to @NgModule.entryComponents?"));return t[Kt]=e,t}var Kt="ngComponent",Qt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw Gt(e)}}]),e}(),Yt=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.NULL=new Qt,e}(),Xt=function(){function e(t,n,r){_classCallCheck(this,e),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<t.length;i++){var o=t[i];this._factories.set(o.componentType,o)}}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Gt(e);return new $t(t,this._ngModule)}}]),e}(),$t=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).factory=e,i.ngModule=r,i.selector=e.selector,i.componentType=e.componentType,i.ngContentSelectors=e.ngContentSelectors,i.inputs=e.inputs,i.outputs=e.outputs,i}return _createClass(n,[{key:"create",value:function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}]),n}(Wt);function Jt(){}var Zt=function(){var e=_createClass((function e(t){_classCallCheck(this,e),this.nativeElement=t}));return e.__NG_ELEMENT_ID__=function(){return en(e)},e}(),en=Jt,tn=_createClass((function e(){_classCallCheck(this,e)})),nn=_createClass((function e(){_classCallCheck(this,e)})),rn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),on=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.__NG_ELEMENT_ID__=function(){return an()},e}(),an=Jt,sn=_createClass((function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")})),un=new sn("8.2.14"),ln=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Vt(e)}},{key:"create",value:function(e){return new hn(e)}}]),e}(),cn=function(e,t){return t},hn=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||cn}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<vn(n,r,i)?t:n,a=vn(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Vt(e))throw new Error("Error trying to diff '".concat(me(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Ft(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Ft(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Lt()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Ft(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Ft(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ft(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ft(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new fn(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new pn),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),fn=_createClass((function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null})),dn=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Ft(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),pn=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new dn,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function vn(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var gn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||qt(e)}},{key:"create",value:function(){return new yn}}]),e}(),yn=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||qt(e)))throw new Error("Error trying to diff '".concat(me(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new mn(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Ft(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}}]),e}(),mn=_createClass((function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null})),_n=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new he,new le]]}}}]),e}();return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:function(){return new e([new ln])}}),e}(),bn=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new he,new le]]}}}]),e}();return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:function(){return new e([new gn])}}),e}(),wn=[new gn],Cn=new _n([new ln]),kn=new bn(wn),En=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.__NG_ELEMENT_ID__=function(){return Sn(e,Zt)},e}(),Sn=Jt,In=function(){var e=_createClass((function e(){_classCallCheck(this,e)}));return e.__NG_ELEMENT_ID__=function(){return Tn(e,Zt)},e}(),Tn=Jt;function An(e,t,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(t,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return Nn(n,t),n}(i,e)}function Nn(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function On(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}function xn(e,t,n){var r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Pn(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Rn(e,t){return e.nodes[t]}function Dn(e,t){return e.nodes[t]}function Mn(e,t){return e.nodes[t]}function Ln(e,t){return e.nodes[t]}function Fn(e,t){return e.nodes[t]}var jn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Un=function(){},Vn=new Map;function qn(e){var t=Vn.get(e);return t||(t=me(e)+"_"+Vn.size,Vn.set(e,t)),t}function Bn(e,t,n,r){if(Ut.isWrapped(r)){r=Ut.unwrap(r);var i=e.def.nodes[t].bindingIndex+n,o=Ut.unwrap(e.oldValues[i]);e.oldValues[i]=new Ut(o)}return r}function Hn(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var zn=0;function Wn(e,t,n,r){return!(!(2&e.state)&&Ft(e.oldValues[t.bindingIndex+n],r))}function Gn(e,t,n,r){return!!Wn(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function Kn(e,t,n,r){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!jt(i,r)){var o=t.bindings[n].name;throw An(jn.createDebugContext(e,t.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&e.state))}}function Qn(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Yn(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Xn(e,t,n,r){try{return Qn(33554432&e.def.nodes[t].flags?Dn(e,t).componentView:e),jn.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function $n(e){return e.parent?Dn(e.parent,e.parentNodeDef.nodeIndex):null}function Jn(e){return e.parent?e.parentNodeDef.parent:null}function Zn(e,t){switch(201347067&t.flags){case 1:return Dn(e,t.nodeIndex).renderElement;case 2:return Rn(e,t.nodeIndex).renderText}}function er(e,t){return e?"".concat(e,":").concat(t):t}function tr(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function nr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function rr(e){return 1<<e%32}function ir(e){var t={},n=0,r={};return e&&e.forEach((function(e){var i=_slicedToArray(e,2),o=i[0],a=i[1];"number"==typeof o?(t[o]=a,n|=rr(o)):r[o]=a})),{matchedQueries:t,references:r,matchedQueryIds:n}}function or(e,t){return e.map((function(e){var n,r,i;return Array.isArray(e)?(i=(n=_slicedToArray(e,2))[0],r=n[1]):(i=0,r=e),r&&("function"==typeof r||"object"==typeof r)&&t&&Object.defineProperty(r,"__source",{value:t,configurable:!0}),{flags:i,token:r,tokenKey:qn(r)}}))}function ar(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===qe.Native?Dn(e,n.renderParent.nodeIndex).renderElement:void 0:t}var sr=new WeakMap;function ur(e){var t=sr.get(e);return t||((t=e((function(){return Un}))).factory=e,sr.set(e,t)),t}function lr(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Zn(e,e.def.lastRenderRootNode))),cr(e,t,0,e.def.nodes.length-1,n,r,i)}function cr(e,t,n,r,i,o,a){for(var s=n;s<=r;s++){var u=e.def.nodes[s];11&u.flags&&fr(e,u,t,i,o,a),s+=u.childCount}}function hr(e,t,n,r,i,o){for(var a=e;a&&!tr(a);)a=a.parent;for(var s=a.parent,u=Jn(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===t&&fr(s,h,n,r,i,o),c+=h.childCount}if(!s.parent){var f=e.root.projectableNodes[t];if(f)for(var d=0;d<f.length;d++)dr(e,f[d],n,r,i,o)}}function fr(e,t,n,r,i,o){if(8&t.flags)hr(e,t.ngContent.index,n,r,i,o);else{var a=Zn(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&dr(e,a,n,r,i,o),32&t.bindingFlags&&dr(Dn(e,t.nodeIndex).componentView,a,n,r,i,o)):dr(e,a,n,r,i,o),16777216&t.flags)for(var s=Dn(e,t.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)lr(s[u],n,r,i,o);1&t.flags&&!t.element.name&&cr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function dr(e,t,n,r,i,o){var a=e.renderer;switch(n){case 1:a.appendChild(r,t);break;case 2:a.insertBefore(r,t,i);break;case 3:a.removeChild(r,t);break;case 0:o.push(t)}}var pr=/^:([^:]+):(.+)$/;function vr(e){if(":"===e[0]){var t=e.match(pr);return[t[1],t[2]]}return["",e]}function gr(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function yr(e,t,n,r,i,o,a,s,u,l,c,h,f,d,p,v,g,y,m,_){switch(e){case 1:return t+mr(n)+r;case 2:return t+mr(n)+r+mr(i)+o;case 3:return t+mr(n)+r+mr(i)+o+mr(a)+s;case 4:return t+mr(n)+r+mr(i)+o+mr(a)+s+mr(u)+l;case 5:return t+mr(n)+r+mr(i)+o+mr(a)+s+mr(u)+l+mr(c)+h;case 6:return t+mr(n)+r+mr(i)+o+mr(a)+s+mr(u)+l+mr(c)+h+mr(f)+d;case 7:return t+mr(n)+r+mr(i)+o+mr(a)+s+mr(u)+l+mr(c)+h+mr(f)+d+mr(p)+v;case 8:return t+mr(n)+r+mr(i)+o+mr(a)+s+mr(u)+l+mr(c)+h+mr(f)+d+mr(p)+v+mr(g)+y;case 9:return t+mr(n)+r+mr(i)+o+mr(a)+s+mr(u)+l+mr(c)+h+mr(f)+d+mr(p)+v+mr(g)+y+mr(m)+_;default:throw new Error("Does not support more than 9 expressions")}}function mr(e){return null!=e?e.toString():""}var _r=new Object,br=qn(It),wr=qn(Ae),Cr=qn(Fe);function kr(e,t,n,r){return n=we(n),{index:-1,deps:or(r,me(t)),flags:e,token:t,value:n}}function Er(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:It.THROW_IF_NOT_FOUND,o=Re(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(i=null),1&t.flags)return e._parent.get(t.token,i);var a=t.tokenKey;switch(a){case br:case wr:case Cr:return e}var s,u=e._def.providersByKey[a];if(u){var l=e._providers[u.index];return void 0===l&&(l=e._providers[u.index]=Sr(e,u)),l===_r?void 0:l}if((s=ge(t.token))&&(n=e,null!=(r=s).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var c=e._providers.length;return e._def.providers[c]=e._def.providersByKey[t.tokenKey]={flags:5120,value:s.factory,deps:[],index:c,token:t.token},e._providers[c]=_r,e._providers[c]=Sr(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?i:e._parent.get(t.token,i)}finally{Re(o)}}function Sr(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Er(e,n[0]));case 2:return new t(Er(e,n[0]),Er(e,n[1]));case 3:return new t(Er(e,n[0]),Er(e,n[1]),Er(e,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Er(e,n[o]);return _construct(t,i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Er(e,n[0]));case 2:return t(Er(e,n[0]),Er(e,n[1]));case 3:return t(Er(e,n[0]),Er(e,n[1]),Er(e,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Er(e,n[o]);return t.apply(void 0,i)}}(e,t.value,t.deps);break;case 2048:n=Er(e,t.deps[0]);break;case 256:n=t.value}return n===_r||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?_r:n}function Ir(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,Ve(n,t),jn.dirtyParentQueries(r),Ar(r),r}function Tr(e,t,n){var r=t?Zn(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);lr(n,2,i,o,void 0)}function Ar(e){lr(e,3,null,null,void 0)}var Nr=new Object;function Or(e,t,n,r,i,o){return new xr(e,t,n,r,i,o)}var xr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var u;return _classCallCheck(this,n),(u=t.call(this)).selector=e,u.componentType=r,u._inputs=o,u._outputs=a,u.ngContentSelectors=s,u.viewDefFactory=i,u}return _createClass(n,[{key:"inputs",get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e}},{key:"outputs",get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}},{key:"create",value:function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var i=ur(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=jn.createRootView(e,t||[],n,i,r,Nr),s=Mn(a,o).instance;return n&&a.renderer.setAttribute(Dn(a,0).renderElement,"ng-version",un.full),new Pr(a,new Lr(a),s)}}]),n}(Wt),Pr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._view=e,o._viewRef=r,o._component=i,o._elDef=o._view.def.nodes[0],o.hostView=r,o.changeDetectorRef=r,o.instance=i,o}return _createClass(n,[{key:"location",get:function(){return new Zt(Dn(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new Vr(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}},{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(e){this._viewRef.onDestroy(e)}}]),n}(function(){return _createClass((function e(){_classCallCheck(this,e)}))}());function Rr(e,t,n){return new Dr(e,t,n)}var Dr=function(){function e(t,n,r){_classCallCheck(this,e),this._view=t,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(e,[{key:"element",get:function(){return new Zt(this._data.renderElement)}},{key:"injector",get:function(){return new Vr(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=Jn(e),e=e.parent;return e?new Vr(e,t):new Vr(this._view,null)}},{key:"clear",value:function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Ir(this._data,e);jn.destroyView(t)}}},{key:"get",value:function(e){var t=this._embeddedViews[e];if(t){var n=new Lr(t);return n.attachToViewContainerRef(this),n}return null}},{key:"length",get:function(){return this._embeddedViews.length}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;i||e instanceof $t||(i=o.get(Fe));var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a,s=e;return n=this._view,r=this._data,i=t,o=s._view,a=r.viewContainer._embeddedViews,null==i&&(i=a.length),o.viewContainerParent=n,Ue(a,i,o),function(e,t){var n=$n(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}(t.parent.def,t.parentNodeDef)}}(r,o),jn.dirtyParentQueries(o),Tr(r,i>0?a[i-1]:null,o),s.attachToViewContainerRef(this),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(e._view);return n=this._data,r=s,i=t,o=n.viewContainer._embeddedViews,a=o[r],Ve(o,r),null==i&&(i=o.length),Ue(o,i,a),jn.dirtyParentQueries(a),Ar(a),Tr(n,i>0?o[i-1]:null,a),e}},{key:"indexOf",value:function(e){return this._embeddedViews.indexOf(e._view)}},{key:"remove",value:function(e){var t=Ir(this._data,e);t&&jn.destroyView(t)}},{key:"detach",value:function(e){var t=Ir(this._data,e);return t?new Lr(t):null}}]),e}();function Mr(e){return new Lr(e)}var Lr=function(){function e(t){_classCallCheck(this,e),this._view=t,this._viewContainerRef=null,this._appRef=null}return _createClass(e,[{key:"rootNodes",get:function(){return lr(this._view,0,void 0,void 0,e=[]),e;var e}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}},{key:"markForCheck",value:function(){Qn(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{jn.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}},{key:"checkNoChanges",value:function(){jn.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),jn.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Ar(this._view),jn.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}]),e}();function Fr(e,t){return new jr(e,t)}var jr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._parentView=e,i._def=r,i}return _createClass(n,[{key:"createEmbeddedView",value:function(e){return new Lr(jn.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}},{key:"elementRef",get:function(){return new Zt(Dn(this._parentView,this._def.nodeIndex).renderElement)}}]),n}(En);function Ur(e,t){return new Vr(e,t)}var Vr=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.elDef=n}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It.THROW_IF_NOT_FOUND;return jn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:qn(e)},t)}}]),e}();function qr(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=Dn(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Rn(e,n.nodeIndex).renderText;if(20240&n.flags)return Mn(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function Br(e){return new Hr(e.renderer)}var Hr=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"selectRootElement",value:function(e){return this.delegate.selectRootElement(e)}},{key:"createElement",value:function(e,t){var n=_slicedToArray(vr(t),2),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return e&&this.delegate.appendChild(e,o),o}},{key:"createViewRoot",value:function(e){return e}},{key:"createTemplateAnchor",value:function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}},{key:"createText",value:function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}},{key:"projectNodes",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}},{key:"attachViewAfter",value:function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}},{key:"detachView",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"listenGlobal",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"setElementProperty",value:function(e,t,n){this.delegate.setProperty(e,t,n)}},{key:"setElementAttribute",value:function(e,t,n){var r=_slicedToArray(vr(t),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(e,o,n,i):this.delegate.removeAttribute(e,o,i)}},{key:"setBindingDebugInfo",value:function(e,t,n){}},{key:"setElementClass",value:function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}},{key:"setElementStyle",value:function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"setText",value:function(e,t){this.delegate.setValue(e,t)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),e}();function zr(e,t,n,r){return new Wr(e,t,n,r)}var Wr=function(){function e(t,n,r,i){_classCallCheck(this,e),this._moduleType=t,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Sr(e,i))}}(this)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fe.Default,r=0;return n&fe.SkipSelf?r|=1:n&fe.Self&&(r|=4),Er(this,{token:e,tokenKey:qn(e),flags:r},t)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(Yt)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(me(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=e._providers[i];if(o&&o!==_r){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(e){return e()}))}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}}]),e}(),Gr=qn(tn),Kr=qn(on),Qr=qn(Zt),Yr=qn(In),Xr=qn(En),$r=qn(Ct),Jr=qn(It),Zr=qn(Ae);function ei(e,t,n,r,i,o,a,s){var u=[];if(a)for(var l in a){var c=_slicedToArray(a[l],2),h=c[0],f=c[1];u[h]={flags:8,name:l,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(s)for(var p in s)d.push({type:1,propName:p,target:null,eventName:s[p]});return ri(e,t|=16384,n,r,i,i,o,u,d)}function ti(e,t,n){return ri(-1,e|=16,null,0,t,t,n)}function ni(e,t,n,r,i){return ri(-1,e,t,0,n,r,i)}function ri(e,t,n,r,i,o,a,s,u){var l=ir(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=we(o);var d=or(a,me(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:gr(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function ii(e,t){return ui(e,t)}function oi(e,t){for(var n=e;n.parent&&!tr(n);)n=n.parent;return li(n.parent,Jn(n),!0,t.provider.value,t.provider.deps)}function ai(e,t){var n=li(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],o=n[i.propName];if(!Ht(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var a=o.subscribe(si(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=a.unsubscribe.bind(a)}return n}function si(e,t,n){return function(r){return Xn(e,t,n,r)}}function ui(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return li(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(hi(e,t,n,i[0]));case 2:return r(hi(e,t,n,i[0]),hi(e,t,n,i[1]));case 3:return r(hi(e,t,n,i[0]),hi(e,t,n,i[1]),hi(e,t,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=hi(e,t,n,i[s]);return r.apply(void 0,a)}}(e,t.parent,n,r.value,r.deps);case 2048:return hi(e,t.parent,n,r.deps[0]);case 256:return r.value}}function li(e,t,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(hi(e,t,n,i[0]));case 2:return new r(hi(e,t,n,i[0]),hi(e,t,n,i[1]));case 3:return new r(hi(e,t,n,i[0]),hi(e,t,n,i[1]),hi(e,t,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=hi(e,t,n,i[s]);return _construct(r,a)}}var ci={};function hi(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:It.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var o=e;2&r.flags&&(i=null);var a=r.tokenKey;a===$r&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var s=e;s;){if(t)switch(a){case Gr:return Br(fi(s,t,n));case Kr:return fi(s,t,n).renderer;case Qr:return new Zt(Dn(s,t.nodeIndex).renderElement);case Yr:return Dn(s,t.nodeIndex).viewContainer;case Xr:if(t.element.template)return Dn(s,t.nodeIndex).template;break;case $r:return Mr(fi(s,t,n));case Jr:case Zr:return Ur(s,t);default:var u=(n?t.element.allProviders:t.element.publicProviders)[a];if(u){var l=Mn(s,u.nodeIndex);return l||(l={instance:ui(s,u)},s.nodes[u.nodeIndex]=l),l.instance}}n=tr(s),t=Jn(s),s=s.parent,4&r.flags&&(s=null)}var c=o.root.injector.get(r.token,ci);return c!==ci||i===ci?c:o.root.ngModule.injector.get(r.token,i)}function fi(e,t,n){var r;if(n)r=Dn(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!tr(r);)r=r.parent;return r}function di(e,t,n,r,i,o){if(32768&n.flags){var a=Dn(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=Ut.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new zt(s,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function pi(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&t&&gi(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(r=vi(e,a,t,r)),a=a.parent}}function vi(e,t,n,r){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var o=e.def.nodes[i];o.flags&n&&gi(e,i,o.flags&n,r++),i+=o.childCount}return r}function gi(e,t,n,r){var i=Mn(e,t);if(i){var o=i.instance;o&&(jn.setCurrentNode(e,t),1048576&n&&Pn(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Pn(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var yi=new Te("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Be}}),mi={},_i=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),bi=void 0,wi=["en",[["a","p"],["AM","PM"],bi],[["AM","PM"],bi,bi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bi,"{1} 'at' {0}",bi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function Ci(e){var t=e.toLowerCase().replace(/_/g,"-"),n=mi[t];if(n)return n;var r=t.split("-")[0];if(n=mi[r])return n;if("en"===r)return wi;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}var ki=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var i,o=function(e){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,i,o,a);return e instanceof d&&e.add(s),s}}]),n}(O);function Ei(){return this._results[Lt()]()}var Si=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new ki,this.length=0;var t=Lt(),n=e.prototype;n[t]||(n[t]=Ei)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Ii=new Te("Application Initializer"),Ti=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Bt(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}(),Ai=new Te("AppId");function Ni(){return"".concat(Oi()).concat(Oi()).concat(Oi())}function Oi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var xi=new Te("Platform Initializer"),Pi=new Te("Platform ID"),Ri=new Te("appBootstrapListener"),Di=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}(),Mi=new Te("LocaleId");function Li(){throw new Error("Runtime compiler is not loaded")}var Fi,ji,Ui=Li,Vi=Li,qi=Li,Bi=Li,Hi=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Ui,this.compileModuleAsync=Vi,this.compileModuleAndAllComponentsSync=qi,this.compileModuleAndAllComponentsAsync=Bi}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}(),zi=_createClass((function e(){_classCallCheck(this,e)}));var Wi,Gi=!(!(Wi=Ie.wtf)||(Fi=Wi.trace,!Fi)||(ji=Fi.events,0));function Ki(e,t){return null}var Qi=Gi?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ji.createScope(e,t)}:function(e,t){return Ki},Yi=Gi?function(e,t){return Fi.leaveScope(e,t),t}:function(e,t){return t},Xi=Promise.resolve(0);function $i(e){"undefined"==typeof Zone?Xi.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Ji=function(){function e(t){var n,r=t.enableLongStackTrace,i=void 0!==r&&r;if(_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ki(!1),this.onMicrotaskEmpty=new ki(!1),this.onStable=new ki(!1),this.onError=new ki(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,r,i,o,a){try{return no(n),e.invokeTask(r,i,o,a)}finally{ro(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return no(n),e.invoke(r,i,o,a,s)}finally{ro(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,to(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,eo,Zi,Zi);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Zi(){}var eo={};function to(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function no(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ro(e){e._nesting--,to(e)}var io,oo=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ki,this.onMicrotaskEmpty=new ki,this.onStable=new ki,this.onError=new ki}return _createClass(e,[{key:"run",value:function(e){return e()}},{key:"runGuarded",value:function(e){return e()}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e){return e()}}]),e}(),ao=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Ji.assertNotInAngularZone(),$i((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())$i((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}(),so=function(){function e(){_classCallCheck(this,e),this._applications=new Map,uo.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return uo.findTestabilityInTree(this,e,t)}}]),e}(),uo=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),lo=new Te("AllowMultipleToken"),co=_createClass((function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n}));function ho(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new Te(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=fo();if(!o||o.injector.get(lo,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(io&&!io.destroyed&&!io.injector.get(lo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");io=e.get(po);var t=e.get(xi,null);t&&t.forEach((function(e){return e()}))}(It.create({providers:a,name:r}))}return function(e){var t=fo();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function fo(){return io&&!io.destroyed?io:null}var po=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r=this,i="noop"===(n=t?t.ngZone:void 0)?new oo:("zone.js"===n?void 0:n)||new Ji({enableLongStackTrace:Ke()}),o=[{provide:Ji,useValue:i}];return i.run((function(){var t=It.create({providers:o,parent:r.injector,name:e.moduleType.name}),n=e.create(t),a=n.injector.get(Ge,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return mo(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(e){a.handleError(e)}})})),function(e,t,i){try{var o=((a=n.injector.get(Ti)).runInitializers(),a.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return Bt(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(a,i)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=vo({},n);return function(e,t,n){return e.get(zi).createCompiler([t]).compileModuleAsync(n)}(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(yo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(me(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function vo(e,t){return Array.isArray(t)?t.reduce(vo,e):Object.assign({},e,t)}var go,yo=((go=function(){function e(t,n,r,i,o,a){var s=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ke(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var u=new k((function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){e.next(s._stable),e.complete()}))})),l=new k((function(e){var t;s._zone.runOutsideAngular((function(){t=s._zone.onStable.subscribe((function(){Ji.assertNotInAngularZone(),$i((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){Ji.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return P(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof k?t[0]:Z(r)(K(t,i))}(u,l.pipe((function(e){return ee()((t=ae,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,ie);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Wt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n instanceof $t?null:this._injector.get(Fe),o=n.create(It.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(ao,null);return a&&o.injector.get(so).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Ke()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0;var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.detectChanges()}catch(s){i.e(s)}finally{i.f()}if(this._enforceNoNewChanges){var o,a=_createForOfIteratorHelper(this._views);try{for(a.s();!(o=a.n()).done;)o.value.checkNoChanges()}catch(s){a.e(s)}finally{a.f()}}}catch(u){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(u)}))}finally{this._runningTick=!1,Yi(n)}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;mo(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ri,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),mo(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}())._tickScope=Qi("ApplicationRef#tick()"),go);function mo(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var _o=_createClass((function e(){_classCallCheck(this,e)})),bo=_createClass((function e(){_classCallCheck(this,e)})),wo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Co=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||wo}return _createClass(e,[{key:"load",value:function(e){return this._compiler instanceof Hi?this.loadFactory(e):this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return ko(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return ko(e,r,i)}))}}]),e}();function ko(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Eo=_createClass((function e(t,n){_classCallCheck(this,e),this.name=t,this.callback=n})),So=function(){function e(t,n,r){_classCallCheck(this,e),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=t,n&&n instanceof Io&&n.addChild(this)}return _createClass(e,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),e}(),Io=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,i)).properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return _createClass(n,[{key:"addChild",value:function(e){e&&(this.childNodes.push(e),e.parent=this)}},{key:"removeChild",value:function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}},{key:"insertChildrenAfter",value:function(e,t){var n,r=this,i=this.childNodes.indexOf(e);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray(t))),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=r})))}},{key:"insertBefore",value:function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}},{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var t=[];return function e(t,r,i){t.childNodes.forEach((function(t){t instanceof n&&(r(t)&&i.push(t),e(t,r,i))}))}(this,e,t),t}},{key:"queryAllNodes",value:function(e){var t=[];return function e(t,r,i){t instanceof n&&t.childNodes.forEach((function(t){r(t)&&i.push(t),t instanceof n&&e(t,r,i)}))}(this,e,t),t}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e instanceof n}))}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name==e&&n.callback(t)}))}}]),n}(So),To=new Map,Ao=function(e){return To.get(e)||null};function No(e){To.set(e.nativeNode,e)}var Oo=ho(null,"core",[{provide:Pi,useValue:"unknown"},{provide:po,deps:[It]},{provide:so,deps:[]},{provide:Di,deps:[]}]);function xo(){return Cn}function Po(){return kn}function Ro(e){return e||"en-US"}function Do(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}var Mo=_createClass((function e(t){_classCallCheck(this,e)}));function Lo(e,t,n,r,i,o){e|=1;var a=ir(t),s=a.matchedQueries,u=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?ur(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Un},provider:null,text:null,query:null,ngContent:null}}function Fo(e,t,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;c||(c=Un);var d=ir(n),p=d.matchedQueries,v=d.references,g=d.matchedQueryIds,y=null,m=null;o&&(y=(a=_slicedToArray(vr(o),2))[0],m=a[1]),u=u||[];for(var _=new Array(u.length),b=0;b<u.length;b++){var w=_slicedToArray(u[b],3),C=w[0],k=w[1],E=w[2],S=vr(k),I=_slicedToArray(S,2),T=I[0],A=I[1],N=void 0,O=void 0;switch(15&C){case 4:O=E;break;case 1:case 8:N=E}_[b]={flags:C,ns:T,name:A,nonMinifiedName:A,securityContext:N,suffix:O}}l=l||[];for(var x=new Array(l.length),P=0;P<l.length;P++){var R=_slicedToArray(l[P],2),D=R[0],M=R[1];x[P]={type:0,target:D,eventName:M,propName:null}}var L=(s=s||[]).map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=_slicedToArray(vr(n),2);return[i[0],i[1],r]}));return f=function(e){if(e&&"$$undefined"===e.id){var t=null!=e.encapsulation&&e.encapsulation!==qe.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+zn++:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(f),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:g,references:v,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:gr(_),outputs:x,element:{ns:y,name:m,attrs:L,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||Un},provider:null,text:null,query:null,ngContent:null}}function jo(e,t,n){var r,i=n.element,o=e.root.selectorOrNode,a=e.renderer;if(e.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=ar(e,t,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===qe.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=_slicedToArray(i.attrs[u],3),c=l[0],h=l[1],f=l[2];a.setAttribute(r,h,f,c)}return r}function Uo(e,t,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Vo(e,n.nodeIndex,er(o.target,o.eventName)),s=o.target,u=e;"component"===o.target&&(s=null,u=t);var l=u.renderer.listen(s||r,o.eventName,a);e.disposables[n.outputIndex+i]=l}}function Vo(e,t,n){return function(r){return Xn(e,t,n,r)}}function qo(e,t,n,r){if(!Gn(e,t,n,r))return!1;var i=t.bindings[n],o=Dn(e,t.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){var a=t.securityContext,s=a?e.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=e.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(e,i,a,i.ns,s,r);break;case 2:!function(e,t,n,r){var i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,a,s,r);break;case 4:!function(e,t,n,r,i){var o=e.root.sanitizer.sanitize(vt.STYLE,i);if(null!=o){o=o.toString();var a=t.suffix;null!=a&&(o+=a)}else o=null;var s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,a,s,r);break;case 8:!function(e,t,n,r,i){var o=t.securityContext,a=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,a)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,a,s,r)}return!0}function Bo(e,t,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:rr(t),bindings:r},ngContent:null}}function Ho(e){for(var t=e.def.nodeMatchedQueries;e.parent&&nr(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var o=e.def.nodes[i];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&Fn(e,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&e.def.nodeFlags)for(var a=0;a<e.def.nodes.length;a++){var s=e.def.nodes[a];134217728&s.flags&&536870912&s.flags&&Fn(e,a).setDirty(),a+=s.childCount}}function zo(e,t){var n=Fn(e,t.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&t.flags){var o=t.parent.parent;i=Wo(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),r=Mn(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Wo(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);for(var a=t.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function Wo(e,t,n,r,i){for(var o=t;o<=n;o++){var a=e.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(Go(e,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Dn(e,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Wo(e,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=$n(h);f&&f===u&&Wo(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(var p=0;p<d.length;p++){var v=d[p];Wo(v,0,v.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function Go(e,t,n){if(null!=n)switch(n){case 1:return Dn(e,t.nodeIndex).renderElement;case 0:return new Zt(Dn(e,t.nodeIndex).renderElement);case 2:return Dn(e,t.nodeIndex).template;case 3:return Dn(e,t.nodeIndex).viewContainer;case 4:return Mn(e,t.nodeIndex).instance}}function Ko(e,t,n){var r=ar(e,t,n);r&&hr(e,n.ngContent.index,1,r,null,void 0)}function Qo(e,t){return $o(128,e,new Array(t+1))}function Yo(e,t){return $o(32,e,new Array(t))}function Xo(e,t){for(var n=Object.keys(t),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[t[a]]=a}return $o(64,e,i)}function $o(e,t,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:gr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Jo(e,t,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Zo(e,t,n){var r,i=e.renderer;r=i.createText(n.text.prefix);var o=ar(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function ea(e,t){return(null!=e?e.toString():"")+t.suffix}function ta(e,t,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,f=!1,d=null,p=0;p<t.length;p++){var v=t[p];if(v.nodeIndex=p,v.parent=l,v.bindingIndex=i,v.outputIndex=o,v.renderParent=c,a|=v.flags,u|=v.matchedQueryIds,v.element){var g=v.element;g.publicProviders=l?l.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,f=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(ra(l,v,t.length),i+=v.bindings.length,o+=v.outputs.length,!c&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var y=0!=(32768&v.flags);0==(8192&v.flags)||y?l.element.publicProviders[qn(v.provider.token)]=v:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[qn(v.provider.token)]=v),y&&(l.element.componentProvider=v)}if(l?(l.childFlags|=v.flags,l.directChildFlags|=v.flags,l.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(l.childMatchedQueries|=v.element.template.nodeMatchedQueries)):s|=v.flags,v.childCount>0)l=v,na(v)||(c=v);else for(;l&&p===l.nodeIndex+l.childCount;){var m=l.parent;m&&(m.childFlags|=l.childFlags,m.childMatchedQueries|=l.childMatchedQueries),c=(l=m)&&na(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||Un,updateRenderer:r||Un,handleEvent:function(e,n,r,i){return t[n].element.handleEvent(e,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function na(e){return 0!=(1&e.flags)&&null===e.element.name}function ra(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(t.nodeIndex,"!"))}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(t.nodeIndex,"!"));if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(t.nodeIndex,"!"));if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(t.nodeIndex,"!"))}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(t.nodeIndex,"!"))}}function ia(e,t,n,r){var i=sa(e.root,e.renderer,e,t,n);return ua(i,e.component,r),la(i),i}function oa(e,t,n){var r=sa(e,e.renderer,null,null,t);return ua(r,n,n),la(r),r}function aa(e,t,n,r){var i,o=t.element.componentRendererType;return i=o?e.root.rendererFactory.createRenderer(r,o):e.root.renderer,sa(e.root,i,e,t.element.componentProvider,n)}function sa(e,t,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function ua(e,t,n){e.component=t,e.context=n}function la(e){var t;tr(e)&&(t=Dn(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],a=void 0;switch(jn.setCurrentNode(e,i),201347067&o.flags){case 1:var s=jo(e,t,o),u=void 0;if(33554432&o.flags){var l=ur(o.element.componentView);u=jn.createComponentView(e,o,l,s)}Uo(e,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?Fr(e,o):void 0},16777216&o.flags&&(a.viewContainer=Rr(e,o,a));break;case 2:a=Zo(e,t,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:ii(e,o)});break;case 16:a={instance:oi(e,o)};break;case 16384:(a=r[i])||(a={instance:ai(e,o)}),32768&o.flags&&ua(Dn(e,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Si;break;case 8:Ko(e,t,o),a=void 0}r[i]=a}ma(e,ya.CreateViewNodes),Ca(e,201326592,268435456,0)}function ca(e){da(e),jn.updateDirectives(e,1),_a(e,ya.CheckNoChanges),jn.updateRenderer(e,1),ma(e,ya.CheckNoChanges),e.state&=-97}function ha(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,xn(e,0,256),da(e),jn.updateDirectives(e,0),_a(e,ya.CheckAndUpdate),Ca(e,67108864,536870912,0);var t=xn(e,256,512);pi(e,2097152|(t?1048576:0)),jn.updateRenderer(e,0),ma(e,ya.CheckAndUpdate),Ca(e,134217728,536870912,0),pi(e,8388608|((t=xn(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,xn(e,768,1024)}function fa(e,t,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(e,t,n,r,i,o,a,s,u,l,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,a,s,u,l,c,h){var f=t.bindings.length,d=!1;return f>0&&qo(e,t,0,n)&&(d=!0),f>1&&qo(e,t,1,r)&&(d=!0),f>2&&qo(e,t,2,i)&&(d=!0),f>3&&qo(e,t,3,o)&&(d=!0),f>4&&qo(e,t,4,a)&&(d=!0),f>5&&qo(e,t,5,s)&&(d=!0),f>6&&qo(e,t,6,u)&&(d=!0),f>7&&qo(e,t,7,l)&&(d=!0),f>8&&qo(e,t,8,c)&&(d=!0),f>9&&qo(e,t,9,h)&&(d=!0),d}(e,t,n,r,i,o,a,s,u,l,c,h);case 2:return function(e,t,n,r,i,o,a,s,u,l,c,h){var f=!1,d=t.bindings,p=d.length;if(p>0&&Gn(e,t,0,n)&&(f=!0),p>1&&Gn(e,t,1,r)&&(f=!0),p>2&&Gn(e,t,2,i)&&(f=!0),p>3&&Gn(e,t,3,o)&&(f=!0),p>4&&Gn(e,t,4,a)&&(f=!0),p>5&&Gn(e,t,5,s)&&(f=!0),p>6&&Gn(e,t,6,u)&&(f=!0),p>7&&Gn(e,t,7,l)&&(f=!0),p>8&&Gn(e,t,8,c)&&(f=!0),p>9&&Gn(e,t,9,h)&&(f=!0),f){var v=t.text.prefix;p>0&&(v+=ea(n,d[0])),p>1&&(v+=ea(r,d[1])),p>2&&(v+=ea(i,d[2])),p>3&&(v+=ea(o,d[3])),p>4&&(v+=ea(a,d[4])),p>5&&(v+=ea(s,d[5])),p>6&&(v+=ea(u,d[6])),p>7&&(v+=ea(l,d[7])),p>8&&(v+=ea(c,d[8])),p>9&&(v+=ea(h,d[9]));var g=Rn(e,t.nodeIndex).renderText;e.renderer.setValue(g,v)}return f}(e,t,n,r,i,o,a,s,u,l,c,h);case 16384:return function(e,t,n,r,i,o,a,s,u,l,c,h){var f=Mn(e,t.nodeIndex),d=f.instance,p=!1,v=void 0,g=t.bindings.length;return g>0&&Wn(e,t,0,n)&&(p=!0,v=di(e,f,t,0,n,v)),g>1&&Wn(e,t,1,r)&&(p=!0,v=di(e,f,t,1,r,v)),g>2&&Wn(e,t,2,i)&&(p=!0,v=di(e,f,t,2,i,v)),g>3&&Wn(e,t,3,o)&&(p=!0,v=di(e,f,t,3,o,v)),g>4&&Wn(e,t,4,a)&&(p=!0,v=di(e,f,t,4,a,v)),g>5&&Wn(e,t,5,s)&&(p=!0,v=di(e,f,t,5,s,v)),g>6&&Wn(e,t,6,u)&&(p=!0,v=di(e,f,t,6,u,v)),g>7&&Wn(e,t,7,l)&&(p=!0,v=di(e,f,t,7,l,v)),g>8&&Wn(e,t,8,c)&&(p=!0,v=di(e,f,t,8,c,v)),g>9&&Wn(e,t,9,h)&&(p=!0,v=di(e,f,t,9,h,v)),v&&d.ngOnChanges(v),65536&t.flags&&Pn(e,256,t.nodeIndex)&&d.ngOnInit(),262144&t.flags&&d.ngDoCheck(),p}(e,t,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,a,s,u,l,c,h){var f=t.bindings,d=!1,p=f.length;if(p>0&&Gn(e,t,0,n)&&(d=!0),p>1&&Gn(e,t,1,r)&&(d=!0),p>2&&Gn(e,t,2,i)&&(d=!0),p>3&&Gn(e,t,3,o)&&(d=!0),p>4&&Gn(e,t,4,a)&&(d=!0),p>5&&Gn(e,t,5,s)&&(d=!0),p>6&&Gn(e,t,6,u)&&(d=!0),p>7&&Gn(e,t,7,l)&&(d=!0),p>8&&Gn(e,t,8,c)&&(d=!0),p>9&&Gn(e,t,9,h)&&(d=!0),d){var v,g=Ln(e,t.nodeIndex);switch(201347067&t.flags){case 32:v=new Array(f.length),p>0&&(v[0]=n),p>1&&(v[1]=r),p>2&&(v[2]=i),p>3&&(v[3]=o),p>4&&(v[4]=a),p>5&&(v[5]=s),p>6&&(v[6]=u),p>7&&(v[7]=l),p>8&&(v[8]=c),p>9&&(v[9]=h);break;case 64:v={},p>0&&(v[f[0].name]=n),p>1&&(v[f[1].name]=r),p>2&&(v[f[2].name]=i),p>3&&(v[f[3].name]=o),p>4&&(v[f[4].name]=a),p>5&&(v[f[5].name]=s),p>6&&(v[f[6].name]=u),p>7&&(v[f[7].name]=l),p>8&&(v[f[8].name]=c),p>9&&(v[f[9].name]=h);break;case 128:var y=n;switch(p){case 1:v=y.transform(n);break;case 2:v=y.transform(r);break;case 3:v=y.transform(r,i);break;case 4:v=y.transform(r,i,o);break;case 5:v=y.transform(r,i,o,a);break;case 6:v=y.transform(r,i,o,a,s);break;case 7:v=y.transform(r,i,o,a,s,u);break;case 8:v=y.transform(r,i,o,a,s,u,l);break;case 9:v=y.transform(r,i,o,a,s,u,l,c);break;case 10:v=y.transform(r,i,o,a,s,u,l,c,h)}}g.value=v}return d}(e,t,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(e,t,r,i,o,a,s,u,l,c,h,f):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,i=0;i<n.length;i++)qo(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)Gn(e,t,o,n[o])&&(i=!0);if(i){for(var a="",s=0;s<n.length;s++)a+=ea(n[s],r[s]);a=t.text.prefix+a;var u=Rn(e,t.nodeIndex).renderText;e.renderer.setValue(u,a)}return i}(e,t,n);case 16384:return function(e,t,n){for(var r=Mn(e,t.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)Wn(e,t,s,n[s])&&(o=!0,a=di(e,r,t,s,n[s],a));return a&&i.ngOnChanges(a),65536&t.flags&&Pn(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)Gn(e,t,o,n[o])&&(i=!0);if(i){var a,s=Ln(e,t.nodeIndex);switch(201347067&t.flags){case 32:a=n;break;case 64:a={};for(var u=0;u<n.length;u++)a[r[u].name]=n[u];break;case 128:var l=n[0],c=n.slice(1);a=l.transform.apply(l,_toConsumableArray(c))}s.value=a}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function da(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var i=Dn(e,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Yn(a,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function pa(e,t,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(e,t,n,r,i,o,a,s,u,l,c,h){var f=t.bindings.length;f>0&&Kn(e,t,0,n),f>1&&Kn(e,t,1,r),f>2&&Kn(e,t,2,i),f>3&&Kn(e,t,3,o),f>4&&Kn(e,t,4,a),f>5&&Kn(e,t,5,s),f>6&&Kn(e,t,6,u),f>7&&Kn(e,t,7,l),f>8&&Kn(e,t,8,c),f>9&&Kn(e,t,9,h)}(e,t,r,i,o,a,s,u,l,c,h,f):function(e,t,n){for(var r=0;r<n.length;r++)Kn(e,t,r,n[r])}(e,t,r),!1}function va(e,t){if(Fn(e,t.nodeIndex).dirty)throw An(jn.createDebugContext(e,t.nodeIndex),"Query ".concat(t.query.id," not dirty"),"Query ".concat(t.query.id," dirty"),0!=(1&e.state))}function ga(e){if(!(128&e.state)){if(_a(e,ya.Destroy),ma(e,ya.Destroy),pi(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=$n(e);if(t){var n=t.template._projectedViews;n&&(Ve(n,n.indexOf(e)),jn.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(Dn(e,n).renderElement):2&r.flags?e.renderer.destroyNode(Rn(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&Fn(e,n).destroy()}}(e),tr(e)&&e.renderer.destroy(),e.state|=128}}var ya=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function ma(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?ba(Dn(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function _a(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Dn(e,r).viewContainer._embeddedViews,a=0;a<o.length;a++)ba(o[a],t);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function ba(e,t){var n=e.state;switch(t){case ya.CheckNoChanges:0==(128&n)&&(12==(12&n)?ca(e):64&n&&wa(e,ya.CheckNoChangesProjectedViews));break;case ya.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ca(e):64&n&&wa(e,t));break;case ya.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ha(e):64&n&&wa(e,ya.CheckAndUpdateProjectedViews));break;case ya.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ha(e):64&n&&wa(e,t));break;case ya.Destroy:ga(e);break;case ya.CreateViewNodes:la(e)}}function wa(e,t){_a(e,t),ma(e,t)}function Ca(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,o=0;o<i;o++){var a=e.def.nodes[o];if(a.flags&t&&a.flags&n)switch(jn.setCurrentNode(e,a.nodeIndex),r){case 0:zo(e,a);break;case 1:va(e,a)}a.childFlags&t&&a.childFlags&n||(o+=a.childCount)}}var ka=!1;function Ea(e,t,n,r,i,o){var a=i.injector.get(nn);return oa(Ia(e,i,a,t,n),r,o)}function Sa(e,t,n,r,i,o){var a=i.injector.get(nn),s=Ia(e,i,new is(a),t,n),u=La(r);return ns(Wa.create,oa,null,[s,u,o])}function Ia(e,t,n,r,i){var o=t.injector.get(gt),a=t.injector.get(Ge),s=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function Ta(e,t,n,r){var i=La(n);return ns(Wa.create,ia,null,[e,t,i,r])}function Aa(e,t,n,r){return n=Pa.get(t.element.componentProvider.provider.token)||La(n),ns(Wa.create,aa,null,[e,t,n,r])}function Na(e,t,n,r){return zr(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===Oa.size||(e.providers.forEach((function(e){var r=Oa.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)})),e.modules.forEach((function(e){xa.forEach((function(r,i){ge(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)}))}))),{hasOverrides:t,hasDeprecatedOverrides:n}}(e),n=t.hasOverrides,r=t.hasDeprecatedOverrides;return n?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var i=Oa.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=or(i.deps),n.value=i.value)}if(xa.size>0){var o=new Set(e.modules);xa.forEach((function(t,n){if(o.has(ge(n).providedIn)){var i={token:n,flags:t.flags|(r?4096:0),deps:or(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[qn(n)]=i}}))}}(e=e.factory((function(){return Un}))),e):e}(r))}var Oa=new Map,xa=new Map,Pa=new Map;function Ra(e){var t;Oa.set(e.token,e),"function"==typeof e.token&&(t=ge(e.token))&&"function"==typeof t.providedIn&&xa.set(e.token,e)}function Da(e,t){var n=ur(t.viewDefFactory),r=ur(n.nodes[0].element.componentView);Pa.set(e,r)}function Ma(){Oa.clear(),xa.clear(),Pa.clear()}function La(e){if(0===Oa.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Oa.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return Un}));for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Oa.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=or(o.deps),i.value=o.value)}}}}function Fa(e,t,n,r,i,o,a,s,u,l,c,h,f){var d=e.def.nodes[t];return fa(e,d,n,r,i,o,a,s,u,l,c,h,f),224&d.flags?Ln(e,t).value:void 0}function ja(e,t,n,r,i,o,a,s,u,l,c,h,f){var d=e.def.nodes[t];return pa(e,d,n,r,i,o,a,s,u,l,c,h,f),224&d.flags?Ln(e,t).value:void 0}function Ua(e){return ns(Wa.detectChanges,ha,null,[e])}function Va(e){return ns(Wa.checkNoChanges,ca,null,[e])}function qa(e){return ns(Wa.destroy,ga,null,[e])}var Ba,Ha,za,Wa=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function Ga(e,t){Ha=e,za=t}function Ka(e,t,n,r){return Ga(e,t),ns(Wa.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function Qa(e,t){if(128&e.state)throw On(Wa[Ba]);return Ga(e,Ja(e,0)),e.def.updateDirectives((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===t?Xa(e,i,r,a):$a(e,i,r,a),16384&i.flags&&Ga(e,Ja(e,n)),224&i.flags?Ln(e,i.nodeIndex).value:void 0}),e)}function Ya(e,t){if(128&e.state)throw On(Wa[Ba]);return Ga(e,Za(e,0)),e.def.updateRenderer((function(e,n,r){for(var i=e.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===t?Xa(e,i,r,a):$a(e,i,r,a),3&i.flags&&Ga(e,Za(e,n)),224&i.flags?Ln(e,i.nodeIndex).value:void 0}),e)}function Xa(e,t,n,r){if(fa.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))){var i=1===n?r[0]:r;if(16384&t.flags){for(var o={},a=0;a<t.bindings.length;a++){var s=t.bindings[a],u=i[a];8&s.flags&&(o[_t(s.nonMinifiedName)]=wt(u))}var l=t.parent,c=Dn(e,l.nodeIndex).renderElement;if(l.element.name)for(var h in o){var f=o[h];null!=f?e.renderer.setAttribute(c,h,f):e.renderer.removeAttribute(c,h)}else e.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}}function $a(e,t,n,r){pa.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))}function Ja(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Za(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var es=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=t.def.nodes[n];for(var r=this.nodeDef,i=t;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=Jn(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass(e,[{key:"elOrCompView",get:function(){return Dn(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return Ur(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}},{key:"references",get:function(){var e={};if(this.elDef){ts(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&ts(this.elView,n,e),t+=n.childCount}}return e}},{key:"componentRenderElement",get:function(){var e=function(e){for(;e&&!tr(e);)e=e.parent;return e.parent?Dn(e.parent,Jn(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?Zn(this.view,this.nodeDef):Zn(this.elView,this.elDef)}},{key:"logError",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o;2&this.nodeDef.flags?(i=this.view.def,o=this.nodeDef.nodeIndex):(i=this.elView.def,o=this.elDef.nodeIndex);var a=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(i,o),s=-1;i.factory((function(){var t;return++s===a?(t=e.error).bind.apply(t,[e].concat(n)):Un})),s<a&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,n))}}]),e}();function ts(e,t,n){for(var r in t.references)n[r]=Go(e,t,t.references[r])}function ns(e,t,n,r){var i,o,a=Ba,s=Ha,u=za;try{Ba=e;var l=t.apply(n,r);return Ha=s,za=u,Ba=a,l}catch(c){if(He(c)||!Ha)throw c;throw i=c,o=rs(),i instanceof Error||(i=new Error(i.toString())),Nn(i,o),i}}function rs(){return Ha?new es(Ha,za):null}var is=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"createRenderer",value:function(e,t){return new os(this.delegate.createRenderer(e,t))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),e}(),os=function(){function e(t){_classCallCheck(this,e),this.delegate=t,this.debugContextFactory=rs,this.data=this.delegate.data}return _createClass(e,[{key:"createDebugContext",value:function(e){return this.debugContextFactory(e)}},{key:"destroyNode",value:function(e){var t=Ao(e);!function(e){To.delete(e.nativeNode)}(t),t instanceof So&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var i=new Io(n,null,r);i.name=e,No(i)}return n}},{key:"createComment",value:function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&No(new So(t,null,n)),t}},{key:"createText",value:function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&No(new So(t,null,n)),t}},{key:"appendChild",value:function(e,t){var n=Ao(e),r=Ao(t);n&&r&&n instanceof Io&&n.addChild(r),this.delegate.appendChild(e,t)}},{key:"insertBefore",value:function(e,t,n){var r=Ao(e),i=Ao(t),o=Ao(n);r&&i&&r instanceof Io&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}},{key:"removeChild",value:function(e,t){var n=Ao(e),r=Ao(t);n&&r&&n instanceof Io&&n.removeChild(r),this.delegate.removeChild(e,t)}},{key:"selectRootElement",value:function(e,t){var n=this.delegate.selectRootElement(e,t),r=rs();return r&&No(new Io(n,null,r)),n}},{key:"setAttribute",value:function(e,t,n,r){var i=Ao(e);i&&i instanceof Io&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){var r=Ao(e);r&&r instanceof Io&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){var n=Ao(e);n&&n instanceof Io&&(n.classes[t]=!0),this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){var n=Ao(e);n&&n instanceof Io&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){var i=Ao(e);i&&i instanceof Io&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){var r=Ao(e);r&&r instanceof Io&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){var r=Ao(e);r&&r instanceof Io&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){if("string"!=typeof e){var r=Ao(e);r&&r.listeners.push(new Eo(t,n))}return this.delegate.listen(e,t,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setValue",value:function(e,t){return this.delegate.setValue(e,t)}}]),e}();var as=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).moduleType=e,o._bootstrapComponents=r,o._ngModuleDefFactory=i,o}return _createClass(n,[{key:"create",value:function(e){!function(){if(!ka){ka=!0;var e=Ke()?{setCurrentNode:Ga,createRootView:Sa,createEmbeddedView:Ta,createComponentView:Aa,createNgModuleRef:Na,overrideProvider:Ra,overrideComponentView:Da,clearOverrides:Ma,checkAndUpdateView:Ua,checkNoChangesView:Va,destroyView:qa,createDebugContext:function(e,t){return new es(e,t)},handleEvent:Ka,updateDirectives:Qa,updateRenderer:Ya}:{setCurrentNode:function(){},createRootView:Ea,createEmbeddedView:ia,createComponentView:aa,createNgModuleRef:zr,overrideProvider:Un,overrideComponentView:Un,clearOverrides:Un,checkAndUpdateView:ha,checkNoChangesView:ca,destroyView:ga,createDebugContext:function(e,t){return new es(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?Fa:ja,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?Fa:ja,e)}};jn.setCurrentNode=e.setCurrentNode,jn.createRootView=e.createRootView,jn.createEmbeddedView=e.createEmbeddedView,jn.createComponentView=e.createComponentView,jn.createNgModuleRef=e.createNgModuleRef,jn.overrideProvider=e.overrideProvider,jn.overrideComponentView=e.overrideComponentView,jn.clearOverrides=e.clearOverrides,jn.checkAndUpdateView=e.checkAndUpdateView,jn.checkNoChangesView=e.checkNoChangesView,jn.destroyView=e.destroyView,jn.resolveDep=hi,jn.createDebugContext=e.createDebugContext,jn.handleEvent=e.handleEvent,jn.updateDirectives=e.updateDirectives,jn.updateRenderer=e.updateRenderer,jn.dirtyParentQueries=Ho}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(ur(this._ngModuleDefFactory));return jn.createNgModuleRef(this.moduleType,e||It.NULL,this._bootstrapComponents,t)}}]),n}(je),ss=_createClass((function e(){_classCallCheck(this,e)})),us=function(){function e(){_classCallCheck(this,e),this.title="my-blog-app",this.showScrollToTop=!1}return _createClass(e,[{key:"onWindowScroll",value:function(e){this.showScrollToTop=window.pageYOffset>500}},{key:"scrollToTop",value:function(){window.scrollTo({top:0,behavior:"smooth"})}},{key:"scrollToBottom",value:function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}}]),e}(),ls=_createClass((function e(){_classCallCheck(this,e)})),cs=new Te("Location Initialized"),hs=_createClass((function e(){_classCallCheck(this,e)})),fs=new Te("appBaseHref"),ds=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._subject=new ki,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(ps(i)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+e.normalizeQueryParams(n))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,ps(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"replaceState",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}],[{key:"normalizeQueryParams",value:function(e){return e&&"?"!==e[0]?"?"+e:e}},{key:"joinWithSlash",value:function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}},{key:"stripTrailingSlash",value:function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}]),e}();function ps(e){return e.replace(/\/index.html$/,"")}var vs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=ds.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+ds.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+ds.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(hs),gs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return ds.joinWithSlash(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+ds.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+ds.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+ds.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(hs),ys=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),ms=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),_s=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),bs=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),ws=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function Cs(e,t){return Ts(Ci(e)[_i.DateFormat],t)}function ks(e,t){return Ts(Ci(e)[_i.TimeFormat],t)}function Es(e,t){return Ts(Ci(e)[_i.DateTimeFormat],t)}function Ss(e,t){var n=Ci(e),r=n[_i.NumberSymbols][t];if(void 0===r){if(t===ws.CurrencyDecimal)return n[_i.NumberSymbols][ws.Decimal];if(t===ws.CurrencyGroup)return n[_i.NumberSymbols][ws.Group]}return r}function Is(e){if(!e[_i.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[_i.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Ts(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function As(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var Ns=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Os={},xs=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ps=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),Rs=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),Ds=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Ms(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function Ls(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),o+a}function Fs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(e,t){switch(e){case Rs.FullYear:return t.getFullYear();case Rs.Month:return t.getMonth();case Rs.Date:return t.getDate();case Rs.Hours:return t.getHours();case Rs.Minutes:return t.getMinutes();case Rs.Seconds:return t.getSeconds();case Rs.FractionalSeconds:return t.getMilliseconds();case Rs.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||u>-n)&&(u+=n),e===Rs.Hours)0===u&&-12===n&&(u=12);else if(e===Rs.FractionalSeconds)return s=t,Ls(u,3).substr(0,s);var l=Ss(a,ws.MinusSign);return Ls(u,t,l,r,i)}}function js(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ms.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(e,t,n,r,i,o){switch(n){case Ds.Months:return function(e,t,n){var r=Ci(e),i=Ts([r[_i.MonthsFormat],r[_i.MonthsStandalone]],t);return Ts(i,n)}(t,i,r)[e.getMonth()];case Ds.Days:return function(e,t,n){var r=Ci(e),i=Ts([r[_i.DaysFormat],r[_i.DaysStandalone]],t);return Ts(i,n)}(t,i,r)[e.getDay()];case Ds.DayPeriods:var a=e.getHours(),s=e.getMinutes();if(o){var u,l=function(e){var t=Ci(e);return Is(t),(t[_i.ExtraData][2]||[]).map((function(e){return"string"==typeof e?As(e):[As(e[0]),As(e[1])]}))}(t),c=function(e,t,n){var r=Ci(e);Is(r);var i=Ts([r[_i.ExtraData][0],r[_i.ExtraData][1]],t)||[];return Ts(i,n)||[]}(t,i,r);if(l.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,i=n.minutes,o=e[1],l=o.hours,h=o.minutes;a>=r&&s>=i&&(a<l||a===l&&s<h)&&(u=c[t])}else{var f=e.hours,d=e.minutes;f===a&&d===s&&(u=c[t])}})),u)return u}return function(e,t,n){var r=Ci(e),i=Ts([r[_i.DayPeriodsFormat],r[_i.DayPeriodsStandalone]],t);return Ts(i,n)}(t,i,r)[a<12?0:1];case Ds.Eras:return function(e,t){return Ts(Ci(e)[_i.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,e,t,n,r)}}function Us(e){return function(t,n,r){var i=-1*r,o=Ss(n,ws.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case Ps.Short:return(i>=0?"+":"")+Ls(a,2,o)+Ls(Math.abs(i%60),2,o);case Ps.ShortGMT:return"GMT"+(i>=0?"+":"")+Ls(a,1,o);case Ps.Long:return"GMT"+(i>=0?"+":"")+Ls(a,2,o)+":"+Ls(Math.abs(i%60),2,o);case Ps.Extended:return 0===r?"Z":(i>=0?"+":"")+Ls(a,2,o)+":"+Ls(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function Vs(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a,s;if(t){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();i=1+Math.floor((l+u)/7)}else{var c=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-c.getTime();i=1+Math.round(h/6048e5)}return Ls(i,e,Ss(r,ws.MinusSign))}}var qs={};function Bs(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Hs(e){return e instanceof Date&&!isNaN(e.valueOf())}var zs=new Te("UseV4Plurals"),Ws=_createClass((function e(){_classCallCheck(this,e)})),Gs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).locale=e,i.deprecatedPluralFn=r,i}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return Ci(e)[_i.PluralCase]}(t||this.locale)(e)){case ys.Zero:return"zero";case ys.One:return"one";case ys.Two:return"two";case ys.Few:return"few";case ys.Many:return"many";default:return"other"}}}]),n}(Ws),Ks=_createClass((function e(){_classCallCheck(this,e)})),Qs=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._initialClasses=[]}return _createClass(e,[{key:"getValue",value:function(){return null}},{key:"setClass",value:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"setNgClass",value:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Vt(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"applyChanges",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+me(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}}]),e}(),Ys=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"klass",set:function(e){this._delegate.setClass(e)}},{key:"ngClass",set:function(e){this._delegate.setNgClass(e)}},{key:"ngDoCheck",value:function(){this._delegate.applyChanges()}}]),n}(function(){var e=function(){function e(t){_classCallCheck(this,e),this._delegate=t}return _createClass(e,[{key:"getValue",value:function(){return this._delegate.getValue()}}]),e}();return e.ngDirectiveDef=void 0,e}()),Xs=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),$s=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){Ke()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.")),this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Xs(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new Js(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new Js(e,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}(),Js=_createClass((function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n})),Zs=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new eu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){tu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){tu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}]),e}(),eu=_createClass((function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null}));function tu(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(me(t),"'."))}var nu=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return function(e,t,n,r){var i=function(e){if(Hs(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(t=e.match(Ns))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,u=Number(e[6]||0),l=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,s,u,l),t}(t)}var s=new Date(e);if(!Hs(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=function e(t,n){var r=function(e){return Ci(e)[_i.LocaleId]}(t);if(Os[r]=Os[r]||{},Os[r][n])return Os[r][n];var i="";switch(n){case"shortDate":i=Cs(t,bs.Short);break;case"mediumDate":i=Cs(t,bs.Medium);break;case"longDate":i=Cs(t,bs.Long);break;case"fullDate":i=Cs(t,bs.Full);break;case"shortTime":i=ks(t,bs.Short);break;case"mediumTime":i=ks(t,bs.Medium);break;case"longTime":i=ks(t,bs.Long);break;case"fullTime":i=ks(t,bs.Full);break;case"short":var o=e(t,"shortTime"),a=e(t,"shortDate");i=Ms(Es(t,bs.Short),[o,a]);break;case"medium":var s=e(t,"mediumTime"),u=e(t,"mediumDate");i=Ms(Es(t,bs.Medium),[s,u]);break;case"long":var l=e(t,"longTime"),c=e(t,"longDate");i=Ms(Es(t,bs.Long),[l,c]);break;case"full":var h=e(t,"fullTime"),f=e(t,"fullDate");i=Ms(Es(t,bs.Full),[h,f])}return i&&(Os[r][n]=i),i}(n,t)||t;for(var o,a=[];t;){if(!(o=xs.exec(t))){a.push(t);break}var s=(a=a.concat(o.slice(1))).pop();if(!s)break;t=s}var u=i.getTimezoneOffset();r&&(u=Bs(r,u),i=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Bs(t,r)-r))}(i,r));var l="";return a.forEach((function(e){var t=function(e){if(qs[e])return qs[e];var t;switch(e){case"G":case"GG":case"GGG":t=js(Ds.Eras,_s.Abbreviated);break;case"GGGG":t=js(Ds.Eras,_s.Wide);break;case"GGGGG":t=js(Ds.Eras,_s.Narrow);break;case"y":t=Fs(Rs.FullYear,1,0,!1,!0);break;case"yy":t=Fs(Rs.FullYear,2,0,!0,!0);break;case"yyy":t=Fs(Rs.FullYear,3,0,!1,!0);break;case"yyyy":t=Fs(Rs.FullYear,4,0,!1,!0);break;case"M":case"L":t=Fs(Rs.Month,1,1);break;case"MM":case"LL":t=Fs(Rs.Month,2,1);break;case"MMM":t=js(Ds.Months,_s.Abbreviated);break;case"MMMM":t=js(Ds.Months,_s.Wide);break;case"MMMMM":t=js(Ds.Months,_s.Narrow);break;case"LLL":t=js(Ds.Months,_s.Abbreviated,ms.Standalone);break;case"LLLL":t=js(Ds.Months,_s.Wide,ms.Standalone);break;case"LLLLL":t=js(Ds.Months,_s.Narrow,ms.Standalone);break;case"w":t=Vs(1);break;case"ww":t=Vs(2);break;case"W":t=Vs(1,!0);break;case"d":t=Fs(Rs.Date,1);break;case"dd":t=Fs(Rs.Date,2);break;case"E":case"EE":case"EEE":t=js(Ds.Days,_s.Abbreviated);break;case"EEEE":t=js(Ds.Days,_s.Wide);break;case"EEEEE":t=js(Ds.Days,_s.Narrow);break;case"EEEEEE":t=js(Ds.Days,_s.Short);break;case"a":case"aa":case"aaa":t=js(Ds.DayPeriods,_s.Abbreviated);break;case"aaaa":t=js(Ds.DayPeriods,_s.Wide);break;case"aaaaa":t=js(Ds.DayPeriods,_s.Narrow);break;case"b":case"bb":case"bbb":t=js(Ds.DayPeriods,_s.Abbreviated,ms.Standalone,!0);break;case"bbbb":t=js(Ds.DayPeriods,_s.Wide,ms.Standalone,!0);break;case"bbbbb":t=js(Ds.DayPeriods,_s.Narrow,ms.Standalone,!0);break;case"B":case"BB":case"BBB":t=js(Ds.DayPeriods,_s.Abbreviated,ms.Format,!0);break;case"BBBB":t=js(Ds.DayPeriods,_s.Wide,ms.Format,!0);break;case"BBBBB":t=js(Ds.DayPeriods,_s.Narrow,ms.Format,!0);break;case"h":t=Fs(Rs.Hours,1,-12);break;case"hh":t=Fs(Rs.Hours,2,-12);break;case"H":t=Fs(Rs.Hours,1);break;case"HH":t=Fs(Rs.Hours,2);break;case"m":t=Fs(Rs.Minutes,1);break;case"mm":t=Fs(Rs.Minutes,2);break;case"s":t=Fs(Rs.Seconds,1);break;case"ss":t=Fs(Rs.Seconds,2);break;case"S":t=Fs(Rs.FractionalSeconds,1);break;case"SS":t=Fs(Rs.FractionalSeconds,2);break;case"SSS":t=Fs(Rs.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Us(Ps.Short);break;case"ZZZZZ":t=Us(Ps.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Us(Ps.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Us(Ps.Long);break;default:return null}return qs[e]=t,t}(e);l+=t?t(i,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}(t,n,i||this.locale,r)}catch(o){throw function(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(me(e),"'"))}(e,o.message)}}}]),e}(),ru=_createClass((function e(){_classCallCheck(this,e)})),iu=new Te("DocumentToken");function ou(e){return"server"===e}var au,su=((au=_createClass((function e(){_classCallCheck(this,e)}))).ngInjectableDef=pe({token:au,providedIn:"root",factory:function(){return new uu(De(iu),window,De(Ge))}}),au),uu=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),lu=new k((function(e){return e.complete()}));function cu(e){return e?function(e){return new k((function(t){return e.schedule((function(){return t.complete()}))}))}(e):lu}function hu(e){var t=new k((function(t){t.next(e),t.complete()}));return t._isScalar=!0,t.value=e,t}function fu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];switch(P(r)?t.pop():r=void 0,t.length){case 0:return cu(r);case 1:return r?K(t,r):hu(t[0]);default:return K(t,r)}}var du=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new T;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}}]),n}(O);function pu(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}pu.prototype=Object.create(Error.prototype);var vu=pu,gu={},yu=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new mu(e,this.resultSelector))}}]),e}(),mu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(gu),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(B(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===gu?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(H);function _u(e){return new k((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Q(n):cu()).subscribe(t)}))}function bu(){return Z(1)}function wu(e,t){return function(n){return n.lift(new Cu(e,t))}}var Cu=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ku(e,this.predicate,this.thisArg))}}]),e}(),ku=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(g);function Eu(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Eu.prototype=Object.create(Error.prototype);var Su=Eu;function Iu(e){return function(t){return 0===e?cu():t.lift(new Tu(e))}}var Tu=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Su}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Au(e,this.total))}}]),e}(),Au=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(g);function Nu(e,t,n){return function(r){return r.lift(new Ou(e,t,n))}}var Ou=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new xu(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),xu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e))._tapNext=_,s._tapError=_,s._tapComplete=_,s._tapError=o||_,s._tapComplete=a||_,r(i)?(s._context=_assertThisInitialized(s),s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||_,s._tapError=i.error||_,s._tapComplete=i.complete||_),s}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(g),Pu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ru;return Nu({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function Ru(){return new vu}function Du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Mu(e))}}var Mu=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Lu(e,this.defaultValue))}}]),e}(),Lu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(g);function Fu(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?wu((function(t,n){return e(t,n,r)})):J,Iu(1),n?Du(t):Pu((function(){return new vu})))}}function ju(e){return function(t){var n=new Uu(e),r=t.lift(n);return n.caught=r}}var Uu=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Vu(e,this.selector,this.caught))}}]),e}(),Vu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(i){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,i)}this._unsubscribeAndRecycle();var r=new R(this,void 0,void 0);this.add(r),B(this,t,void 0,void 0,r)}}}]),n}(H);function qu(e){return function(t){return 0===e?cu():t.lift(new Bu(e))}}var Bu=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Su}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Hu(e,this.total))}}]),e}(),Hu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(g);function zu(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?wu((function(t,n){return e(t,n,r)})):J,qu(1),n?Du(t):Pu((function(){return new vu})))}}var Wu=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Gu(e,this.predicate,this.thisArg,this.source))}}]),e}(),Gu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(g);function Ku(e,t){return"function"==typeof t?function(n){return n.pipe(Ku((function(n,r){return Q(e(n,r)).pipe(z((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Qu(e))}}var Qu=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yu(e,this.project))}}]),e}(),Yu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new R(this,void 0,void 0);this.destination.add(i),this.innerSubscription=B(this,e,t,n,i)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(H);function Xu(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new $u(e,t,n))}}var $u=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ju(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Ju=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(g);function Zu(e,t){return Y(e,t,1)}var el=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new tl(e,this.callback))}}]),e}(),tl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new d(r)),i}return _createClass(n)}(g),nl=null;function rl(){return nl}var il,ol={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},al={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ul=function(){if(Ie.Node)return Ie.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}}(),ll=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(e){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(e,t){return t in e}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"getProperty",value:function(e,t){return e[t]}},{key:"invoke",value:function(e,t,n){e[t].apply(e,_toConsumableArray(n))}},{key:"logError",value:function(e){window.console&&(console.error?console.error(e):console.log(e))}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"attrToPropMap",get:function(){return ol}},{key:"contains",value:function(e,t){return ul.call(e,t)}},{key:"querySelector",value:function(e,t){return e.querySelector(t)}},{key:"querySelectorAll",value:function(e,t){return e.querySelectorAll(t)}},{key:"on",value:function(e,t,n){e.addEventListener(t,n,!1)}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"createMouseEvent",value:function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}},{key:"createEvent",value:function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}},{key:"preventDefault",value:function(e){e.preventDefault(),e.returnValue=!1}},{key:"isPrevented",value:function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}},{key:"getInnerHTML",value:function(e){return e.innerHTML}},{key:"getTemplateContent",value:function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}},{key:"getOuterHTML",value:function(e){return e.outerHTML}},{key:"nodeName",value:function(e){return e.nodeName}},{key:"nodeValue",value:function(e){return e.nodeValue}},{key:"type",value:function(e){return e.type}},{key:"content",value:function(e){return this.hasProperty(e,"content")?e.content:e}},{key:"firstChild",value:function(e){return e.firstChild}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"parentElement",value:function(e){return e.parentNode}},{key:"childNodes",value:function(e){return e.childNodes}},{key:"childNodesAsList",value:function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n}},{key:"clearNodes",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"removeChild",value:function(e,t){e.removeChild(t)}},{key:"replaceChild",value:function(e,t,n){e.replaceChild(t,n)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"insertBefore",value:function(e,t,n){e.insertBefore(n,t)}},{key:"insertAllBefore",value:function(e,t,n){n.forEach((function(n){return e.insertBefore(n,t)}))}},{key:"insertAfter",value:function(e,t,n){e.insertBefore(n,t.nextSibling)}},{key:"setInnerHTML",value:function(e,t){e.innerHTML=t}},{key:"getText",value:function(e){return e.textContent}},{key:"setText",value:function(e,t){e.textContent=t}},{key:"getValue",value:function(e){return e.value}},{key:"setValue",value:function(e,t){e.value=t}},{key:"getChecked",value:function(e){return e.checked}},{key:"setChecked",value:function(e,t){e.checked=t}},{key:"createComment",value:function(e){return this.getDefaultDocument().createComment(e)}},{key:"createTemplate",value:function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createElementNS",value:function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}},{key:"createTextNode",value:function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}},{key:"createScriptTag",value:function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}},{key:"createStyleElement",value:function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}},{key:"createShadowRoot",value:function(e){return e.createShadowRoot()}},{key:"getShadowRoot",value:function(e){return e.shadowRoot}},{key:"getHost",value:function(e){return e.host}},{key:"clone",value:function(e){return e.cloneNode(!0)}},{key:"getElementsByClassName",value:function(e,t){return e.getElementsByClassName(t)}},{key:"getElementsByTagName",value:function(e,t){return e.getElementsByTagName(t)}},{key:"classList",value:function(e){return Array.prototype.slice.call(e.classList,0)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"setStyle",value:function(e,t,n){e.style[t]=n}},{key:"removeStyle",value:function(e,t){e.style[t]=""}},{key:"getStyle",value:function(e,t){return e.style[t]}},{key:"hasStyle",value:function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(e){return e.tagName}},{key:"attributeMap",value:function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var i=n.item(r);t.set(i.name,i.value)}return t}},{key:"hasAttribute",value:function(e,t){return e.hasAttribute(t)}},{key:"hasAttributeNS",value:function(e,t,n){return e.hasAttributeNS(t,n)}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}},{key:"getAttributeNS",value:function(e,t,n){return e.getAttributeNS(t,n)}},{key:"setAttribute",value:function(e,t,n){e.setAttribute(t,n)}},{key:"setAttributeNS",value:function(e,t,n,r){e.setAttributeNS(t,n,r)}},{key:"removeAttribute",value:function(e,t){e.removeAttribute(t)}},{key:"removeAttributeNS",value:function(e,t,n){e.removeAttributeNS(t,n)}},{key:"templateAwareRoot",value:function(e){return this.isTemplateElement(e)?this.content(e):e}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(e){return e.title}},{key:"setTitle",value:function(e,t){e.title=t||""}},{key:"elementMatches",value:function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}},{key:"isTemplateElement",value:function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}},{key:"isTextNode",value:function(e){return e.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(e){return e.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(e){return null!=e.shadowRoot&&e instanceof HTMLElement}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"importIntoDoc",value:function(e){return document.importNode(this.templateAwareRoot(e),!0)}},{key:"adoptNode",value:function(e){return document.adoptNode(e)}},{key:"getHref",value:function(e){return e.getAttribute("href")}},{key:"getEventKey",value:function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&sl.hasOwnProperty(t)&&(t=sl[t]))}return al[t]||t}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=cl||(cl=document.querySelector("base"))?cl.getAttribute("href"):null;return null==n?null:(t=n,il||(il=document.createElement("a")),il.setAttribute("href",t),"/"===il.pathname.charAt(0)?il.pathname:"/"+il.pathname)}},{key:"resetBaseElement",value:function(){cl=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(e,t,n){this.setAttribute(e,"data-"+t,n)}},{key:"getData",value:function(e,t){return this.getAttribute(e,"data-"+t)}},{key:"getComputedStyle",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return getComputedStyle(e)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(l){r.e(l)}finally{r.f()}return null}(document.cookie,e)}},{key:"setCookie",value:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}],[{key:"makeCurrent",value:function(){var e;e=new n,nl||(nl=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck(this,n),(e=t.call(this))._animationPrefix=null,e._transitionEnd=null;try{var r=e.createElement("div",document);if(null!=e.getStyle(r,"animationName"))e._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],o=0;o<i.length;o++)if(null!=e.getStyle(r,i[o]+"AnimationName")){e._animationPrefix="-"+i[o].toLowerCase()+"-";break}var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(a).forEach((function(t){null!=e.getStyle(r,t)&&(e._transitionEnd=a[t])}))}catch(s){e._animationPrefix=null,e._transitionEnd=null}return e}return _createClass(n,[{key:"getDistributedNodes",value:function(e){return e.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(e,t,n){e.href=null==n?t:t+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),n}(function(){function e(){_classCallCheck(this,e),this.resourceLoaderType=null}return _createClass(e,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e}}]),e}())),cl=null;function hl(){return!!window.history.pushState}var fl=new Te("TRANSITION_ID"),dl=[{provide:Ii,useFactory:function(e,t,n){return function(){n.get(Ti).donePromise.then((function(){var n=rl();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter((function(t){return n.getAttribute(t,"ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[fl,iu,It],multi:!0}],pl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){Ie.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ie.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ie.getAllAngularRootElements=function(){return e.getAllRootElements()},Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push((function(e){var t=Ie.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?rl().isShadowRoot(t)?this.findTestabilityInTree(e,rl().getHost(t),!0):this.findTestabilityInTree(e,rl().parentElement(t),!0):null}}],[{key:"init",value:function(){var t;t=new e,uo=t}}]),e}();function vl(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Ie.ng=Ie.ng||{})[e]=t)}var gl={ApplicationRef:yo,NgZone:Ji};function yl(e){return Ao(e)}var ml=new Te("EventManagerPlugins"),_l=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}(),bl=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=rl().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),wl=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}(),Cl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return rl().remove(e)}))}}]),n}(wl),kl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},El=/%COMP%/g;function Sl(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Sl(e,i,n):(i=i.replace(El,e),n.push(i))}return n}function Il(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Tl=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Al(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case qe.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new xl(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case qe.Native:case qe.ShadowDom:return new Pl(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Sl(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}(),Al=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(kl[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=kl[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=kl[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&rn.DashCase?e.style.setProperty(t,n,r&rn.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&rn.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){Ol(t,"property"),e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return Ol(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Il(n)):this.eventManager.addEventListener(e,t,Il(n))}}]),e}(),Nl="@".charCodeAt(0);function Ol(e,t){if(e.charCodeAt(0)===Nl)throw new Error("Found the synthetic ".concat(t," ").concat(e,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var xl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=i;var s,u=Sl(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(El,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(El,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Al),Pl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===qe.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=Sl(o.id,o.styles,[]),u=0;u<s.length;u++){var l=document.createElement("style");l.textContent=s[u],a.shadowRoot.appendChild(l)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Al),Rl="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},Dl=Rl("addEventListener"),Ml=Rl("removeEventListener"),Ll={},Fl="__zone_symbol__propagationStopped",jl=function(){var e="undefined"!=typeof Zone&&Zone[Rl("BLACK_LISTED_EVENTS")];if(e){var t={};return e.forEach((function(e){t[e]=e})),t}}(),Ul=function(e){return!!jl&&jl.hasOwnProperty(e)},Vl=function(e){var t=Ll[e.type];if(t){var n=this[t];if(n){var r=[e];if(1===n.length){var i=n[0];return i.zone!==Zone.current?i.zone.run(i.handler,this,r):i.handler.apply(this,r)}for(var o=n.slice(),a=0;a<o.length&&!0!==e[Fl];a++){var s=o[a];s.zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r)}}}},ql=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).ngZone=r,i&&ou(i)||o.patchEvent(),o}return _createClass(n,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Fl]=!0),e&&e.apply(this,arguments)}}}},{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this,i=n;if(!e[Dl]||Ji.isInAngularZone()&&!Ul(t))e.addEventListener(t,i,!1);else{var o=Ll[t];o||(o=Ll[t]=Rl("ANGULAR"+t+"FALSE"));var a=e[o],s=a&&a.length>0;a||(a=e[o]=[]);var u=Ul(t)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:i});else{for(var l=!1,c=0;c<a.length;c++)if(a[c].handler===i){l=!0;break}l||a.push({zone:u,handler:i})}s||e[Dl](t,Vl,!1)}return function(){return r.removeEventListener(e,t,i)}}},{key:"removeEventListener",value:function(e,t,n){var r=e[Ml];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);var i=Ll[t],o=i&&e[i];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(e,[t,Vl,!1]):e.removeEventListener.apply(e,[t,n,!1])}}]),n}(bl),Bl={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Hl=new Te("HammerGestureConfig"),zl=new Te("HammerLoader"),Wl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e))._config=r,a.console=i,a.loader=o,a}return _createClass(n,[{key:"supports",value:function(e){return!(!Bl.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(e,'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.')),1))}},{key:"addEventListener",value:function(e,t,n){var r=this,i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(e,t,n))})).catch((function(){r.console.warn('The "'.concat(t,'" event cannot be bound because the custom Hammer.JS loader failed.')),a=function(){}})),function(){a()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(e),a=function(e){i.runGuarded((function(){n(e)}))};return o.on(t,a),function(){o.off(t,a),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(e){return this._config.events.indexOf(e)>-1}}]),n}(bl),Gl=["alt","control","meta","shift"],Kl={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Ql=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return rl().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(Gl.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=rl().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Gl.forEach((function(r){r!=n&&(0,Kl[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(bl),Yl=_createClass((function e(){_classCallCheck(this,e)})),Xl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case vt.NONE:return t;case vt.HTML:return t instanceof Jl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){var n=null;try{et=et||new Qe(e);var r=t?String(t):"";n=et.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=et.getInertBodyElement(r)}while(r!==o);var a=new ct,s=a.sanitizeChildren(pt(n)||n);return Ke()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=pt(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(this._doc,String(t)));case vt.STYLE:return t instanceof Zl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";var t=e.match(mt);return t&&$e(t[1])===t[1]||e.match(yt)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(Ke()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}(t));case vt.SCRIPT:if(t instanceof ec)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case vt.URL:return t instanceof nc||t instanceof tc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),$e(String(t)));case vt.RESOURCE_URL:if(t instanceof nc)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(e,t){if(e instanceof $l)throw new Error("Required a safe ".concat(t,", got a ").concat(e.getTypeName()," (see http://g.co/ng/security#xss)"))}},{key:"bypassSecurityTrustHtml",value:function(e){return new Jl(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new Zl(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new ec(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new tc(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new nc(e)}}]),n}(Yl),$l=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),Jl=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}($l),Zl=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}($l),ec=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}($l),tc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}($l),nc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}($l),rc=ho(Oo,"browser",[{provide:Pi,useValue:"browser"},{provide:xi,useValue:function(){ll.makeCurrent(),pl.init()},multi:!0},{provide:ls,useClass:function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=rl().getLocation(),this._history=rl().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return rl().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){rl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){rl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){hl()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){hl()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(ls),deps:[iu]},{provide:iu,useFactory:function(){return document},deps:[]}]);function ic(){return new Ge}var oc=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Ai,useValue:t.appId},{provide:fl,useExisting:Ai},dl]}}}]),e}();"undefined"!=typeof window&&window;var ac=_createClass((function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n})),sc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ac),uc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(ac),lc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ac),cc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(ac),hc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ac),fc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ac),dc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(ac),pc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ac),vc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ac),gc=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),yc=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),mc=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),_c=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),bc=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),wc=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Cc=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),kc=_createClass((function e(){_classCallCheck(this,e)})),Ec=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Sc(e){return new Ec(e)}function Ic(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Tc(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var Ac=_createClass((function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n}));function Nc(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];Oc(r,xc(t,r))}}function Oc(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&Nc(e.children,t)}function xc(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Pc(e){var t=e.children&&e.children.map(Pc),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=kc),n}function Rc(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(e[n=r[o]]!==t[n])return!1;return!0}function Dc(e){return Array.prototype.concat.apply([],e)}function Mc(e){return e.length>0?e[e.length-1]:null}function Lc(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Fc(e){return Ht(e)?e:Bt(e)?Q(Promise.resolve(e)):fu(e)}function jc(e,t,n){return n?function(e,t){return Rc(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Bc(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return t[n]===e[n]}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Bc(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Bc(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Bc(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var Uc=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Sc(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Gc.serialize(this)}}]),e}(),Vc=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Lc(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Kc(this)}}]),e}(),qc=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Sc(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Zc(this)}}]),e}();function Bc(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Hc(e,t){var n=[];return Lc(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),Lc(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var zc=_createClass((function e(){_classCallCheck(this,e)})),Wc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new ih(e);return new Uc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return Kc(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return Lc(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Hc(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Kc(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(Yc(e),"=").concat(Yc(t))})).join("&"):"".concat(Yc(e),"=").concat(Yc(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),Gc=new Wc;function Kc(e){return e.segments.map((function(e){return Zc(e)})).join("/")}function Qc(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yc(e){return Qc(e).replace(/%3B/gi,";")}function Xc(e){return Qc(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $c(e){return decodeURIComponent(e)}function Jc(e){return $c(e.replace(/\+/g,"%20"))}function Zc(e){return"".concat(Xc(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Xc(e),"=").concat(Xc(t[e]))})).join("")));var t}var eh=/^[^\/()?;=#]+/;function th(e){var t=e.match(eh);return t?t[0]:""}var nh=/^[^=?&#]+/,rh=/^[^?&#]+/,ih=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vc([],{}):new Vc([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Vc(e,t)),n}},{key:"parseSegment",value:function(){var e=th(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new qc($c(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=th(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=th(this.remaining);r&&(n=r,this.capture(n))}e[$c(t)]=$c(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(nh);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(rh);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Jc(t),o=Jc(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=th(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Vc([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),oh=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=ah(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=ah(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=sh(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return sh(e,this._root).map((function(e){return e.value}))}}]),e}();function ah(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=ah(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function sh(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=sh(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var uh=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function lh(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var ch=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,gh(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(oh);function hh(e,t){var n=function(e,t){var n=new ph([],{},{},"",{},"primary",t,null,e.root,-1,{});return new vh("",new uh(n,[]))}(e,t),r=new du([new qc("",{})]),i=new du({}),o=new du({}),a=new du({}),s=new du(""),u=new fh(r,i,a,s,o,"primary",t,n.root);return u.snapshot=n.root,new ch(new uh(u,[]),n)}var fh=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(z((function(e){return Sc(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(z((function(e){return Sc(e)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function dh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var ph=function(){function e(t,n,r,i,o,a,s,u,l,c,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Sc(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Sc(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),vh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,gh(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return yh(this._root)}}]),n}(oh);function gh(e,t){t.value._routerState=e,t.children.forEach((function(t){return gh(e,t)}))}function yh(e){var t=e.children.length>0?" { ".concat(e.children.map(yh).join(", ")," } "):"";return"".concat(e.value).concat(t)}function mh(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Rc(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Rc(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Rc(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Rc(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function _h(e,t){var n,r;return Rc(e.params,t.params)&&Bc(n=e.url,r=t.url)&&n.every((function(e,t){return Rc(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||_h(e.parent,t.parent))}function bh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function wh(e,t,n,r,i){var o={};return r&&Lc(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new Uc(n.root===e?t:function e(t,n,r){var i={};return Lc(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new Vc(t.segments,i)}(n.root,e,t),o,i)}var Ch=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&bh(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Mc(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),kh=_createClass((function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r}));function Eh(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Sh(e,t,n){if(e||(e=new Vc([],{})),0===e.segments.length&&e.hasChildren())return Ih(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=Eh(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Oh(s,u,a))return o;r+=2}else{if(!Oh(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Vc(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Vc(e.segments.slice(r.pathIndex),e.children),Ih(o,0,i)}return r.match&&0===i.length?new Vc(e.segments,{}):r.match&&!e.hasChildren()?Th(e,t,n):r.match?Ih(e,0,i):Th(e,t,n)}function Ih(e,t,n){if(0===n.length)return new Vc(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return Lc(r,(function(n,r){null!==n&&(i[r]=Sh(e.children[r],t,n))})),Lc(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new Vc(e.segments,i)}function Th(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Ah(n[i].outlets);return new Vc(r,o)}if(0===i&&bh(n[0]))r.push(new qc(e.segments[t].path,n[0])),i++;else{var a=Eh(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&bh(s)?(r.push(new qc(a,Nh(s))),i+=2):(r.push(new qc(a,{})),i++)}}return new Vc(r,{})}function Ah(e){var t={};return Lc(e,(function(e,n){null!==e&&(t[n]=Th(new Vc([],{}),0,e))})),t}function Nh(e){var t={};return Lc(e,(function(e,n){return t[n]=""+e})),t}function Oh(e,t,n){return e==n.path&&Rc(t,n.parameters)}var xh=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),mh(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=lh(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),Lc(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=lh(e),o=e.value.component?r.children:t;Lc(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=lh(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new wc(e.value.snapshot))})),e.children.length&&this.forwardEvent(new _c(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(mh(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Ph(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=l,a.outlet&&a.outlet.activateWith(r,l),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Ph(e){mh(e.value),e.children.forEach(Ph)}function Rh(e){return"function"==typeof e}function Dh(e){return e instanceof Uc}var Mh=_createClass((function e(t){_classCallCheck(this,e),this.segmentGroup=t||null})),Lh=_createClass((function e(t){_classCallCheck(this,e),this.urlTree=t}));function Fh(e){return new k((function(t){return t.error(new Mh(e))}))}function jh(e){return new k((function(t){return t.error(new Lh(e))}))}function Uh(e){return new k((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Vh=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Fe)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(z((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(ju((function(t){if(t instanceof Lh)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Mh)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(z((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(ju((function(e){if(e instanceof Mh)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Vc([],{primary:e}):e;return new Uc(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(z((function(e){return new Vc([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return fu({});var o=[],a=[],s={};return Lc(n,(function(n,i){var u,l,c=(u=i,l=n,r.expandSegmentGroup(e,t,l,u)).pipe(z((function(e){return s[i]=e})));"primary"===i?o.push(c):a.push(c)})),fu.apply(null,o.concat(a)).pipe(bu(),Fu(),z((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return fu.apply(void 0,_toConsumableArray(n)).pipe(z((function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(ju((function(e){if(e instanceof Mh)return fu(null);throw e})))})),bu(),zu((function(e){return!!e})),ju((function(e,n){if(e instanceof vu||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return fu(new Vc([],{}));throw new Mh(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return zh(r)!==o?Fh(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Fh(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?jh(o):this.lineralizeSegments(n,o).pipe(Y((function(n){var o=new Vc(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=qh(t,r,i),u=s.matched,l=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!u)return Fh(t);var f=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?jh(f):this.lineralizeSegments(r,f).pipe(Y((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(z((function(e){return n._loadedConfig=e,new Vc(r,{})}))):fu(new Vc(r,{}));var o=qh(t,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return Fh(t);var l=r.slice(u);return this.getChildConfig(e,n,r).pipe(Y((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Hh(e,t,n)&&"primary"!==zh(n)}))}(e,n,r)?{segmentGroup:Bh(new Vc(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==zh(o)&&(n[zh(o)]=new Vc([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Vc(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Hh(e,t,n)}))}(e,n,r)?{segmentGroup:Bh(new Vc(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Hh(e,t,s)&&!r[zh(s)]&&(o[zh(s)]=new Vc([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign({},r,o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,l,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(z((function(e){return new Vc(s,e)}))):0===r.length&&0===u.length?fu(new Vc(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(z((function(e){return new Vc(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?fu(new Ac(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?fu(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Q(i).pipe(z((function(r){var i,o=e.get(r);if(function(e){return e&&Rh(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!Rh(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Fc(i)}))).pipe(bu(),(r=function(e){return!0===e},function(e){return e.lift(new Wu(r,void 0,e))})):fu(!0)}(e.injector,t,n).pipe(Y((function(n){return n?r.configLoader.load(e.injector,t).pipe(z((function(e){return t._loadedConfig=e,e}))):function(e){return new k((function(t){return t.error(Ic("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):fu(new Ac([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return fu(n);if(r.numberOfChildren>1||!r.children.primary)return Uh(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Uc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Lc(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return Lc(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new Vc(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function qh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Tc)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Bh(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Vc(e.segments.concat(t.segments),t.children)}return e}function Hh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function zh(e){return e.outlet||"primary"}var Wh=_createClass((function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]})),Gh=_createClass((function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n}));function Kh(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Qh(e,t,n){var r=lh(e),i=e.value;Lc(r,(function(e,r){Qh(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Gh(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Yh=Symbol("INITIAL_VALUE");function Xh(){return Ku((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return P(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),K(t,i).lift(new yu(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(qu(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=t[t.length-1];P(n)?t.pop():n=null;var r=t.length;return function(){return bu()(fu.apply(void 0,arguments))}(1!==r||n?r>0?K(t,n):cu(n):hu(t[0]),e)}}(Yh))})))).pipe(Xu((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Yh)return e;if(r===Yh&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Dh(r))return r}return e}),e)}),Yh),wu((function(e){return e!==Yh})),z((function(e){return Dh(e)?e:!0===e})),qu(1))}))}function $h(e,t){return null!==e&&t&&t(new bc(e)),fu(!0)}function Jh(e,t){return null!==e&&t&&t(new mc(e)),fu(!0)}function Zh(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?fu(r.map((function(r){return _u((function(){var i,o=Kh(r,t,n);if(function(e){return e&&Rh(e.canActivate)}(o))i=Fc(o.canActivate(t,e));else{if(!Rh(o))throw new Error("Invalid CanActivate guard");i=Fc(o(t,e))}return i.pipe(zu())}))}))).pipe(Xh()):fu(!0)}function ef(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return _u((function(){return fu(t.guards.map((function(i){var o,a=Kh(i,t.node,n);if(function(e){return e&&Rh(e.canActivateChild)}(a))o=Fc(a.canActivateChild(r,e));else{if(!Rh(a))throw new Error("Invalid CanActivateChild guard");o=Fc(a(r,e))}return o.pipe(zu())}))).pipe(Xh())}))}));return fu(i).pipe(Xh())}var tf=_createClass((function e(){_classCallCheck(this,e)})),nf=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=af(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new ph([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new uh(n,t),i=new vh(this.url,r);return this.inheritParamsAndData(i._root),fu(i)}catch(o){return new k((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=dh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Hc(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(s){if(!(s instanceof tf))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new tf}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new tf;if((e.outlet||"primary")!==r)throw new tf;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?Mc(n).parameters:{};i=new ph(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lf(e),r,e.component,e,rf(t),of(t)+n.length,cf(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new tf;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Tc)(n,e,t);if(!r)throw new tf;var i={};Lc(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new ph(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lf(e),r,e.component,e,rf(t),of(t)+o.length,cf(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=af(t,o,a,l,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(l,h);return[new uh(i,d)]}if(0===l.length&&0===f.length)return[new uh(i,[])];var p=this.processSegment(l,h,f,"primary");return[new uh(i,p)]}}]),e}();function rf(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function of(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function af(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return sf(e,t,n)&&"primary"!==uf(n)}))}(e,n,r)){var o=new Vc(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==uf(s)){var u=new Vc([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[uf(s)]=u}}}catch(l){a.e(l)}finally{a.f()}return i}(e,t,r,new Vc(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return sf(e,t,n)}))}(e,n,r)){var a=new Vc(e.segments,function(e,t,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var l=a.value;if(sf(e,n,l)&&!i[uf(l)]){var c=new Vc([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[uf(l)]=c}}}catch(h){u.e(h)}finally{u.f()}return Object.assign({},i,s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Vc(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function sf(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function uf(e){return e.outlet||"primary"}function lf(e){return e.data||{}}function cf(e){return e.resolve||{}}function hf(e,t,n,r){var i=Kh(e,t,r);return Fc(i.resolve?i.resolve(t,n):i(t,n))}function ff(e){return function(t){return t.pipe(Ku((function(t){var n=e(t);return n?Q(n).pipe(z((function(){return t}))):Q([t])})))}}var df=_createClass((function e(){_classCallCheck(this,e)})),pf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),vf=new Te("ROUTES"),gf=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(z((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Ac(Dc(i.injector.get(vf)).map(Pc),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Q(this.loader.load(e)):Fc(e()).pipe(Y((function(e){return e instanceof je?fu(e):Q(t.compiler.compileModuleAsync(e))})))}}]),e}(),yf=_createClass((function e(){_classCallCheck(this,e)})),mf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function _f(e){throw e}function bf(e,t,n){return t.parse("/")}function wf(e,t){return fu(null)}var Cf=function(){function e(t,n,r,i,o,a,s,u){var l=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new O,this.errorHandler=_f,this.malformedUriErrorHandler=bf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wf,afterPreactivation:wf},this.urlHandlingStrategy=new mf,this.routeReuseStrategy=new pf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Fe),this.console=o.get(Di);var c=o.get(Ji);this.isNgZoneEnabled=c instanceof Ji,this.resetConfig(u),this.currentUrlTree=new Uc(new Vc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gf(a,s,(function(e){return l.triggerEvent(new gc(e))}),(function(e){return l.triggerEvent(new yc(e))})),this.routerState=hh(this.currentUrlTree,this.rootComponentType),this.transitions=new du({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(wu((function(e){return 0!==e.id})),z((function(e){return Object.assign({},e,{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Ku((function(e){var r,i,o,a,s=!1,u=!1;return fu(e).pipe(Nu((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign({},t.lastSuccessfulNavigation,{previousNavigation:null}):null}})),Ku((function(e){var r,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return fu(e).pipe(Ku((function(e){var r=t.transitions.getValue();return n.next(new sc(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?lu:[e]})),Ku((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(Ku((function(e){return function(e,t,n,r,i){return new Vh(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(z((function(t){return Object.assign({},e,{urlAfterRedirects:t})})))})))}),Nu((function(e){t.currentNavigation=Object.assign({},t.currentNavigation,{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Y((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new nf(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(z((function(e){return Object.assign({},r,{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Nu((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Nu((function(e){var r=new hc(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,l=e.extractedUrl,c=e.source,h=e.restoredState,f=e.extras,d=new sc(u,t.serializeUrl(l),c,h);n.next(d);var p=hh(l,t.rootComponentType).snapshot;return fu(Object.assign({},e,{targetSnapshot:p,urlAfterRedirects:l,extras:Object.assign({},f,{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),lu})),ff((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Nu((function(e){var n=new fc(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),z((function(e){return Object.assign({},e,{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=lh(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Bc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Bc(e.url,t.url)||!Rc(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_h(e,t)||!Rc(e.queryParams,t.queryParams);case"paramsChange":default:return!_h(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Wh(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?u?u.children:null:r,i,o),l&&o.canDeactivateChecks.push(new Gh(u&&u.outlet&&u.outlet.component||null,s))}else s&&Qh(n,u,o),o.canActivateChecks.push(new Wh(i)),e(t,null,a.component?u?u.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),Lc(a,(function(e,t){return Qh(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Y((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?fu(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return Q(e).pipe(Y((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?fu(o.map((function(o){var a,s=Kh(o,t,i);if(function(e){return e&&Rh(e.canDeactivate)}(s))a=Fc(s.canDeactivate(e,t,n,r));else{if(!Rh(s))throw new Error("Invalid CanDeactivate guard");a=Fc(s(e,t,n,r))}return a.pipe(zu())}))).pipe(Xh()):fu(!0)}(e.component,e.route,n,t,r)})),zu((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(Y((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Q(t).pipe(Zu((function(t){return Q([Jh(t.route.parent,r),$h(t.route,r),ef(e,t.path,n),Zh(e,t.route,n)]).pipe(bu(),zu((function(e){return!0!==e}),!0))})),zu((function(e){return!0!==e}),!0))}(r,a,e,t):fu(n)})),z((function(e){return Object.assign({},n,{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Nu((function(e){if(Dh(e.guardsResult)){var n=Ic('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Nu((function(e){var n=new dc(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),wu((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new lc(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),ff((function(e){if(e.guards.canActivateChecks.length)return fu(e).pipe(Nu((function(e){var n=new pc(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Y((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?Q(i).pipe(Zu((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return fu({});if(1===i.length){var o=i[0];return hf(e[o],t,n,r).pipe(z((function(e){return _defineProperty({},o,e)})))}var a={};return Q(i).pipe(Y((function(i){return hf(e[i],t,n,r).pipe(z((function(e){return a[i]=e,e})))}))).pipe(Fu(),z((function(){return a})))}(e._resolve,e,t,r).pipe(z((function(t){return e._resolvedData=t,e.data=Object.assign({},e.data,dh(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return b(Xu(e,t),Iu(1),Du(t))(n)}:function(t){return b(Xu((function(t,n,r){return e(t,n,r+1)})),Iu(1))(t)}}((function(e,t){return e})),z((function(t){return e}))):fu(e)})))}),Nu((function(e){var n=new vc(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),ff((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),z((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,r);return new uh(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var u,l=new fh(new du((u=n.value).url),new du(u.params),new du(u.queryParams),new du(u.fragment),new du(u.data),u.outlet,u.component,u),c=n.children.map((function(n){return e(t,n)}));return new uh(l,c)}(e,t._root,n?n._root:void 0);return new ch(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:n})})),Nu((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},z((function(e){return new xh(o,e.targetRouterState,e.currentRouterState,a).activate(i),e}))),Nu({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new lc(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new el(r))}),ju((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Dh(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new lc(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),e.resolve(!1),i&&t.navigateByUrl(r.url)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new cc(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(l){e.reject(l)}}var s;return lu})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign({},this.getTransition(),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Nc(e),this.config=e.map(Pc),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.preserveQueryParams,a=t.queryParamsHandling,s=t.preserveFragment;Ke()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,l=s?this.currentUrlTree.fragment:i,c=null;if(a)switch(a){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return wh(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ch(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Lc(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new Ch(n,t,r)}(n);if(o.toRoot())return wh(t.root,new Vc([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new kh(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new kh(n.snapshot._urlSegment,!0,0);var r=bh(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new kh(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?Ih(a.segmentGroup,a.index,o.commands):Sh(a.segmentGroup,a.index,o.commands);return wh(a.segmentGroup,s,t,r,i)}(u,this.currentUrlTree,e,c,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Ke()&&this.isNgZoneEnabled&&!Ji.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Dh(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Dh(e))return jc(this.currentUrlTree,e,t);var n=this.parseUrl(e);return jc(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new uc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r){var i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise((function(e,t){o=e,a=t})),u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}(),kf=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Ke()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"onClick",value:function(){var e={skipLocationChange:Sf(this.skipLocationChange),replaceUrl:Sf(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Sf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Sf(this.preserveFragment)})}}]),e}(),Ef=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof uc&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Ke()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Sf(this.skipLocationChange),replaceUrl:Sf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Sf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Sf(this.preserveFragment)})}}]),e}();function Sf(e){return""===e||!!e}var If=_createClass((function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Tf,this.attachRef=null})),Tf=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new If,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Af=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new ki,this.deactivateEvents=new ki,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Nf(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}(),Nf=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===fh?this.route:e===Tf?this.childContexts:this.parent.get(e,t)}}]),e}(),Of=_createClass((function e(){_classCallCheck(this,e)})),xf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(ju((function(){return fu(null)})))}}]),e}(),Pf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return fu(null)}}]),e}(),Rf=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new gf(n,r,(function(e){return t.triggerEvent(new gc(e))}),(function(e){return t.triggerEvent(new yc(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(wu((function(e){return e instanceof uc})),Zu((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(Fe);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return Q(r).pipe(Z(),z((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Y((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}(),Df=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof sc?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof uc&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Cc&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Cc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}(),Mf=new Te("ROUTER_CONFIGURATION"),Lf=new Te("ROUTER_FORROOT_GUARD"),Ff=[ds,{provide:zc,useClass:Wc},{provide:Cf,useFactory:zf,deps:[yo,zc,Tf,ds,It,_o,Hi,vf,Mf,[yf,new le],[df,new le]]},Tf,{provide:fh,useFactory:Wf,deps:[Cf]},{provide:_o,useClass:Co},Rf,Pf,xf,{provide:Mf,useValue:{enableTracing:!1}}];function jf(){return new co("Router",Cf)}var Uf=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Ff,Hf(t),{provide:Lf,useFactory:Bf,deps:[[Cf,new le,new he]]},{provide:Mf,useValue:n||{}},{provide:hs,useFactory:qf,deps:[ls,[new ue(fs),new le],Mf]},{provide:Df,useFactory:Vf,deps:[Cf,su,Mf]},{provide:Of,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Pf},{provide:co,multi:!0,useFactory:jf},[Gf,{provide:Ii,multi:!0,useFactory:Kf,deps:[Gf]},{provide:Yf,useFactory:Qf,deps:[Gf]},{provide:Ri,multi:!0,useExisting:Yf}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Hf(t)]}}}]),e}();function Vf(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Df(e,t,n)}function qf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new vs(e,t):new gs(e,t)}function Bf(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Hf(e){return[{provide:Dt,multi:!0,useValue:e},{provide:vf,multi:!0,useValue:e}]}function zf(e,t,n,r,i,o,a,s){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},l=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,h=new Cf(null,t,n,r,i,o,a,Dc(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=rl();h.events.subscribe((function(e){f.logGroup("Router Event: "+e.constructor.name),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Wf(e){return e.routerState.root}var Gf=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new O}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(cs,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(Cf),i=e.injector.get(Mf);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?fu(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Mf),n=this.injector.get(Rf),r=this.injector.get(Df),i=this.injector.get(Cf),o=this.injector.get(yo);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();function Kf(e){return e.appInitializer.bind(e)}function Qf(e){return e.bootstrapListener.bind(e)}var Yf=new Te("Router Initializer"),Xf=Hn({encapsulation:2,styles:[],data:{}});function $f(e){return ta(0,[(e()(),Fo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ei(1,212992,null,0,Af,[Tf,In,Yt,[8,null],Ct],null,null)],(function(e,t){e(t,1,0)}),null)}var Jf=Or("ng-component",kc,(function(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"ng-component",[],null,null,null,$f,Xf)),ei(1,49152,null,0,kc,[],null,null)],null,null)}),{},{},[]),Zf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){console.log(this.postData)}}]),e}(),ed=Hn({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{max-width:400px;min-height:500px}"]],data:{}});function td(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"small",[["class","bg-light text-danger text-center ml-3"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Featured"]))],null,null)}function nd(e){return ta(0,[(e()(),Fo(0,0,null,null,17,"div",[["class","card shadow-effect"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==qr(e,1).onClick()&&r),r}),null,null)),ei(1,16384,null,0,kf,[Cf,fh,[8,null],on,Zt],{routerLink:[0,"routerLink"]},null),Yo(2,2),(e()(),Fo(3,0,null,null,0,"img",[["alt","post-image"],["class","card-img-top"]],[[8,"src",4]],null,null,null,null)),(e()(),Fo(4,0,null,null,13,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),Fo(5,0,null,null,1,"small",[["class","bg-light text-danger text-center"]],null,null,null,null,null)),(e()(),Jo(6,null,["",""])),(e()(),Lo(16777216,null,null,1,null,td)),ei(8,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null),(e()(),Fo(9,0,null,null,1,"small",[["class","bg-light text-danger text-center ml-3"]],null,null,null,null,null)),(e()(),Jo(10,null,["Views-",""])),(e()(),Fo(11,0,null,null,1,"h5",[["class"," bg-light text-info mt-1"]],null,null,null,null,null)),(e()(),Jo(12,null,["",""])),(e()(),Fo(13,0,null,null,1,"p",[["class","bg-light text-info"]],null,null,null,null,null)),(e()(),Jo(14,null,["",""])),(e()(),Fo(15,0,null,null,2,"small",[["class","bg-light text-warning text-center ml-3"]],null,null,null,null,null)),(e()(),Jo(16,null,["LAST UPDATED -",""])),Qo(17,1)],(function(e,t){var n=t.component,r=e(t,2,0,"/post",n.postData.id);e(t,1,0,r),e(t,8,0,n.postData.data.isFeatured)}),(function(e,t){var n=t.component;e(t,3,0,yr(1,"",n.postData.data.postImgPath,"")),e(t,6,0,n.postData.data.category.category),e(t,10,0,n.postData.data.views),e(t,12,0,n.postData.data.title),e(t,14,0,n.postData.data.excerpt);var r=Bn(t,16,0,e(t,17,0,qr(t.parent,0),n.postData.data.createdAt.toMillis()));e(t,16,0,r)}))}function rd(e){return ta(0,[ti(0,nu,[Mi]),(e()(),Lo(16777216,null,null,1,null,nd)),ei(2,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.component.postData)}),null)}var id=Or("app-post-card",Zf,(function(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"app-post-card",[],null,null,null,rd,ed)),ei(1,114688,null,0,Zf,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{postData:"postData"},{},[]),od=function(){function e(t){_classCallCheck(this,e),this.postService=t,this.featuredPostsArray=[],this.latestPostsArray=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.postService.loadFeatured().subscribe((function(t){e.featuredPostsArray=t})),this.postService.loadLatest().subscribe((function(t){e.latestPostsArray=t}))}}]),e}(),ad=n("iqUP"),sd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(d)),ud=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),ld=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ud.now;return _classCallCheck(this,n),(r=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(ud),cd=new ld(sd);function hd(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cd;return new k((function(n){var r;return null!=t?t.schedule((function(){r=e.onSnapshot(n)})):r=e.onSnapshot(n),function(){null!=r&&r()}}))}(e,t)}function fd(e,t){return hd(e,t).pipe(z((function(e){return{payload:e,type:"query"}})))}var dd=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return fu(this.value);case"E":return e=this.error,new k((function(t){return t.error(e)}));case"C":return cu()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function pd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new vd(e,t))}}var vd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new gd(e,this.scheduler,this.delay))}}]),e}(),gd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new yd(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(dd.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(dd.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(dd.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(g),yd=_createClass((function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n}));function md(e,t){return fd(e,t).pipe(z((function(e){return e.payload.docChanges().map((function(e){return{type:e.type,payload:e}}))})))}function _d(e,t,n){return fd(e,n).pipe(z((function(e){return e.payload.docChanges()})),Xu((function(e,n){return function(e,t,n){return t.forEach((function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}(e,t))})),e}(e,n,t)}),[]),z((function(e){return e.map((function(e){return{type:e.type,payload:e}}))})))}function bd(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var wd=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?md(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,z((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),wu((function(e){return e.length>0}))):md(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Xu((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=bd(e);return _d(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,z((function(t){return t.payload.docs.map((function(t){return e.idField?Object.assign({},t.data(),_defineProperty({},e.idField,t.id)):t.data()}))})))}},{key:"get",value:function(e){return Q(this.query.get(e)).pipe(pd(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new Cd(this.ref.doc(e),this.afs)}}]),e}(),Cd=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=ep(this.ref.collection(e),t),r=n.ref,i=n.query;return new wd(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return hd(this.ref,this.afs.schedulers.outsideAngular).pipe(z((function(e){return{payload:e,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(z((function(e){return e.payload.data()})))}},{key:"get",value:function(e){return Q(this.ref.get(e)).pipe(pd(this.afs.schedulers.insideAngular))}}]),e}(),kd=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?md(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,z((function(t){return t.filter((function(t){return e.indexOf(t.type)>-1}))})),wu((function(e){return e.length>0}))):md(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Xu((function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))}),[]))}},{key:"snapshotChanges",value:function(e){var t=bd(e);return _d(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return fd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,z((function(e){return e.payload.docs.map((function(e){return e.data()}))})))}},{key:"get",value:function(e){return Q(this.query.get(e)).pipe(pd(this.afs.schedulers.insideAngular))}}]),e}(),Ed=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(sd),Sd=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(ld))(Ed),Id=1,Td={},Ad=function(e){var t=Id++;return Td[t]=e,Promise.resolve().then((function(){return function(e){var t=Td[e];t&&t()}(t)})),t},Nd=function(e){delete Td[e]},Od=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=Ad(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(Nd(t),e.scheduled=void 0)}}]),n}(sd),xd=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(ld))(Od),Pd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xd;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=o,r.scheduler=a,(u(i=o)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=xd),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xd;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(k),Rd=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new Pd(t,this.delay,this.scheduler).subscribe(e)}}]),e}();function Dd(){}var Md,Ld=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sd;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),Fd=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",Dd,{},Dd,Dd)})),t.pipe(Nu(n,n,n)).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}]),e}(),jd=_createClass((function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new Ld(Zone.current)})),this.insideAngular=t.run((function(){return new Ld(Zone.current,cd)}))})),Ud=n("Wcq6"),Vd=n.n(Ud),qd=new Te("angularfire2.app.options"),Bd=new Te("angularfire2.app.nameOrConfig"),Hd=qd,zd=Bd,Wd=_createClass((function e(){_classCallCheck(this,e)})),Gd=new sn("5.4.2");function Kd(e,t,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Vd.a.apps.filter((function(e){return e&&e.name===r.name}))[0]||t.runOutsideAngular((function(){return Vd.a.initializeApp(e,r)}))}var Qd=Md=function(){function e(t){_classCallCheck(this,e),Vd.a.registerVersion&&(Vd.a.registerVersion("angularfire",Gd.full,t.toString()),Vd.a.registerVersion("angular",un.full))}return _createClass(e,null,[{key:"initializeApp",value:function(e,t){return{ngModule:Md,providers:[{provide:Hd,useValue:e},{provide:zd,useValue:t}]}}}]),e}(),Yd=new Te("angularfire2.enableFirestorePersistence"),Xd=new Te("angularfire2.firestore.persistenceSettings"),$d=new Te("angularfire2.firestore.settings"),Jd=parseInt(Vd.a.SDK_VERSION.split(".")[0]),Zd=Jd<5||5==Jd&&parseInt(Vd.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function ep(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var tp,np=function(){function e(t,n,r,i,o,a,s){var u=this;_classCallCheck(this,e),this.schedulers=new jd(a),this.keepUnstableUntilFirst=function(e,t){return function(n){return ou(t)&&(n=n.lift(new Fd(e.ngZone))),n.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new Rd(e,t))}}(e.outsideAngular),pd(e.insideAngular))}}(this.schedulers,o),this.firestore=a.runOutsideAngular((function(){var e=Kd(t,a,n).firestore();return e.settings(i||Zd),e})),this.persistenceEnabled$=r&&!ou(o)?a.runOutsideAngular((function(){try{return Q(u.firestore.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(e){return fu(!1)}})):fu(!1)}return _createClass(e,[{key:"collection",value:function(e,t){var n=ep("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query;return new wd(r,i,this)}},{key:"collectionGroup",value:function(e,t){if(Jd<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new kd(n(r),this)}},{key:"doc",value:function(e){var t;return t="string"==typeof e?this.firestore.doc(e):e,new Cd(t,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}(),rp=((tp=function(){function e(t){_classCallCheck(this,e),this.afs=t}return _createClass(e,[{key:"loadFeatured",value:function(){return this.afs.collection("posts",(function(e){return e.where("isFeatured","==",!0).limit(4)})).snapshotChanges().pipe(z((function(e){return e.map((function(e){var t=e.payload.doc.data();return{id:e.payload.doc.id,data:t}}))})))}},{key:"loadLatest",value:function(){return this.afs.collection("posts",(function(e){return e.orderBy("createdAt")})).snapshotChanges().pipe(z((function(e){return e.map((function(e){var t=e.payload.doc.data();return{id:e.payload.doc.id,data:t}}))})))}},{key:"loadCetegoryPosts",value:function(e){return this.afs.collection("posts",(function(t){return t.where("category.categoryId","==",e).limit(4)})).snapshotChanges().pipe(z((function(e){return e.map((function(e){var t=e.payload.doc.data();return{id:e.payload.doc.id,data:t}}))})))}},{key:"loadOnePost",value:function(e){return this.afs.doc("posts/"+e).valueChanges()}},{key:"loadSimilar",value:function(e){return this.afs.collection("posts",(function(t){return t.where("category.categoryId","==",e).limit(4)})).snapshotChanges().pipe(z((function(e){return e.map((function(e){var t=e.payload.doc.data();return{id:e.payload.doc.id,data:t}}))})))}},{key:"countViews",value:function(e){var t={views:ad.firestore.FieldValue.increment(1)};this.afs.doc("posts/"+e).update(t).then((function(){console.log("views Count Updated")}))}}]),e}()).ngInjectableDef=pe({factory:function(){return new tp(De(np))},token:tp,providedIn:"root"}),tp),ip=Hn({encapsulation:0,styles:[[".featured-section[_ngcontent-%COMP%]{padding-left:40px;padding-right:40px;padding-bottom:40px;background-color:var(--primary-color);margin:auto auto 8px;border-radius:10px;box-shadow:0 0 20px rgba(0,0,0,.1)}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function op(e){return ta(0,[(e()(),Fo(0,0,null,null,2,"div",[["class","col-lg-3 col-md-4"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,1,"app-post-card",[],null,null,null,rd,ed)),ei(2,114688,null,0,Zf,[],{postData:[0,"postData"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function ap(e){return ta(0,[(e()(),Fo(0,0,null,null,2,"div",[["class","col-md-4 mt-3"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,1,"app-post-card",[],null,null,null,rd,ed)),ei(2,114688,null,0,Zf,[],{postData:[0,"postData"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function sp(e){return ta(0,[(e()(),Fo(0,0,null,null,10,"section",[["class","featured-section"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,9,"div",[["class","container mt-5"]],null,null,null,null,null)),(e()(),Fo(2,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),Fo(3,0,null,null,4,"div",[["class","col-md-12 text-center"]],null,null,null,null,null)),(e()(),Fo(4,0,null,null,1,"h2",[["class","text-white"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Featured Post"])),(e()(),Fo(6,0,null,null,1,"p",[["class","text-white"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Kartik Patel Home Page"])),(e()(),Fo(8,0,null,null,2,"div",[["class","row cursor-pointer"]],null,null,null,null,null)),(e()(),Lo(16777216,null,null,1,null,op)),ei(10,278528,null,0,$s,[In,En,_n],{ngForOf:[0,"ngForOf"]},null),(e()(),Fo(11,0,null,null,8,"section",[["class","continer mt-5"]],null,null,null,null,null)),(e()(),Fo(12,0,null,null,4,"div",[["class","col-md-12 text-center"]],null,null,null,null,null)),(e()(),Fo(13,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Latest Posts"])),(e()(),Fo(15,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Kartik patel latest post"])),(e()(),Fo(17,0,null,null,2,"div",[["class","row cursor-pointer"]],null,null,null,null,null)),(e()(),Lo(16777216,null,null,1,null,ap)),ei(19,278528,null,0,$s,[In,En,_n],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,10,0,n.featuredPostsArray),e(t,19,0,n.latestPostsArray)}),null)}var up=Or("app-home",od,(function(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"app-home",[],null,null,null,sp,ip)),ei(1,114688,null,0,od,[rp],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),lp=function(){function e(){_classCallCheck(this,e),this.isDarkMode=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"toggleDarkMode",value:function(){this.isDarkMode=!this.isDarkMode,document.querySelector("body").classList.toggle("dark-mode",this.isDarkMode)}}]),e}(),cp=Hn({encapsulation:0,styles:[["dark-mode[_ngcontent-%COMP%]{background-color:#23af16;color:#705454}"]],data:{}});function hp(e){return ta(0,[],null,null)}var fp=Or("app-dark-mode",lp,(function(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"app-dark-mode",[],null,null,null,hp,cp)),ei(1,114688,null,0,lp,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),dp=function(){function e(t,n){_classCallCheck(this,e),this.route=t,this.postService=n,this.postsArray=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){console.log(t),e.categoryObj=t,e.postService.loadCetegoryPosts(t.id).subscribe((function(t){e.postsArray=t}))}))}}]),e}(),pp=Hn({encapsulation:0,styles:[[""]],data:{}});function vp(e){return ta(0,[(e()(),Fo(0,0,null,null,2,"div",[["class","col-md-4 mb-3"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,1,"app-post-card",[],null,null,null,rd,ed)),ei(2,114688,null,0,Zf,[],{postData:[0,"postData"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function gp(e){return ta(0,[(e()(),Fo(0,0,null,null,5,"div",[["class","bg-theme"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(e()(),Fo(2,0,null,null,1,"h1",[["class","text-white"]],null,null,null,null,null)),(e()(),Jo(3,null,["",""])),(e()(),Fo(4,0,null,null,1,"p",[["class","text-white"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Kartik patel Blog Website Premium Content"])),(e()(),Fo(6,0,null,null,3,"div",[["class","container mt-5 mb-5"]],null,null,null,null,null)),(e()(),Fo(7,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(e()(),Lo(16777216,null,null,1,null,vp)),ei(9,278528,null,0,$s,[In,En,_n],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,9,0,t.component.postsArray)}),(function(e,t){e(t,3,0,t.component.categoryObj.category)}))}var yp=Or("app-single-category",dp,(function(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"app-single-category",[],null,null,null,gp,pp)),ei(1,114688,null,0,dp,[fh,rp],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),mp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this,e)).sources=r,i.completed=0,i.haveValues=0;var o=r.length;i.values=new Array(o);for(var a=0;a<o;a++){var s=B(_assertThisInitialized(i),r[a],null,a);s&&i.add(s)}return i}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(e){var t=this.destination,n=this.haveValues,r=this.values,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()}}]),n}(H),_p=new Te("NgValueAccessor"),bp=new Te("CompositionEventMode"),wp=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=rl()?rl().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}(),Cp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}(),kp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Cp);function Ep(){throw new Error("unimplemented")}var Sp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return Ep()}},{key:"asyncValidator",get:function(){return Ep()}}]),n}(Cp),Ip=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),Tp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n)}(Ip),Ap=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n)}(Ip);function Np(e){return null==e||0===e.length}var Op=new Te("NgValidators"),xp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(Np(t.value)||Np(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Np(t.value)||Np(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Np(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Np(e.value)||xp.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(Np(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(Np(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(Rp);return 0==t.length?null:function(e){return Mp(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(Rp);return 0==t.length?null:function(e){return function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i;return"function"==typeof n[n.length-1]&&(i=n.pop()),1===n.length&&u(n[0])&&(n=n[0]),0===n.length?lu:i?e(n).pipe(z((function(e){return i.apply(void 0,_toConsumableArray(e))}))):new k((function(e){return new mp(e,n)}))}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(Dp)).pipe(z(Mp))}}}]),e}();function Rp(e){return null!=e}function Dp(e){var t=Bt(e)?Q(e):e;if(!Ht(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Mp(e){var t=e.reduce((function(e,t){return null!=t?Object.assign({},e,t):e}),{});return 0===Object.keys(t).length?null:t}function Lp(e){return e.validate?function(t){return e.validate(t)}:e}function Fp(e){return e.validate?function(t){return e.validate(t)}:e}var jp=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}(),Up='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Vp='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function qp(e,t){return[].concat(_toConsumableArray(t.path),[e])}function Bp(e,t){e||zp(t,"Cannot find control with"),t.valueAccessor||zp(t,"No value accessor for form control with"),e.validator=Pp.compose([e.validator,t.validator]),e.asyncValidator=Pp.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Hp(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Hp(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Hp(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function zp(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Wp(e){return null!=e?Pp.compose(e.map(Lp)):null}function Gp(e){return null!=e?Pp.composeAsync(e.map(Fp)):null}var Kp=[function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Ft}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),e}(),function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Ft}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var u=n.options,l=0;l<u.length;l++){var c=u.item(l);if(c.selected){var h=t._getOptionValue(c.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),e}(),function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Sp),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()];function Qp(e){var t=Xp(e)?e.validators:e;return Array.isArray(t)?Wp(t):t||null}function Yp(e,t){var n=Xp(t)?t.asyncValidators:e;return Array.isArray(n)?Gp(n):n||null}function Xp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var $p,Jp=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this.validator=Qp(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Yp(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign({},e,{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign({},e,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=Dp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((function(e,t){return e instanceof ev?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof tv&&e.at(t)||null}),e))}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new ki,this.statusChanges=new ki}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Xp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}]),e}(),Zp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,Qp(i),Yp(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(Jp),ev=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,Qp(r),Yp(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof Zp?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Jp),tv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,Qp(r),Yp(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof Zp?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(Jp),nv=Promise.resolve(null),rv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new ki,i.form=new ev({},Wp(e),Gp(r)),i}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;nv.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Bp(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;nv.then((function(){var n,r,i,o=t._findContainer(e.path);o&&o.removeControl(e.name),n=t._directives,r=e,(i=n.indexOf(r))>-1&&n.splice(i,1)}))}},{key:"addFormGroup",value:function(e){var t=this;nv.then((function(){var n=t._findContainer(e.path),r=new ev({});(function(e,t){null==e&&zp(t,"Cannot find control with"),e.validator=Pp.compose([e.validator,t.validator]),e.asyncValidator=Pp.composeAsync([e.asyncValidator,t.asyncValidator])})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;nv.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;nv.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(kp),iv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(Up,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(Vp))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(Up,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(Vp))}},{key:"ngFormWarning",value:function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}]),e}(),ov=new Te("NgFormSelectorWarning"),av=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return qp(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Wp(this._validators)}},{key:"asyncValidator",get:function(){return Gp(this._asyncValidators)}},{key:"_checkParentType",value:function(){}}]),n}(kp),sv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof rv||iv.modelGroupParentException()}}]),n}(av),uv=Promise.resolve(null),lv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this)).control=new Zp,a._registered=!1,a.update=new ki,a._parent=e,a._rawValidators=r||[],a._rawAsyncValidators=i||[],a.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||zp(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===wp?n=t:(o=t,Kp.some((function(e){return o.constructor===e}))?(r&&zp(e,"More than one built-in value accessor matches form control with"),r=t):(i&&zp(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(zp(e,"No valid value accessor for form control with"),null)}(_assertThisInitialized(a),o),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Ft(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?qp(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Wp(this._rawValidators)}},{key:"asyncValidator",get:function(){return Gp(this._rawAsyncValidators)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Bp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof sv)&&this._parent instanceof av?iv.formGroupNameException():this._parent instanceof sv||this._parent instanceof rv||iv.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||iv.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;uv.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;uv.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}}]),n}(Sp),cv=_createClass((function e(){_classCallCheck(this,e)})),hv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}},{key:"validate",value:function(e){return this.required?Pp.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}}]),e}(),fv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"email",set:function(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}},{key:"validate",value:function(e){return this._enabled?Pp.email(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}}]),e}(),dv=_createClass((function e(){_classCallCheck(this,e)})),pv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:ov,useValue:t.warnOnDeprecatedNgFormSelector}]}}}]),e}(),vv=function(){function e(t){_classCallCheck(this,e),this.commentsService=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){var t={name:e.name,comment:e.comment,timestamp:new Date(Date.now()).toISOString()};console.log(t.name),console.log(t.timestamp),this.commentsService.addComments(t),this.commentForm.resetForm()}}]),e}(),gv=(($p=function(){function e(t){_classCallCheck(this,e),this.afs=t}return _createClass(e,[{key:"addComments",value:function(e){this.afs.collection("comments").add(e).then((function(){console.log("Comments Saved Successfuly")}))}},{key:"loadComment",value:function(){return this.afs.collection("comments",(function(e){return e.orderBy("timestamp")})).snapshotChanges().pipe(z((function(e){return e.map((function(e){var t=e.payload.doc.data();return{id:e.payload.doc.id,data:t}}))})))}}]),e}()).ngInjectableDef=pe({factory:function(){return new $p(De(np))},token:$p,providedIn:"root"}),$p),yv=Hn({encapsulation:0,styles:[[""]],data:{}});function mv(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Name is Required"]))],null,null)}function _v(e){return ta(0,[(e()(),Fo(0,0,null,null,2,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),Lo(16777216,null,null,1,null,mv)),ei(2,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,null==qr(t.parent,23).errors?null:qr(t.parent,23).errors.required)}),null)}function bv(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Email is Required"]))],null,null)}function wv(e){return ta(0,[(e()(),Fo(0,0,null,null,2,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),Lo(16777216,null,null,1,null,bv)),ei(2,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,null==qr(t.parent,39).errors?null:qr(t.parent,39).errors.required)}),null)}function Cv(e){return ta(0,[Bo(671088640,1,{commentForm:0}),(e()(),Fo(1,0,null,null,45,"div",[["class","card mt-5 shadow-effect"]],null,null,null,null,null)),(e()(),Fo(2,0,null,null,44,"div",[["class","card-body text-info"]],null,null,null,null,null)),(e()(),Fo(3,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Leave a Comment"])),(e()(),Fo(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jo(-1,null,["You can leave a comment using this comment form"])),(e()(),Fo(7,0,null,null,39,"form",[["class","form-inline mb-5 mt-5 "],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,i=e.component;return"submit"===t&&(r=!1!==qr(e,9).onSubmit(n)&&r),"reset"===t&&(r=!1!==qr(e,9).onReset()&&r),"ngSubmit"===t&&(r=!1!==i.onSubmit(qr(e,9).value)&&r),r}),null,null)),ei(8,16384,null,0,cv,[],null,null),ei(9,4210688,[[1,4],["commentForm",4]],0,rv,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ni(2048,null,kp,null,[rv]),ei(11,16384,null,0,Ap,[[4,kp]],null,null),(e()(),Fo(12,0,null,null,15,"div",[["class","form-group  col-md-5 text-secondary"]],null,null,null,null,null)),(e()(),Fo(13,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Jo(-1,null,["name:"])),(e()(),Fo(15,0,null,null,10,"input",[["class","from-control "],["name","name"],["ngModel",""],["placeholder","Your name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==qr(e,19)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==qr(e,19).onTouched()&&r),"compositionstart"===t&&(r=!1!==qr(e,19)._compositionStart()&&r),"compositionend"===t&&(r=!1!==qr(e,19)._compositionEnd(n.target.value)&&r),r}),null,null)),ni(512,null,Ks,Qs,[_n,bn,Zt,on]),ei(17,278528,null,0,Ys,[Ks],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(18,{"is-invalid":0}),ei(19,16384,null,0,wp,[on,Zt,[2,bp]],null,null),ei(20,16384,null,0,hv,[],{required:[0,"required"]},null),ni(1024,null,Op,(function(e){return[e]}),[hv]),ni(1024,null,_p,(function(e){return[e]}),[wp]),ei(23,671744,[["Name",4]],0,lv,[[2,kp],[6,Op],[8,null],[6,_p]],{name:[0,"name"],model:[1,"model"]},null),ni(2048,null,Sp,null,[lv]),ei(25,16384,null,0,Tp,[[4,Sp]],null,null),(e()(),Lo(16777216,null,null,1,null,_v)),ei(27,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null),(e()(),Fo(28,0,null,null,15,"div",[["class","form-group col-md-5 text-secondary"]],null,null,null,null,null)),(e()(),Fo(29,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Jo(-1,null,["Comment:"])),(e()(),Fo(31,0,null,null,10,"textarea",[["class","form-control shadow-effect"],["cols","30"],["name","comment"],["ngModel",""],["placeholder","Add Your Comment Here"],["required",""],["rows","10"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==qr(e,35)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==qr(e,35).onTouched()&&r),"compositionstart"===t&&(r=!1!==qr(e,35)._compositionStart()&&r),"compositionend"===t&&(r=!1!==qr(e,35)._compositionEnd(n.target.value)&&r),r}),null,null)),ni(512,null,Ks,Qs,[_n,bn,Zt,on]),ei(33,278528,null,0,Ys,[Ks],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(34,{"is-invalid":0}),ei(35,16384,null,0,wp,[on,Zt,[2,bp]],null,null),ei(36,16384,null,0,hv,[],{required:[0,"required"]},null),ni(1024,null,Op,(function(e){return[e]}),[hv]),ni(1024,null,_p,(function(e){return[e]}),[wp]),ei(39,671744,[["Comment",4]],0,lv,[[2,kp],[6,Op],[8,null],[6,_p]],{name:[0,"name"],model:[1,"model"]},null),ni(2048,null,Sp,null,[lv]),ei(41,16384,null,0,Tp,[[4,Sp]],null,null),(e()(),Lo(16777216,null,null,1,null,wv)),ei(43,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null),(e()(),Fo(44,0,null,null,2,"div",[["class","col-md-2"]],null,null,null,null,null)),(e()(),Fo(45,0,null,null,1,"button",[["class","btn btn-info btn-block btn-theme"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Jo(-1,null,["Add Comments"]))],(function(e,t){var n=e(t,18,0,qr(t,23).touched&&qr(t,23).invalid);e(t,17,0,"from-control ",n),e(t,20,0,""),e(t,23,0,"name",""),e(t,27,0,qr(t,23).touched&&qr(t,23).invalid);var r=e(t,34,0,qr(t,39).touched&&qr(t,39).invalid);e(t,33,0,"form-control shadow-effect",r),e(t,36,0,""),e(t,39,0,"comment",""),e(t,43,0,qr(t,39).touched&&qr(t,39).invalid)}),(function(e,t){e(t,7,0,qr(t,11).ngClassUntouched,qr(t,11).ngClassTouched,qr(t,11).ngClassPristine,qr(t,11).ngClassDirty,qr(t,11).ngClassValid,qr(t,11).ngClassInvalid,qr(t,11).ngClassPending),e(t,15,0,qr(t,20).required?"":null,qr(t,25).ngClassUntouched,qr(t,25).ngClassTouched,qr(t,25).ngClassPristine,qr(t,25).ngClassDirty,qr(t,25).ngClassValid,qr(t,25).ngClassInvalid,qr(t,25).ngClassPending),e(t,31,0,qr(t,36).required?"":null,qr(t,41).ngClassUntouched,qr(t,41).ngClassTouched,qr(t,41).ngClassPristine,qr(t,41).ngClassDirty,qr(t,41).ngClassValid,qr(t,41).ngClassInvalid,qr(t,41).ngClassPending),e(t,45,0,qr(t,9).invalid)}))}var kv=function(){function e(t){_classCallCheck(this,e),this.commentsService=t,this.comments=[],this.totalComments=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.commentsService.loadComment().subscribe((function(t){e.comments=t,e.totalComments=e.comments.length}))}}]),e}(),Ev=Hn({encapsulation:0,styles:[[".comment-box[_ngcontent-%COMP%]{padding:15px 35px;background-color:#f0f0f0}"]],data:{}});function Sv(e){return ta(0,[(e()(),Fo(0,0,null,null,11,"li",[],null,null,null,null,null)),(e()(),Fo(1,0,null,null,1,"h6",[["class","mb-0 text-info"]],null,null,null,null,null)),(e()(),Jo(2,null,["",""])),(e()(),Fo(3,0,null,null,1,"small",[["class","text-primary"]],null,null,null,null,null)),(e()(),Jo(4,null,["Last Updated-:",""])),(e()(),Fo(5,0,null,null,1,"h5",[["class","mt-1 mb-2 text-secondary"]],null,null,null,null,null)),(e()(),Jo(6,null,[" "," "])),(e()(),Fo(7,0,null,null,1,"a",[["class","text-secondary mt-1"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Reply"])),(e()(),Fo(9,0,null,null,1,"a",[["class","text-secondary mt-1 ml-3"]],null,null,null,null,null)),(e()(),Jo(-1,null,["View-Reply"])),(e()(),Fo(11,0,null,null,0,"br",[],null,null,null,null,null))],null,(function(e,t){e(t,2,0,t.context.$implicit.data.name),e(t,4,0,t.context.$implicit.data.timestamp),e(t,6,0,t.context.$implicit.data.comment)}))}function Iv(e){return ta(0,[(e()(),Fo(0,0,null,null,7,"div",[["class","card mb-5 mt-5 pb-5 shadow-effect"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),Fo(2,0,null,null,1,"h4",[["class","mt-3 mb-3"]],null,null,null,null,null)),(e()(),Jo(3,null,["Total comments: ",""])),(e()(),Fo(4,0,null,null,3,"div",[["class","comment-box mt-3"]],null,null,null,null,null)),(e()(),Fo(5,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Lo(16777216,null,null,1,null,Sv)),ei(7,278528,null,0,$s,[In,En,_n],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,7,0,t.component.comments)}),(function(e,t){e(t,3,0,t.component.totalComments)}))}var Tv=function(){function e(t,n){_classCallCheck(this,e),this.postService=t,this.route=n,this.similarPostArray=[],this.showScrollToTop=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.postService.countViews(t.id),e.postService.loadOnePost(t.id).subscribe((function(t){e.postData=t,e.loadSimilarPost(e.postData.category.categoryId)}))}))}},{key:"loadSimilarPost",value:function(e){var t=this;this.postService.loadSimilar(e).subscribe((function(e){t.similarPostArray=e}))}},{key:"onWindowScroll",value:function(e){this.showScrollToTop=window.pageYOffset>500}},{key:"scrollToTop",value:function(){window.scrollTo({top:0,behavior:"smooth"})}},{key:"scrollToBottom",value:function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}}]),e}(),Av=Hn({encapsulation:0,styles:[[""]],data:{}});function Nv(e){return ta(0,[(e()(),Fo(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Fo(1,0,null,null,1,"app-post-card",[],null,null,null,rd,ed)),ei(2,114688,null,0,Zf,[],{postData:[0,"postData"]},null)],(function(e,t){e(t,2,0,t.context.$implicit)}),null)}function Ov(e){return ta(0,[(e()(),Fo(0,0,null,null,24,"div",[["class","container"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),Fo(2,0,null,null,19,"div",[["class","col-md-9"]],null,null,null,null,null)),(e()(),Fo(3,0,null,null,14,"div",[["class","card shadow-effect"]],null,null,null,null,null)),(e()(),Fo(4,0,null,null,0,"img",[["alt",""],["class","card-img-top img-fluid"]],[[8,"src",4]],null,null,null,null)),(e()(),Fo(5,0,null,null,12,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),Fo(6,0,null,null,1,"small",[["class","bg-light text-danger text-center"]],null,null,null,null,null)),(e()(),Jo(7,null,["",""])),(e()(),Fo(8,0,null,null,1,"small",[["class","bg-light text-info text-center ml-2"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Featured"])),(e()(),Fo(10,0,null,null,1,"small",[["class","bg-light text-info text-center ml-2"]],null,null,null,null,null)),(e()(),Jo(11,null,["Views-",""])),(e()(),Fo(12,0,null,null,2,"small",[["class","bg-light text-warning text-center ml-2"]],null,null,null,null,null)),(e()(),Jo(13,null,["Last Updates - ",""])),Qo(14,1),(e()(),Fo(15,0,null,null,1,"h1",[["class","mt-3 mb-3 text-info"]],null,null,null,null,null)),(e()(),Jo(16,null,["",""])),(e()(),Fo(17,0,null,null,0,"h6",[["class","bg-light text-info"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),Fo(18,0,null,null,1,"app-comment-form",[],null,null,null,Cv,yv)),ei(19,114688,null,0,vv,[gv],null,null),(e()(),Fo(20,0,null,null,1,"app-comment-list",[],null,null,null,Iv,Ev)),ei(21,114688,null,0,kv,[gv],null,null),(e()(),Fo(22,0,null,null,2,"div",[["class","col-md-3"]],null,null,null,null,null)),(e()(),Lo(16777216,null,null,1,null,Nv)),ei(24,278528,null,0,$s,[In,En,_n],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,19,0),e(t,21,0),e(t,24,0,n.similarPostArray)}),(function(e,t){var n=t.component;e(t,4,0,yr(1,"",n.postData.postImgPath,"")),e(t,7,0,n.postData.category.category),e(t,11,0,n.postData.views);var r=Bn(t,13,0,e(t,14,0,qr(t.parent,0),n.postData.createdAt.toMillis()));e(t,13,0,r),e(t,16,0,n.postData.title),e(t,17,0,n.postData.content)}))}function xv(e){return ta(0,[ti(0,nu,[Mi]),(e()(),Fo(1,0,null,null,3,"button",[["class","btn btn-secondary rounded-circle scroll-to-bottom"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.scrollToBottom()&&r),r}),null,null)),(e()(),Fo(2,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jo(-1,null,["down"])),(e()(),Fo(4,0,null,null,0,"i",[["class","fas fa-angle-down"]],null,null,null,null,null)),(e()(),Lo(16777216,null,null,1,null,Ov)),ei(6,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null),(e()(),Fo(7,0,null,null,3,"button",[["class","btn btn-secondary rounded-circle scroll-to-top"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.scrollToTop()&&r),r}),null,null)),(e()(),Fo(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jo(-1,null,["up"])),(e()(),Fo(10,0,null,null,0,"i",[["class","fas fa-angle-up"]],null,null,null,null,null))],(function(e,t){e(t,6,0,t.component.postData)}),null)}var Pv=Or("app-singl-posts",Tv,(function(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"app-singl-posts",[],null,[["window","scroll"]],(function(e,t,n){var r=!0;return"window:scroll"===t&&(r=!1!==qr(e,1).onWindowScroll(n)&&r),r}),xv,Av)),ei(1,114688,null,0,Tv,[rp,fh],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Rv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),Dv=Hn({encapsulation:0,styles:[[""]],data:{}});function Mv(e){return ta(0,[(e()(),Fo(0,0,null,null,13,"section",[["class","mt-5"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,12,"div",[["class","container mt-5 mb-5 p-5 bg-theme"]],null,null,null,null,null)),(e()(),Fo(2,0,null,null,1,"h1",[["class","text-white text-center"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Terms&Conditions"])),(e()(),Fo(4,0,null,null,9,"div",[["class","p-5 mt-4 bg-secondary-theme text-theme-primary"]],null,null,null,null,null)),(e()(),Fo(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Kartik is Good Full Stact Developer He is Persuing Btech from Svvv Indore"])),(e()(),Fo(7,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Kartik is Good Full Stact Developer He is Persuing Btech from Svvv Indore"])),(e()(),Fo(9,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Kartik is Good Full Stact Developer He is Persuing Btech from Svvv Indore"])),(e()(),Fo(11,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),Fo(12,0,null,null,1,"button",[["class","btn btn-info btn-sm mt-4 btn-theme"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Back To Home "]))],null,null)}var Lv,Fv=Or("app-terms-and-conditions",Rv,(function(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"app-terms-and-conditions",[],null,null,null,Mv,Dv)),ei(1,114688,null,0,Rv,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),jv=function(){function e(t){_classCallCheck(this,e),this.contactsService=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e,t,n){e.length>0&&t.length>0&&n.length>6?(alert("Form submitted successfully!"),(new Date).getTime(),this.contactsService.addContact(e,t,n),console.log("contact saved successulyy")):alert("message can't be sent "),this.contactForm.resetForm()}}]),e}(),Uv=((Lv=function(){function e(t){_classCallCheck(this,e),this.afs=t}return _createClass(e,[{key:"addContact",value:function(e,t,n){this.afs.collection("contactsForms").add({name:e,email:t,message:n}).then((function(){console.log("Contact Saved Successfully")})).catch((function(e){console.log("Error adding contact:",e)}))}}]),e}()).ngInjectableDef=pe({factory:function(){return new Lv(De(np))},token:Lv,providedIn:"root"}),Lv),Vv=Hn({encapsulation:0,styles:[["header[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:20px}main[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}footer[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px}"]],data:{}});function qv(e){return ta(0,[Bo(671088640,1,{contactForm:0}),(e()(),Fo(1,0,null,null,3,"header",[],null,null,null,null,null)),(e()(),Fo(2,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(e()(),Fo(3,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Contact Us"])),(e()(),Fo(5,0,null,null,58,"main",[],null,null,null,null,null)),(e()(),Fo(6,0,null,null,57,"div",[["class","container"]],null,null,null,null,null)),(e()(),Fo(7,0,null,null,56,"div",[["class","row"]],null,null,null,null,null)),(e()(),Fo(8,0,null,null,12,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),Fo(9,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Get in touch"])),(e()(),Fo(11,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jo(-1,null,["If you have any questions or would like to get in touch, please use the contact form or the details below:"])),(e()(),Fo(13,0,null,null,7,"ul",[["class","list-unstyled"]],null,null,null,null,null)),(e()(),Fo(14,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Fo(15,0,null,null,0,"i",[["class","fa fa-envelope"]],null,null,null,null,null)),(e()(),Fo(16,0,null,null,1,"a",[["href","mailto:kartikpatel1950@gmail.com"]],null,null,null,null,null)),(e()(),Jo(-1,null,["kartikpatel1950@gmail.com"])),(e()(),Fo(18,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),Fo(19,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(e()(),Jo(-1,null,[" +91 7999301948"])),(e()(),Fo(21,0,null,null,42,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),Fo(22,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Contact Form"])),(e()(),Fo(24,0,null,null,39,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,i=e.component;return"submit"===t&&(r=!1!==qr(e,26).onSubmit(n)&&r),"reset"===t&&(r=!1!==qr(e,26).onReset()&&r),"ngSubmit"===t&&(r=!1!==i.onSubmit(qr(e,32).value,qr(e,43).value,qr(e,54).value)&&r),r}),null,null)),ei(25,16384,null,0,cv,[],null,null),ei(26,4210688,[[1,4],["contactForm",4]],0,rv,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ni(2048,null,kp,null,[rv]),ei(28,16384,null,0,Ap,[[4,kp]],null,null),(e()(),Fo(29,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Fo(30,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Name:"])),(e()(),Fo(32,0,[["name",1]],null,7,"input",[["class","form-control"],["id","name"],["name","name"],["ngModel",""],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==qr(e,33)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==qr(e,33).onTouched()&&r),"compositionstart"===t&&(r=!1!==qr(e,33)._compositionStart()&&r),"compositionend"===t&&(r=!1!==qr(e,33)._compositionEnd(n.target.value)&&r),r}),null,null)),ei(33,16384,null,0,wp,[on,Zt,[2,bp]],null,null),ei(34,16384,null,0,hv,[],{required:[0,"required"]},null),ni(1024,null,Op,(function(e){return[e]}),[hv]),ni(1024,null,_p,(function(e){return[e]}),[wp]),ei(37,671744,null,0,lv,[[2,kp],[6,Op],[8,null],[6,_p]],{name:[0,"name"],model:[1,"model"]},null),ni(2048,null,Sp,null,[lv]),ei(39,16384,null,0,Tp,[[4,Sp]],null,null),(e()(),Fo(40,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Fo(41,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Email:"])),(e()(),Fo(43,0,[["email",1]],null,7,"input",[["class","form-control"],["id","email"],["name","email"],["ngModel",""],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==qr(e,44)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==qr(e,44).onTouched()&&r),"compositionstart"===t&&(r=!1!==qr(e,44)._compositionStart()&&r),"compositionend"===t&&(r=!1!==qr(e,44)._compositionEnd(n.target.value)&&r),r}),null,null)),ei(44,16384,null,0,wp,[on,Zt,[2,bp]],null,null),ei(45,16384,null,0,hv,[],{required:[0,"required"]},null),ni(1024,null,Op,(function(e){return[e]}),[hv]),ni(1024,null,_p,(function(e){return[e]}),[wp]),ei(48,671744,null,0,lv,[[2,kp],[6,Op],[8,null],[6,_p]],{name:[0,"name"],model:[1,"model"]},null),ni(2048,null,Sp,null,[lv]),ei(50,16384,null,0,Tp,[[4,Sp]],null,null),(e()(),Fo(51,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Fo(52,0,null,null,1,"label",[["for","message"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Message:"])),(e()(),Fo(54,0,[["message",1]],null,7,"textarea",[["class","form-control"],["id","message"],["name","message"],["ngModel",""],["required",""],["rows","5"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==qr(e,55)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==qr(e,55).onTouched()&&r),"compositionstart"===t&&(r=!1!==qr(e,55)._compositionStart()&&r),"compositionend"===t&&(r=!1!==qr(e,55)._compositionEnd(n.target.value)&&r),r}),null,null)),ei(55,16384,null,0,wp,[on,Zt,[2,bp]],null,null),ei(56,16384,null,0,hv,[],{required:[0,"required"]},null),ni(1024,null,Op,(function(e){return[e]}),[hv]),ni(1024,null,_p,(function(e){return[e]}),[wp]),ei(59,671744,null,0,lv,[[2,kp],[6,Op],[8,null],[6,_p]],{name:[0,"name"],model:[1,"model"]},null),ni(2048,null,Sp,null,[lv]),ei(61,16384,null,0,Tp,[[4,Sp]],null,null),(e()(),Fo(62,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Submit"]))],(function(e,t){e(t,34,0,""),e(t,37,0,"name",""),e(t,45,0,""),e(t,48,0,"email",""),e(t,56,0,""),e(t,59,0,"message","")}),(function(e,t){e(t,24,0,qr(t,28).ngClassUntouched,qr(t,28).ngClassTouched,qr(t,28).ngClassPristine,qr(t,28).ngClassDirty,qr(t,28).ngClassValid,qr(t,28).ngClassInvalid,qr(t,28).ngClassPending),e(t,32,0,qr(t,34).required?"":null,qr(t,39).ngClassUntouched,qr(t,39).ngClassTouched,qr(t,39).ngClassPristine,qr(t,39).ngClassDirty,qr(t,39).ngClassValid,qr(t,39).ngClassInvalid,qr(t,39).ngClassPending),e(t,43,0,qr(t,45).required?"":null,qr(t,50).ngClassUntouched,qr(t,50).ngClassTouched,qr(t,50).ngClassPristine,qr(t,50).ngClassDirty,qr(t,50).ngClassValid,qr(t,50).ngClassInvalid,qr(t,50).ngClassPending),e(t,54,0,qr(t,56).required?"":null,qr(t,61).ngClassUntouched,qr(t,61).ngClassTouched,qr(t,61).ngClassPristine,qr(t,61).ngClassDirty,qr(t,61).ngClassValid,qr(t,61).ngClassInvalid,qr(t,61).ngClassPending)}))}var Bv=Or("app-contact-us",jv,(function(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"app-contact-us",[],null,null,null,qv,Vv)),ei(1,114688,null,0,jv,[Uv],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Hv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),zv=Hn({encapsulation:0,styles:[[""]],data:{}});function Wv(e){return ta(0,[(e()(),Fo(0,0,null,null,15,"section",[["class","mt-5"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,14,"div",[["class","container mt-5 mb-5 p-5 bg-theme"]],null,null,null,null,null)),(e()(),Fo(2,0,null,null,1,"h1",[["class","text-white text-center"]],null,null,null,null,null)),(e()(),Jo(-1,null,["About Us"])),(e()(),Fo(4,0,null,null,8,"div",[["class","p-5 mt-4 bg-secondary-theme text-theme-primary"]],null,null,null,null,null)),(e()(),Fo(5,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Kartik Patel"])),(e()(),Fo(7,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Hi, my name is Kartik Patel and I am a Student currently studying at SVVV University in Indore. I am passionate about technology and have experience working with a variety of programming languages such as Java, Python, C++, and HTML,Anguler. During my time at SVVV, I have had the opportunity to work on a number of exciting software development projects which have helped me to develop a deep understanding of the software development process."])),(e()(),Fo(9,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jo(-1,null,["This is blog Website Project That I Did For Post Knowlegeble Information to You I also Running Java page on Instagram You can Follow that page to get more information about the project "])),(e()(),Fo(11,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Thank you for taking the time to read about me and my background. If you have any questions or would like to learn more about my work, please feel free to reach out to me."])),(e()(),Fo(13,0,null,null,2,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),Fo(14,0,null,null,1,"button",[["class","btn btn-info btn-sm mt-4 btn-theme"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Back To Home "]))],null,null)}var Gv,Kv=Or("app-about-us",Hv,(function(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"app-about-us",[],null,null,null,Wv,zv)),ei(1,114688,null,0,Hv,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Qv=function(){function e(t){_classCallCheck(this,e),this.categoryService=t,this.categoryArrays=[],this.isCollapsed=!1,this.isDarkMode=!1}return _createClass(e,[{key:"toggleNavbar",value:function(){this.isCollapsed=!this.isCollapsed}},{key:"ngOnInit",value:function(){var e=this;this.categoryService.loadDatas().subscribe((function(t){e.categoryArrays=t}))}},{key:"toggleDarkMode",value:function(){this.isDarkMode=!this.isDarkMode,document.querySelector("body").classList.toggle("dark-mode",this.isDarkMode)}}]),e}(),Yv=((Gv=function(){function e(t){_classCallCheck(this,e),this.afs=t}return _createClass(e,[{key:"loadDatas",value:function(){return this.afs.collection("categories").snapshotChanges().pipe(z((function(e){return e.map((function(e){var t=e.payload.doc.data();return{id:e.payload.doc.id,data:t}}))})))}}]),e}()).ngInjectableDef=pe({factory:function(){return new Gv(De(np))},token:Gv,providedIn:"root"}),Gv),Xv=Hn({encapsulation:0,styles:[["nav[_ngcontent-%COMP%]{margin-top:50px;height:auto;background-color:var(--navbor-footer-color);padding:20px}li[_ngcontent-%COMP%]{margin:auto}.nav-link[_ngcontent-%COMP%]{text-transform:uppercase}p[_ngcontent-%COMP%]{font-family:Lato}.custom-control-label[_ngcontent-%COMP%]::before{background-color:#fff}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]::before, .custom-control-label[_ngcontent-%COMP%]::after{background-color:#343a40}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]::after{background-color:#fff}dark-mode[_ngcontent-%COMP%]{background-color:#091109;color:#fff}"]],data:{}});function $v(e){return ta(0,[(e()(),Fo(0,0,null,null,6,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,5,"h6",[],null,null,null,null,null)),(e()(),Fo(2,0,null,null,4,"li",[["class","nav-item ml-1"]],null,null,null,null,null)),(e()(),Fo(3,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==qr(e,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ei(4,671744,null,0,Ef,[Cf,fh,hs],{routerLink:[0,"routerLink"]},null),Yo(5,3),(e()(),Jo(6,null,[" "," "]))],(function(e,t){var n=e(t,5,0,"/category",t.context.$implicit.data.category,t.context.$implicit.id);e(t,4,0,n)}),(function(e,t){e(t,3,0,qr(t,4).target,qr(t,4).href),e(t,6,0,t.context.$implicit.data.category)}))}function Jv(e){return ta(0,[(e()(),Fo(0,0,null,null,13,"nav",[["class","navbar navbar-expand-sm navbar-dark bg-dark  mb-1 fixed-top"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,0,"a",[["class","navbar-brand"],["href","/"]],null,null,null,null,null)),(e()(),Fo(2,0,null,null,3,"div",[["class","custom-control custom-switch  col-md-1"]],null,null,null,null,null)),(e()(),Fo(3,0,null,null,0,"input",[["class","custom-control-input"],["id","customSwitch1"],["type","checkbox"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.toggleDarkMode()&&r),r}),null,null)),(e()(),Fo(4,0,null,null,1,"label",[["class","custom-control-label"],["for","customSwitch1"]],null,null,null,null,null)),(e()(),Jo(-1,null,["dark mode"])),(e()(),Fo(6,0,null,null,1,"button",[["aria-controls","navbarSupportedContent"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarSupportedContent"],["data-toggle","collapse"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.toggleNavbar()&&r),r}),null,null)),(e()(),Fo(7,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(e()(),Fo(8,0,null,null,5,"div",[["class","collapse navbar-collapse"],["id","navbarSupportedContent"]],null,null,null,null,null)),ni(512,null,Ks,Qs,[_n,bn,Zt,on]),ei(10,278528,null,0,Ys,[Ks],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(11,{show:0}),(e()(),Lo(16777216,null,null,1,null,$v)),ei(13,278528,null,0,$s,[In,En,_n],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component,r=e(t,11,0,n.isCollapsed);e(t,10,0,"collapse navbar-collapse",r),e(t,13,0,n.categoryArrays)}),null)}var Zv=Or("app-category-navbar",Qv,(function(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"app-category-navbar",[],null,null,null,Jv,Xv)),ei(1,114688,null,0,Qv,[Yv],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),eg=function(){function e(t){_classCallCheck(this,e),this.categoryService=t,this.categoryArrays=[],this.instagramLink="https://www.instagram.com/java_core_tricks/",this.githubLink="https://github.com/kartikpatel231",this.linkedinLink="https://www.linkedin.com/in/kartik-patel-27b3731bb/"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.categoryService.loadDatas().subscribe((function(t){e.categoryArrays=t}))}}]),e}(),tg=Hn({encapsulation:0,styles:[["header[_ngcontent-%COMP%]{height:70px}.site-logo[_ngcontent-%COMP%]{font-size:1.5em}.fa-github[_ngcontent-%COMP%], .fa-instagram[_ngcontent-%COMP%], .fa-linkedin[_ngcontent-%COMP%]{color:#fff}.card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;background-color:#333;padding:10px;border-radius:50%}.card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#555}"]],data:{}});function ng(e){return ta(0,[(e()(),Fo(0,0,null,null,18,"header",[["class","navbar navbar-expand-lg fixed-top bg-white"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,17,"div",[["class","container justify-content-center"]],null,null,null,null,null)),(e()(),Fo(2,0,null,null,2,"a",[["class","site-logo"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==qr(e,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ei(3,671744,null,0,Ef,[Cf,fh,hs],{routerLink:[0,"routerLink"]},null),(e()(),Jo(-1,null,["My-Blog"])),(e()(),Fo(5,0,null,null,13,"div",[["class","row cursor-pointer  site-logo"]],null,null,null,null,null)),(e()(),Fo(6,0,null,null,4,"h6",[],null,null,null,null,null)),(e()(),Fo(7,0,null,null,3,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),Jo(-1,null,["Instagram ."])),(e()(),Fo(9,0,null,null,0,"i",[["class","fa fa-instagram"]],null,null,null,null,null)),(e()(),Fo(10,0,null,null,0,"span",[["class","instagram-icon"]],null,null,null,null,null)),(e()(),Fo(11,0,null,null,3,"h6",[],null,null,null,null,null)),(e()(),Fo(12,0,null,null,2,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),Jo(-1,null,["GitHub ."])),(e()(),Fo(14,0,null,null,0,"i",[["class","fa fa-github"]],null,null,null,null,null)),(e()(),Fo(15,0,null,null,3,"h6",[],null,null,null,null,null)),(e()(),Fo(16,0,null,null,2,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),Jo(-1,null,["LinkedIn "])),(e()(),Fo(18,0,null,null,0,"i",[["class","fa fa-linkedin"]],null,null,null,null,null))],(function(e,t){e(t,3,0,"/")}),(function(e,t){var n=t.component;e(t,2,0,qr(t,3).target,qr(t,3).href),e(t,7,0,yr(1,"",n.instagramLink,"")),e(t,12,0,yr(1,"",n.githubLink,"")),e(t,16,0,yr(1,"",n.linkedinLink,""))}))}var rg,ig=function(){function e(t){_classCallCheck(this,e),this.subService=t,this.isEmailError=!1,this.isSubscribed=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(e){var t=this,n={name:e.name,email:e.email};this.subService.checkSubs(n.email).subscribe((function(e){console.log(e),e.empty?(t.subService.addSubs(n),t.isSubscribed=!0):(t.isEmailError=!0,console.log("email is already in use"))}))}}]),e}(),og=((rg=function(){function e(t){_classCallCheck(this,e),this.afs=t}return _createClass(e,[{key:"addSubs",value:function(e){this.afs.collection("subscribers").add(e).then((function(){console.log("Subscriber Saved Successfully")}))}},{key:"checkSubs",value:function(e){return this.afs.collection("subsribers",(function(t){return t.where("email","==",e)})).get()}}]),e}()).ngInjectableDef=pe({factory:function(){return new rg(De(np))},token:rg,providedIn:"root"}),rg),ag=Hn({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{background-color:var(--secondary-color);width:800px;margin:auto}input[type=email][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:30%}.sub-text[_ngcontent-%COMP%]{width:900px}.login-form[_ngcontent-%COMP%]{max-width:400px;margin:auto;padding:20px;background-color:#f7f7f7;border-radius:10px;box-shadow:0 0 20px rgba(0,0,0,.1)}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;background-color:#f7f7f7;margin-bottom:8px}.login-form[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;box-sizing:border-box;border:none;border-radius:4px;background-color:#f0f0f0}.login-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:12px 20px;border:none;border-radius:4px;cursor:pointer;width:100%}@media screen and (max-width:480px){.login-form[_ngcontent-%COMP%]{max-width:100%}}"]],data:{}});function sg(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"div",[["class","alert alert-danger mt-3"]],null,null,null,null,null)),(e()(),Jo(-1,null,[" Email is Aleardy in use "]))],null,null)}function ug(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"div",[["class","alert alert-danger mt-3"]],null,null,null,null,null)),(e()(),Jo(-1,null,[" Thank You for subscribing to our news letter service.Stay tuned for Awesome blog posts...! "]))],null,null)}function lg(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Name is Required"]))],null,null)}function cg(e){return ta(0,[(e()(),Fo(0,0,null,null,2,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),Lo(16777216,null,null,1,null,lg)),ei(2,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,null==qr(t.parent,16).errors?null:qr(t.parent,16).errors.required)}),null)}function hg(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Email is Required"]))],null,null)}function fg(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Jo(-1,null,["Please Enter A Valid Email Address"]))],null,null)}function dg(e){return ta(0,[(e()(),Fo(0,0,null,null,4,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),Lo(16777216,null,null,1,null,hg)),ei(2,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null),(e()(),Lo(16777216,null,null,1,null,fg)),ei(4,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,null==qr(t.parent,33).errors?null:qr(t.parent,33).errors.required),e(t,4,0,null==qr(t.parent,33).errors?null:qr(t.parent,33).errors.email)}),null)}function pg(e){return ta(0,[(e()(),Fo(0,0,null,null,40,"form",[["class","form-inline mb-5 mt-5 "],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,i=e.component;return"submit"===t&&(r=!1!==qr(e,2).onSubmit(n)&&r),"reset"===t&&(r=!1!==qr(e,2).onReset()&&r),"ngSubmit"===t&&(r=!1!==i.onSubmit(qr(e,2).value)&&r),r}),null,null)),ei(1,16384,null,0,cv,[],null,null),ei(2,4210688,[["subForm",4]],0,rv,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),ni(2048,null,kp,null,[rv]),ei(4,16384,null,0,Ap,[[4,kp]],null,null),(e()(),Fo(5,0,null,null,15,"div",[["class","form-group  col-md-5 text-secondary"]],null,null,null,null,null)),(e()(),Fo(6,0,null,null,1,"label",[["for","username"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Username:"])),(e()(),Fo(8,0,null,null,10,"input",[["class","from-control "],["name","name"],["ngModel",""],["placeholder","Your name"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==qr(e,12)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==qr(e,12).onTouched()&&r),"compositionstart"===t&&(r=!1!==qr(e,12)._compositionStart()&&r),"compositionend"===t&&(r=!1!==qr(e,12)._compositionEnd(n.target.value)&&r),r}),null,null)),ni(512,null,Ks,Qs,[_n,bn,Zt,on]),ei(10,278528,null,0,Ys,[Ks],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(11,{"is-invalid":0}),ei(12,16384,null,0,wp,[on,Zt,[2,bp]],null,null),ei(13,16384,null,0,hv,[],{required:[0,"required"]},null),ni(1024,null,Op,(function(e){return[e]}),[hv]),ni(1024,null,_p,(function(e){return[e]}),[wp]),ei(16,671744,[["Name",4]],0,lv,[[2,kp],[6,Op],[8,null],[6,_p]],{name:[0,"name"],model:[1,"model"]},null),ni(2048,null,Sp,null,[lv]),ei(18,16384,null,0,Tp,[[4,Sp]],null,null),(e()(),Lo(16777216,null,null,1,null,cg)),ei(20,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null),(e()(),Fo(21,0,null,null,16,"div",[["class","form-group col-md-5  text-secondary"]],null,null,null,null,null)),(e()(),Fo(22,0,null,null,1,"label",[["for","username"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Useremail:"])),(e()(),Fo(24,0,null,null,11,"input",[["class","from-control "],["email",""],["name","email"],["ngModel",""],["placeholder","Your email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==qr(e,28)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==qr(e,28).onTouched()&&r),"compositionstart"===t&&(r=!1!==qr(e,28)._compositionStart()&&r),"compositionend"===t&&(r=!1!==qr(e,28)._compositionEnd(n.target.value)&&r),r}),null,null)),ni(512,null,Ks,Qs,[_n,bn,Zt,on]),ei(26,278528,null,0,Ys,[Ks],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xo(27,{"is-invalid":0}),ei(28,16384,null,0,wp,[on,Zt,[2,bp]],null,null),ei(29,16384,null,0,hv,[],{required:[0,"required"]},null),ei(30,16384,null,0,fv,[],{email:[0,"email"]},null),ni(1024,null,Op,(function(e,t){return[e,t]}),[hv,fv]),ni(1024,null,_p,(function(e){return[e]}),[wp]),ei(33,671744,[["Email",4]],0,lv,[[2,kp],[6,Op],[8,null],[6,_p]],{name:[0,"name"],model:[1,"model"]},null),ni(2048,null,Sp,null,[lv]),ei(35,16384,null,0,Tp,[[4,Sp]],null,null),(e()(),Lo(16777216,null,null,1,null,dg)),ei(37,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null),(e()(),Fo(38,0,null,null,2,"div",[["class","col-md-2"]],null,null,null,null,null)),(e()(),Fo(39,0,null,null,1,"button",[["class","btn btn-info btn-block btn-theme"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Jo(-1,null,["SUBSCRIBE"]))],(function(e,t){var n=e(t,11,0,qr(t,16).touched&&qr(t,16).invalid);e(t,10,0,"from-control ",n),e(t,13,0,""),e(t,16,0,"name",""),e(t,20,0,qr(t,16).touched&&qr(t,16).invalid);var r=e(t,27,0,qr(t,33).touched&&qr(t,33).invalid);e(t,26,0,"from-control ",r),e(t,29,0,""),e(t,30,0,""),e(t,33,0,"email",""),e(t,37,0,qr(t,33).touched&&qr(t,33).invalid)}),(function(e,t){e(t,0,0,qr(t,4).ngClassUntouched,qr(t,4).ngClassTouched,qr(t,4).ngClassPristine,qr(t,4).ngClassDirty,qr(t,4).ngClassValid,qr(t,4).ngClassInvalid,qr(t,4).ngClassPending),e(t,8,0,qr(t,13).required?"":null,qr(t,18).ngClassUntouched,qr(t,18).ngClassTouched,qr(t,18).ngClassPristine,qr(t,18).ngClassDirty,qr(t,18).ngClassValid,qr(t,18).ngClassInvalid,qr(t,18).ngClassPending),e(t,24,0,qr(t,29).required?"":null,qr(t,35).ngClassUntouched,qr(t,35).ngClassTouched,qr(t,35).ngClassPristine,qr(t,35).ngClassDirty,qr(t,35).ngClassValid,qr(t,35).ngClassInvalid,qr(t,35).ngClassPending),e(t,39,0,qr(t,2).invalid)}))}function vg(e){return ta(0,[(e()(),Fo(0,0,null,null,12,"div",[["class","card shadow-effect"]],null,null,null,null,null)),(e()(),Fo(1,0,null,null,11,"div",[["class","card shadow-effect"]],null,null,null,null,null)),(e()(),Fo(2,0,null,null,10,"div",[["class","text-center mt-3 mb-5 text-secondary"]],null,null,null,null,null)),(e()(),Fo(3,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Jo(-1,null,["SUBSCRIPTION FORM"])),(e()(),Fo(5,0,null,null,1,"p",[["class","m-auto text-warning"]],null,null,null,null,null)),(e()(),Jo(-1,null,[" Featured post comming soon...."])),(e()(),Lo(16777216,null,null,1,null,sg)),ei(8,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null),(e()(),Lo(16777216,null,null,1,null,ug)),ei(10,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null),(e()(),Lo(16777216,null,null,1,null,pg)),ei(12,16384,null,0,Zs,[In,En],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,8,0,n.isEmailError),e(t,10,0,n.isSubscribed),e(t,12,0,!n.isSubscribed)}),null)}var gg=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),yg=Hn({encapsulation:0,styles:[["footer[_ngcontent-%COMP%]{height:130px;padding:15px;background-color:var(--navbor-footer-color)}.site-logo[_ngcontent-%COMP%]{font-size:1.2em}"]],data:{}});function mg(e){return ta(0,[(e()(),Fo(0,0,null,null,25,"footer",[],null,null,null,null,null)),(e()(),Fo(1,0,null,null,24,"div",[["class","container"]],null,null,null,null,null)),(e()(),Fo(2,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),Fo(3,0,null,null,22,"div",[["class","col-md-12 text-center"]],null,null,null,null,null)),(e()(),Fo(4,0,null,null,1,"div",[["class","site-logo"]],null,null,null,null,null)),(e()(),Jo(-1,null,["My-Blog"])),(e()(),Fo(6,0,null,null,17,"div",[],null,null,null,null,null)),(e()(),Fo(7,0,null,null,16,"ul",[["class","nav justify-content-center"]],null,null,null,null,null)),(e()(),Fo(8,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),Fo(9,0,null,null,2,"a",[["class","nav-link"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==qr(e,10).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ei(10,671744,null,0,Ef,[Cf,fh,hs],{routerLink:[0,"routerLink"]},null),(e()(),Jo(-1,null,["Home"])),(e()(),Fo(12,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),Fo(13,0,null,null,2,"a",[["class","nav-link"],["routerLink","/about"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==qr(e,14).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ei(14,671744,null,0,Ef,[Cf,fh,hs],{routerLink:[0,"routerLink"]},null),(e()(),Jo(-1,null,["About-Us"])),(e()(),Fo(16,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),Fo(17,0,null,null,2,"a",[["class","nav-link"],["routerLink","/about"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==qr(e,18).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ei(18,671744,null,0,Ef,[Cf,fh,hs],{routerLink:[0,"routerLink"]},null),(e()(),Jo(-1,null,["Term&Conditions"])),(e()(),Fo(20,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),Fo(21,0,null,null,2,"a",[["class","nav-link"],["routerLink","/contactUs"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==qr(e,22).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),ei(22,671744,null,0,Ef,[Cf,fh,hs],{routerLink:[0,"routerLink"]},null),(e()(),Jo(-1,null,["Contact-Us"])),(e()(),Fo(24,0,null,null,1,"p",[["class","mb-2 mt-2 text-secondary"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Copyright \xa9 2023 Kartik Blogsite"]))],(function(e,t){e(t,10,0,"/"),e(t,14,0,"/about"),e(t,18,0,"/about"),e(t,22,0,"/contactUs")}),(function(e,t){e(t,9,0,qr(t,10).target,qr(t,10).href),e(t,13,0,qr(t,14).target,qr(t,14).href),e(t,17,0,qr(t,18).target,qr(t,18).href),e(t,21,0,qr(t,22).target,qr(t,22).href)}))}var _g=Hn({encapsulation:0,styles:[[".app-body[_ngcontent-%COMP%]{margin-top:140px;min-height:55vh}"]],data:{}});function bg(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"h1",[["class","text-primary"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Angular blog website"])),(e()(),Fo(2,0,null,null,1,"app-headers",[],null,null,null,ng,tg)),ei(3,114688,null,0,eg,[Yv],null,null),(e()(),Fo(4,0,null,null,1,"app-category-navbar",[],null,null,null,Jv,Xv)),ei(5,114688,null,0,Qv,[Yv],null,null),(e()(),Fo(6,0,null,null,4,"div",[["class","app-body"]],null,null,null,null,null)),(e()(),Fo(7,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ei(8,212992,null,0,Af,[Tf,In,Yt,[8,null],Ct],null,null),(e()(),Fo(9,0,null,null,1,"app-dark-mode",[],null,null,null,hp,cp)),ei(10,114688,null,0,lp,[],null,null),(e()(),Fo(11,0,null,null,7,"div",[["class","container mt-5 mb-5"]],null,null,null,null,null)),(e()(),Fo(12,0,null,null,6,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(e()(),Fo(13,0,null,null,1,"app-subscription-form",[],null,null,null,vg,ag)),ei(14,114688,null,0,ig,[og],null,null),(e()(),Fo(15,0,null,null,3,"button",[["class","btn btn-secondary rounded-circle scroll-to-top"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.scrollToTop()&&r),r}),null,null)),(e()(),Fo(16,0,null,null,1,"h4",[["text-color","red"]],null,null,null,null,null)),(e()(),Jo(-1,null,["Top"])),(e()(),Fo(18,0,null,null,0,"i",[["class","fas fa-angle-up"]],null,null,null,null,null)),(e()(),Fo(19,0,null,null,1,"app-footers",[],null,null,null,mg,yg)),ei(20,114688,null,0,gg,[],null,null)],(function(e,t){e(t,3,0),e(t,5,0),e(t,8,0),e(t,10,0),e(t,14,0),e(t,20,0)}),null)}var wg=Or("app-root",us,(function(e){return ta(0,[(e()(),Fo(0,0,null,null,1,"app-root",[],null,[["window","scroll"]],(function(e,t,n){var r=!0;return"window:scroll"===t&&(r=!1!==qr(e,1).onWindowScroll(n)&&r),r}),bg,_g)),ei(1,49152,null,0,us,[],null,null)],null,null)}),{},{},[]);try{"undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Bg){!1}var Cg=_createClass((function e(){_classCallCheck(this,e)})),kg=new Te("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Eg=function(){function e(t,n){_classCallCheck(this,e),this._sanityChecksEnabled=t,this._hammerLoader=n,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return _createClass(e,[{key:"_areChecksEnabled",value:function(){return this._sanityChecksEnabled&&Ke()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var e=this._window;return e&&(e.__karma__||e.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);var t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}}},{key:"_checkHammerIsAvailable",value:function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}]),e}();try{"undefined"!=typeof Intl}catch(Bg){!1}var Sg,Ig=new Te("MAT_HAMMER_OPTIONS"),Tg=["longpress","slide","slidestart","slideend","slideright","slideleft"],Ag={on:function(){},off:function(){}},Ng=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._hammerOptions=e,i.events=Tg,r&&r._checkHammerIsAvailable(),i}return _createClass(n,[{key:"buildHammer",value:function(e){var t="undefined"!=typeof window?window.Hammer:null;if(!t)return Ag;var n=new t(e,this._hammerOptions||void 0),r=new t.Pan,i=new t.Swipe,o=new t.Press,a=this._createRecognizer(r,{event:"slide",threshold:0},i),s=this._createRecognizer(o,{event:"longpress",time:500});return r.recognizeWith(i),s.recognizeWith(a),n.add([i,o,r,a,s]),n}},{key:"_createRecognizer",value:function(e,t){for(var n=new e.constructor(t),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return i.push(e),i.forEach((function(e){return n.recognizeWith(e)})),n}}]),n}(function(){function e(){_classCallCheck(this,e),this.events=[],this.overrides={}}return _createClass(e,[{key:"buildHammer",value:function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t}}]),e}()),Og=_createClass((function e(){_classCallCheck(this,e)}));n("6Joi");var xg,Pg=Sg=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"enablePersistence",value:function(e){return{ngModule:Sg,providers:[{provide:Yd,useValue:!0},{provide:Xd,useValue:e}]}}}]),e}(),Rg=((xg=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}]),e}()).ngInjectableDef=ve({factory:function(){return new xg},token:xg,providedIn:"root"}),xg),Dg=_createClass((function e(){_classCallCheck(this,e)})),Mg=_createClass((function e(){_classCallCheck(this,e)})),Lg=_createClass((function e(){_classCallCheck(this,e)})),Fg=_createClass((function e(){_classCallCheck(this,e)})),jg=_createClass((function e(){_classCallCheck(this,e)})),Ug=_createClass((function e(){_classCallCheck(this,e)})),Vg=_createClass((function e(){_classCallCheck(this,e)})),qg=new as(ss,[us],(function(e){return function(e){for(var t={},n=[],r=!1,i=0;i<e.length;i++){var o=e[i];o.token===Et&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[qn(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([kr(512,Yt,Xt,[[8,[Jf,up,fp,yp,Pv,Fv,Bv,Kv,id,Zv,wg]],[3,Yt],Fe]),kr(5120,Mi,Ro,[[3,Mi]]),kr(4608,Ws,Gs,[Mi,[2,zs]]),kr(5120,yi,Do,[Ji]),kr(5120,Ai,Ni,[]),kr(5120,_n,xo,[]),kr(5120,bn,Po,[]),kr(4608,Yl,Xl,[iu]),kr(6144,gt,null,[Yl]),kr(4608,Hl,Ng,[[2,Ig],[2,Eg]]),kr(5120,ml,(function(e,t,n,r,i,o,a,s){return[new ql(e,t,n),new Ql(r),new Wl(i,o,a,s)]}),[iu,Ji,Pi,iu,iu,Hl,Di,[2,zl]]),kr(4608,_l,_l,[ml,Ji]),kr(135680,Cl,Cl,[iu]),kr(4608,Tl,Tl,[_l,Cl,Ai]),kr(6144,nn,null,[Tl]),kr(6144,wl,null,[Cl]),kr(4608,ao,ao,[Ji]),kr(5120,fh,Wf,[Cf]),kr(4608,Pf,Pf,[]),kr(6144,Of,null,[Pf]),kr(135680,Rf,Rf,[Cf,_o,Hi,It,Of]),kr(4608,xf,xf,[]),kr(5120,Df,Vf,[Cf,su,Mf]),kr(5120,Yf,Qf,[Gf]),kr(5120,Ri,(function(e){return[e]}),[Yf]),kr(5120,Wd,Kd,[qd,Ji,[2,Bd]]),kr(4608,np,np,[qd,[2,Bd],[2,Yd],[2,$d],Pi,Ji,[2,Xd]]),kr(4608,jp,jp,[]),kr(4608,Rg,Rg,[]),kr(1073742336,ru,ru,[]),kr(1024,Ge,ic,[]),kr(1024,co,(function(){return[jf()]}),[]),kr(512,Gf,Gf,[It]),kr(1024,Ii,(function(e,t){return[(n=e,vl("probe",yl),vl("coreTokens",Object.assign({},gl,(n||[]).reduce((function(e,t){return e[t.name]=t.token,e}),{}))),function(){return yl}),Kf(t)];var n}),[[2,co],Gf]),kr(512,Ti,Ti,[[2,Ii]]),kr(131584,yo,yo,[Ji,Di,It,Ge,Yt,Ti]),kr(1073742336,Mo,Mo,[yo]),kr(1073742336,oc,oc,[[3,oc]]),kr(1024,Lf,Bf,[[3,Cf]]),kr(512,zc,Wc,[]),kr(512,Tf,Tf,[]),kr(256,Mf,{},[]),kr(1024,hs,qf,[ls,[2,fs],Mf]),kr(512,ds,ds,[hs,ls]),kr(512,Hi,Hi,[]),kr(512,_o,Co,[Hi,[2,bo]]),kr(1024,vf,(function(){return[[{path:"",component:od},{path:"dark",component:lp},{path:"category/:category/:id",component:dp},{path:"post/:id",component:Tv},{path:"terms-conditions",component:Rv},{path:"contact",component:jv},{path:"about",component:Hv},{path:"posts/:id",component:Zf},{path:"category",component:Qv},{path:"contactUs",component:jv}]]}),[]),kr(1024,Cf,zf,[yo,zc,Tf,ds,It,_o,Hi,vf,Mf,[2,yf],[2,df]]),kr(1073742336,Uf,Uf,[[2,Lf],[2,Cf]]),kr(1073742336,Mg,Mg,[]),kr(1073742336,Qd,Qd,[Pi]),kr(1073742336,Pg,Pg,[]),kr(1073742336,dv,dv,[]),kr(1073742336,pv,pv,[]),kr(1073742336,Lg,Lg,[]),kr(1073742336,Eg,Eg,[[2,kg],[2,zl]]),kr(1073742336,Cg,Cg,[]),kr(1073742336,Og,Og,[]),kr(1073742336,Dg,Dg,[]),kr(1073742336,Fg,Fg,[]),kr(1073742336,jg,jg,[]),kr(1073742336,Ug,Ug,[]),kr(1073742336,Vg,Vg,[]),kr(1073742336,ss,ss,[]),kr(256,Et,!0,[]),kr(256,qd,{apiKey:"AIzaSyCeVFKKnvIcJOtpJwe4yj3Q3uZ73b2YOoc",authDomain:"my-blog-2194a.firebaseapp.com",projectId:"my-blog-2194a",storageBucket:"my-blog-2194a.appspot.com",messagingSenderId:"735978478891",appId:"1:735978478891:web:184b8742a958775a3c396e"},[]),kr(256,Bd,void 0,[])])}));rc().bootstrapModuleFactory(qg).catch((function(e){return console.error(e)}))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=(15&s)<<2|l>>6,h=63&l;u||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=c(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}var p=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(t,e),t}(Error),v=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?g(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new p(i,s),l=0,c=Object.keys(r);l<c.length;l++){var h=c[l];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}();function g(e,t){return e.replace(y,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function m(e){return JSON.parse(e)}var _=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=m(l(o[0])||""),n=m(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^s&(u^l),o=1518500249):(i=s^u^l,o=1859775393):r<60?(i=s&u|l&(s|u),o=2400959708):(i=s^u^l,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=l,l=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),w=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function C(){}function k(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=v,t.FirebaseError=p,t.MAX_VALUE_MILLIS=144e5,t.RANDOM_FACTOR=.5,t.Sha1=b,t.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=l,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.calculateBackoffMillis=function(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new w(e,t);return n.subscribe.bind(n)},t.decode=_,t.deepCopy=function(e){return c(void 0,e)},t.deepExtend=c,t.errorPrefix=k,t.getUA=f,t.isAdmin=function(e){var t=_(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return f().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},t.isNode=d,t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return f().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=_(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=_(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=_(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=m,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(k(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(k(e,t,r)+"must be a valid context object.")},t.validateIndexedDBOpenable=function(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(k(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);